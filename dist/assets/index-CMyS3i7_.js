(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function jc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function QD(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var Cv={exports:{}},Fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR;function eL(){if(zR)return Fu;zR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:a,ref:r!==void 0?r:null,props:s}}return Fu.Fragment=e,Fu.jsx=n,Fu.jsxs=n,Fu}var HR;function tL(){return HR||(HR=1,Cv.exports=eL()),Cv.exports}var R=tL(),Tv={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR;function nL(){if(BR)return $e;BR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=p&&L[p]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function x(L,J,ne){this.props=L,this.context=J,this.refs=w,this.updater=ne||b}x.prototype.isReactComponent={},x.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function E(){}E.prototype=x.prototype;function C(L,J,ne){this.props=L,this.context=J,this.refs=w,this.updater=ne||b}var D=C.prototype=new E;D.constructor=C,_(D,x.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function N(){}var I={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function j(L,J,ne){var ie=ne.ref;return{$$typeof:t,type:L,key:J,ref:ie!==void 0?ie:null,props:ne}}function H(L,J){return j(L.type,J,L.props)}function $(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function G(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ne){return J[ne]})}var se=/\/+/g;function pe(L,J){return typeof L=="object"&&L!==null&&L.key!=null?G(""+L.key):J.toString(36)}function ve(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,J,ne,ie,he){var ge=typeof L;(ge==="undefined"||ge==="boolean")&&(L=null);var Re=!1;if(L===null)Re=!0;else switch(ge){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(L.$$typeof){case t:case e:Re=!0;break;case h:return Re=L._init,B(Re(L._payload),J,ne,ie,he)}}if(Re)return he=he(L),Re=ie===""?"."+pe(L,0):ie,O(he)?(ne="",Re!=null&&(ne=Re.replace(se,"$&/")+"/"),B(he,J,ne,"",function(Xe){return Xe})):he!=null&&($(he)&&(he=H(he,ne+(he.key==null||L&&L.key===he.key?"":(""+he.key).replace(se,"$&/")+"/")+Re)),J.push(he)),1;Re=0;var Se=ie===""?".":ie+":";if(O(L))for(var ke=0;ke<L.length;ke++)ie=L[ke],ge=Se+pe(ie,ke),Re+=B(ie,J,ne,ge,he);else if(ke=y(L),typeof ke=="function")for(L=ke.call(L),ke=0;!(ie=L.next()).done;)ie=ie.value,ge=Se+pe(ie,ke++),Re+=B(ie,J,ne,ge,he);else if(ge==="object"){if(typeof L.then=="function")return B(ve(L),J,ne,ie,he);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Re}function X(L,J,ne){if(L==null)return L;var ie=[],he=0;return B(L,ie,"","",function(ge){return J.call(ne,ge,he++)}),ie}function me(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(ne){(L._status===0||L._status===-1)&&(L._status=1,L._result=ne)},function(ne){(L._status===0||L._status===-1)&&(L._status=2,L._result=ne)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var ae=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},be={map:X,forEach:function(L,J,ne){X(L,function(){J.apply(this,arguments)},ne)},count:function(L){var J=0;return X(L,function(){J++}),J},toArray:function(L){return X(L,function(J){return J})||[]},only:function(L){if(!$(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return $e.Activity=m,$e.Children=be,$e.Component=x,$e.Fragment=n,$e.Profiler=r,$e.PureComponent=C,$e.StrictMode=i,$e.Suspense=u,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,$e.__COMPILER_RUNTIME={__proto__:null,c:function(L){return I.H.useMemoCache(L)}},$e.cache=function(L){return function(){return L.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(L,J,ne){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ie=_({},L.props),he=L.key;if(J!=null)for(ge in J.key!==void 0&&(he=""+J.key),J)!k.call(J,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&J.ref===void 0||(ie[ge]=J[ge]);var ge=arguments.length-2;if(ge===1)ie.children=ne;else if(1<ge){for(var Re=Array(ge),Se=0;Se<ge;Se++)Re[Se]=arguments[Se+2];ie.children=Re}return j(L.type,he,ie)},$e.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},$e.createElement=function(L,J,ne){var ie,he={},ge=null;if(J!=null)for(ie in J.key!==void 0&&(ge=""+J.key),J)k.call(J,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(he[ie]=J[ie]);var Re=arguments.length-2;if(Re===1)he.children=ne;else if(1<Re){for(var Se=Array(Re),ke=0;ke<Re;ke++)Se[ke]=arguments[ke+2];he.children=Se}if(L&&L.defaultProps)for(ie in Re=L.defaultProps,Re)he[ie]===void 0&&(he[ie]=Re[ie]);return j(L,ge,he)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(L){return{$$typeof:l,render:L}},$e.isValidElement=$,$e.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:me}},$e.memo=function(L,J){return{$$typeof:d,type:L,compare:J===void 0?null:J}},$e.startTransition=function(L){var J=I.T,ne={};I.T=ne;try{var ie=L(),he=I.S;he!==null&&he(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(N,ae)}catch(ge){ae(ge)}finally{J!==null&&ne.types!==null&&(J.types=ne.types),I.T=J}},$e.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},$e.use=function(L){return I.H.use(L)},$e.useActionState=function(L,J,ne){return I.H.useActionState(L,J,ne)},$e.useCallback=function(L,J){return I.H.useCallback(L,J)},$e.useContext=function(L){return I.H.useContext(L)},$e.useDebugValue=function(){},$e.useDeferredValue=function(L,J){return I.H.useDeferredValue(L,J)},$e.useEffect=function(L,J){return I.H.useEffect(L,J)},$e.useEffectEvent=function(L){return I.H.useEffectEvent(L)},$e.useId=function(){return I.H.useId()},$e.useImperativeHandle=function(L,J,ne){return I.H.useImperativeHandle(L,J,ne)},$e.useInsertionEffect=function(L,J){return I.H.useInsertionEffect(L,J)},$e.useLayoutEffect=function(L,J){return I.H.useLayoutEffect(L,J)},$e.useMemo=function(L,J){return I.H.useMemo(L,J)},$e.useOptimistic=function(L,J){return I.H.useOptimistic(L,J)},$e.useReducer=function(L,J,ne){return I.H.useReducer(L,J,ne)},$e.useRef=function(L){return I.H.useRef(L)},$e.useState=function(L){return I.H.useState(L)},$e.useSyncExternalStore=function(L,J,ne){return I.H.useSyncExternalStore(L,J,ne)},$e.useTransition=function(){return I.H.useTransition()},$e.version="19.2.0",$e}var $R;function Zd(){return $R||($R=1,Tv.exports=nL()),Tv.exports}var A=Zd();const re=jc(A);var Av={exports:{}},Uu={},Ov={exports:{}},Dv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function iL(){return VR||(VR=1,(function(t){function e(B,X){var me=B.length;B.push(X);e:for(;0<me;){var ae=me-1>>>1,be=B[ae];if(0<r(be,X))B[ae]=X,B[me]=be,me=ae;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],me=B.pop();if(me!==X){B[0]=me;e:for(var ae=0,be=B.length,L=be>>>1;ae<L;){var J=2*(ae+1)-1,ne=B[J],ie=J+1,he=B[ie];if(0>r(ne,me))ie<be&&0>r(he,ne)?(B[ae]=he,B[ie]=me,ae=ie):(B[ae]=ne,B[J]=me,ae=J);else if(ie<be&&0>r(he,me))B[ae]=he,B[ie]=me,ae=ie;else break e}}return X}function r(B,X){var me=B.sortIndex-X.sortIndex;return me!==0?me:B.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,m=null,p=3,y=!1,b=!1,_=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var X=n(d);X!==null;){if(X.callback===null)i(d);else if(X.startTime<=B)i(d),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(d)}}function O(B){if(_=!1,D(B),!b)if(n(u)!==null)b=!0,N||(N=!0,G());else{var X=n(d);X!==null&&ve(O,X.startTime-B)}}var N=!1,I=-1,k=5,j=-1;function H(){return w?!0:!(t.unstable_now()-j<k)}function $(){if(w=!1,N){var B=t.unstable_now();j=B;var X=!0;try{e:{b=!1,_&&(_=!1,E(I),I=-1),y=!0;var me=p;try{t:{for(D(B),m=n(u);m!==null&&!(m.expirationTime>B&&H());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,p=m.priorityLevel;var be=ae(m.expirationTime<=B);if(B=t.unstable_now(),typeof be=="function"){m.callback=be,D(B),X=!0;break t}m===n(u)&&i(u),D(B)}else i(u);m=n(u)}if(m!==null)X=!0;else{var L=n(d);L!==null&&ve(O,L.startTime-B),X=!1}}break e}finally{m=null,p=me,y=!1}X=void 0}}finally{X?G():N=!1}}}var G;if(typeof C=="function")G=function(){C($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,pe=se.port2;se.port1.onmessage=$,G=function(){pe.postMessage(null)}}else G=function(){x($,0)};function ve(B,X){I=x(function(){B(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var me=p;p=X;try{return B()}finally{p=me}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var me=p;p=B;try{return X()}finally{p=me}},t.unstable_scheduleCallback=function(B,X,me){var ae=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ae+me:ae):me=ae,B){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=me+be,B={id:h++,callback:X,priorityLevel:B,startTime:me,expirationTime:be,sortIndex:-1},me>ae?(B.sortIndex=me,e(d,B),n(u)===null&&B===n(d)&&(_?(E(I),I=-1):_=!0,ve(O,me-ae))):(B.sortIndex=be,e(u,B),b||y||(b=!0,N||(N=!0,G()))),B},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(B){var X=p;return function(){var me=p;p=X;try{return B.apply(this,arguments)}finally{p=me}}}})(Dv)),Dv}var qR;function rL(){return qR||(qR=1,Ov.exports=iL()),Ov.exports}var kv={exports:{}},ti={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR;function sL(){if(WR)return ti;WR=1;var t=Zd();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ti.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ti.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},ti.flushSync=function(u){var d=a.T,h=i.p;try{if(a.T=null,i.p=2,u)return u()}finally{a.T=d,i.p=h,i.d.f()}},ti.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},ti.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},ti.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:y}):h==="script"&&i.d.X(u,{crossOrigin:m,integrity:p,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ti.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},ti.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);i.d.L(u,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ti.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},ti.requestFormReset=function(u){i.d.r(u)},ti.unstable_batchedUpdates=function(u,d){return u(d)},ti.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},ti.useFormStatus=function(){return a.H.useHostTransitionStatus()},ti.version="19.2.0",ti}var GR;function KD(){if(GR)return kv.exports;GR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kv.exports=sL(),kv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR;function aL(){if(YR)return Uu;YR=1;var t=rL(),e=Zd(),n=KD();function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(i(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(i(188));return c!==o?null:o}for(var f=o,g=c;;){var v=f.return;if(v===null)break;var S=v.alternate;if(S===null){if(g=v.return,g!==null){f=g;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===f)return u(v),o;if(S===g)return u(v),c;S=S.sibling}throw Error(i(188))}if(f.return!==g.return)f=v,g=S;else{for(var T=!1,M=v.child;M;){if(M===f){T=!0,f=v,g=S;break}if(M===g){T=!0,g=v,f=S;break}M=M.sibling}if(!T){for(M=S.child;M;){if(M===f){T=!0,f=S,g=v;break}if(M===g){T=!0,g=S,f=v;break}M=M.sibling}if(!T)throw Error(i(189))}}if(f.alternate!==g)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var se=Symbol.for("react.client.reference");function pe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===se?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case x:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case N:return"SuspenseList";case j:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case C:return o.displayName||"Context";case E:return(o._context.displayName||"Context")+".Consumer";case D:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return c=o.displayName||null,c!==null?c:pe(o.type)||"Memo";case k:c=o._payload,o=o._init;try{return pe(o(c))}catch{}}return null}var ve=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ae=[],be=-1;function L(o){return{current:o}}function J(o){0>be||(o.current=ae[be],ae[be]=null,be--)}function ne(o,c){be++,ae[be]=o.current,o.current=c}var ie=L(null),he=L(null),ge=L(null),Re=L(null);function Se(o,c){switch(ne(ge,c),ne(he,o),ne(ie,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?cR(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=cR(c),o=uR(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}J(ie),ne(ie,o)}function ke(){J(ie),J(he),J(ge)}function Xe(o){o.memoizedState!==null&&ne(Re,o);var c=ie.current,f=uR(c,o.type);c!==f&&(ne(he,o),ne(ie,f))}function nn(o){he.current===o&&(J(ie),J(he)),Re.current===o&&(J(Re),Iu._currentValue=me)}var Ut,Li;function we(o){if(Ut===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);Ut=c&&c[1]||"",Li=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+o+Li}var Ue=!1;function ot(o,c){if(!o||Ue)return"";Ue=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(te){var Z=te}Reflect.construct(o,[],de)}else{try{de.call()}catch(te){Z=te}o.call(de.prototype)}}else{try{throw Error()}catch(te){Z=te}(de=o())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),T=S[0],M=S[1];if(T&&M){var z=T.split(`
`),K=M.split(`
`);for(v=g=0;g<z.length&&!z[g].includes("DetermineComponentFrameRoot");)g++;for(;v<K.length&&!K[v].includes("DetermineComponentFrameRoot");)v++;if(g===z.length||v===K.length)for(g=z.length-1,v=K.length-1;1<=g&&0<=v&&z[g]!==K[v];)v--;for(;1<=g&&0<=v;g--,v--)if(z[g]!==K[v]){if(g!==1||v!==1)do if(g--,v--,0>v||z[g]!==K[v]){var le=`
`+z[g].replace(" at new "," at ");return o.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",o.displayName)),le}while(1<=g&&0<=v);break}}}finally{Ue=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?we(f):""}function Pt(o,c){switch(o.tag){case 26:case 27:case 5:return we(o.type);case 16:return we("Lazy");case 13:return o.child!==c&&c!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return ot(o.type,!1);case 11:return ot(o.type.render,!1);case 1:return ot(o.type,!0);case 31:return we("Activity");default:return""}}function hn(o){try{var c="",f=null;do c+=Pt(o,f),f=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Je=Object.prototype.hasOwnProperty,P=t.unstable_scheduleCallback,q=t.unstable_cancelCallback,U=t.unstable_shouldYield,Q=t.unstable_requestPaint,ce=t.unstable_now,oe=t.unstable_getCurrentPriorityLevel,fe=t.unstable_ImmediatePriority,Ee=t.unstable_UserBlockingPriority,ye=t.unstable_NormalPriority,Fe=t.unstable_LowPriority,et=t.unstable_IdlePriority,Be=t.log,qe=t.unstable_setDisableYieldValue,_n=null,Et=null;function ze(o){if(typeof Be=="function"&&qe(o),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(_n,o)}catch{}}var rt=Math.clz32?Math.clz32:ft,gn=Math.log,Ze=Math.LN2;function ft(o){return o>>>=0,o===0?32:31-(gn(o)/Ze|0)|0}var fi=256,hi=262144,vt=4194304;function zt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function xe(o,c,f){var g=o.pendingLanes;if(g===0)return 0;var v=0,S=o.suspendedLanes,T=o.pingedLanes;o=o.warmLanes;var M=g&134217727;return M!==0?(g=M&~S,g!==0?v=zt(g):(T&=M,T!==0?v=zt(T):f||(f=M&~o,f!==0&&(v=zt(f))))):(M=g&~S,M!==0?v=zt(M):T!==0?v=zt(T):f||(f=g&~o,f!==0&&(v=zt(f)))),v===0?0:c!==0&&c!==v&&(c&S)===0&&(S=v&-v,f=c&-c,S>=f||S===32&&(f&4194048)!==0)?c:v}function He(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function lt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ht(){var o=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),o}function cn(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function gt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ge(o,c,f,g,v,S){var T=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var M=o.entanglements,z=o.expirationTimes,K=o.hiddenUpdates;for(f=T&~f;0<f;){var le=31-rt(f),de=1<<le;M[le]=0,z[le]=-1;var Z=K[le];if(Z!==null)for(K[le]=null,le=0;le<Z.length;le++){var te=Z[le];te!==null&&(te.lane&=-536870913)}f&=~de}g!==0&&Sn(o,g,0),S!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=S&~(T&~c))}function Sn(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-rt(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|f&261930}function $t(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var g=31-rt(f),v=1<<g;v&c|o[g]&c&&(o[g]|=c),f&=~v}}function Kt(o,c){var f=c&-c;return f=(f&42)!==0?1:er(f),(f&(o.suspendedLanes|c))!==0?0:f}function er(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Gn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function tr(){var o=X.p;return o!==0?o:(o=window.event,o===void 0?32:NR(o.type))}function na(o,c){var f=X.p;try{return X.p=o,c()}finally{X.p=f}}var nr=Math.random().toString(36).slice(2),Yn="__reactFiber$"+nr,_i="__reactProps$"+nr,gl="__reactContainer$"+nr,yp="__reactEvents$"+nr,$P="__reactListeners$"+nr,VP="__reactHandles$"+nr,KS="__reactResources$"+nr,Qc="__reactMarker$"+nr;function vp(o){delete o[Yn],delete o[_i],delete o[yp],delete o[$P],delete o[VP]}function ml(o){var c=o[Yn];if(c)return c;for(var f=o.parentNode;f;){if(c=f[gl]||f[Yn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=yR(o);o!==null;){if(f=o[Yn])return f;o=yR(o)}return c}o=f,f=o.parentNode}return null}function pl(o){if(o=o[Yn]||o[gl]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Kc(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(i(33))}function yl(o){var c=o[KS];return c||(c=o[KS]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function zn(o){o[Qc]=!0}var XS=new Set,ZS={};function oo(o,c){vl(o,c),vl(o+"Capture",c)}function vl(o,c){for(ZS[o]=c,o=0;o<c.length;o++)XS.add(c[o])}var qP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),JS={},ew={};function WP(o){return Je.call(ew,o)?!0:Je.call(JS,o)?!1:qP.test(o)?ew[o]=!0:(JS[o]=!0,!1)}function yf(o,c,f){if(WP(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function vf(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function fs(o,c,f,g){if(g===null)o.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+g)}}function ir(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function tw(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function GP(o,c,f){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,S=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return v.call(this)},set:function(T){f=""+T,S.call(this,T)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function bp(o){if(!o._valueTracker){var c=tw(o)?"checked":"value";o._valueTracker=GP(o,c,""+o[c])}}function nw(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return o&&(g=tw(o)?o.checked?"true":"false":o.value),o=g,o!==f?(c.setValue(o),!0):!1}function bf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var YP=/[\n"\\]/g;function rr(o){return o.replace(YP,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function _p(o,c,f,g,v,S,T,M){o.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?o.type=T:o.removeAttribute("type"),c!=null?T==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ir(c)):o.value!==""+ir(c)&&(o.value=""+ir(c)):T!=="submit"&&T!=="reset"||o.removeAttribute("value"),c!=null?Sp(o,T,ir(c)):f!=null?Sp(o,T,ir(f)):g!=null&&o.removeAttribute("value"),v==null&&S!=null&&(o.defaultChecked=!!S),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.name=""+ir(M):o.removeAttribute("name")}function iw(o,c,f,g,v,S,T,M){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),c!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){bp(o);return}f=f!=null?""+ir(f):"",c=c!=null?""+ir(c):f,M||c===o.value||(o.value=c),o.defaultValue=c}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=M?o.checked:!!g,o.defaultChecked=!!g,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.name=T),bp(o)}function Sp(o,c,f){c==="number"&&bf(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function bl(o,c,f,g){if(o=o.options,c){c={};for(var v=0;v<f.length;v++)c["$"+f[v]]=!0;for(f=0;f<o.length;f++)v=c.hasOwnProperty("$"+o[f].value),o[f].selected!==v&&(o[f].selected=v),v&&g&&(o[f].defaultSelected=!0)}else{for(f=""+ir(f),c=null,v=0;v<o.length;v++){if(o[v].value===f){o[v].selected=!0,g&&(o[v].defaultSelected=!0);return}c!==null||o[v].disabled||(c=o[v])}c!==null&&(c.selected=!0)}}function rw(o,c,f){if(c!=null&&(c=""+ir(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+ir(f):""}function sw(o,c,f,g){if(c==null){if(g!=null){if(f!=null)throw Error(i(92));if(ve(g)){if(1<g.length)throw Error(i(93));g=g[0]}f=g}f==null&&(f=""),c=f}f=ir(c),o.defaultValue=f,g=o.textContent,g===f&&g!==""&&g!==null&&(o.value=g),bp(o)}function _l(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var QP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function aw(o,c,f){var g=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,f):typeof f!="number"||f===0||QP.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function ow(o,c,f){if(c!=null&&typeof c!="object")throw Error(i(62));if(o=o.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var v in c)g=c[v],c.hasOwnProperty(v)&&f[v]!==g&&aw(o,v,g)}else for(var S in c)c.hasOwnProperty(S)&&aw(o,S,c[S])}function wp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),XP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _f(o){return XP.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function hs(){}var xp=null;function Ep(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Sl=null,wl=null;function lw(o){var c=pl(o);if(c&&(o=c.stateNode)){var f=o[_i]||null;e:switch(o=c.stateNode,c.type){case"input":if(_p(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+rr(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==o&&g.form===o.form){var v=g[_i]||null;if(!v)throw Error(i(90));_p(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<f.length;c++)g=f[c],g.form===o.form&&nw(g)}break e;case"textarea":rw(o,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&bl(o,!!f.multiple,c,!1)}}}var Rp=!1;function cw(o,c,f){if(Rp)return o(c,f);Rp=!0;try{var g=o(c);return g}finally{if(Rp=!1,(Sl!==null||wl!==null)&&(oh(),Sl&&(c=Sl,o=wl,wl=Sl=null,lw(c),o)))for(c=0;c<o.length;c++)lw(o[c])}}function Xc(o,c){var f=o.stateNode;if(f===null)return null;var g=f[_i]||null;if(g===null)return null;f=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(i(231,c,typeof f));return f}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cp=!1;if(gs)try{var Zc={};Object.defineProperty(Zc,"passive",{get:function(){Cp=!0}}),window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{Cp=!1}var ia=null,Tp=null,Sf=null;function uw(){if(Sf)return Sf;var o,c=Tp,f=c.length,g,v="value"in ia?ia.value:ia.textContent,S=v.length;for(o=0;o<f&&c[o]===v[o];o++);var T=f-o;for(g=1;g<=T&&c[f-g]===v[S-g];g++);return Sf=v.slice(o,1<g?1-g:void 0)}function wf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function xf(){return!0}function dw(){return!1}function Si(o){function c(f,g,v,S,T){this._reactName=f,this._targetInst=v,this.type=g,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var M in o)o.hasOwnProperty(M)&&(f=o[M],this[M]=f?f(S):S[M]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?xf:dw,this.isPropagationStopped=dw,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=xf)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=xf)},persist:function(){},isPersistent:xf}),c}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ef=Si(lo),Jc=m({},lo,{view:0,detail:0}),ZP=Si(Jc),Ap,Op,eu,Rf=m({},Jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==eu&&(eu&&o.type==="mousemove"?(Ap=o.screenX-eu.screenX,Op=o.screenY-eu.screenY):Op=Ap=0,eu=o),Ap)},movementY:function(o){return"movementY"in o?o.movementY:Op}}),fw=Si(Rf),JP=m({},Rf,{dataTransfer:0}),ej=Si(JP),tj=m({},Jc,{relatedTarget:0}),Dp=Si(tj),nj=m({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),ij=Si(nj),rj=m({},lo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),sj=Si(rj),aj=m({},lo,{data:0}),hw=Si(aj),oj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uj(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=cj[o])?!!c[o]:!1}function kp(){return uj}var dj=m({},Jc,{key:function(o){if(o.key){var c=oj[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=wf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?lj[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kp,charCode:function(o){return o.type==="keypress"?wf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?wf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),fj=Si(dj),hj=m({},Rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gw=Si(hj),gj=m({},Jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kp}),mj=Si(gj),pj=m({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),yj=Si(pj),vj=m({},Rf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),bj=Si(vj),_j=m({},lo,{newState:0,oldState:0}),Sj=Si(_j),wj=[9,13,27,32],Mp=gs&&"CompositionEvent"in window,tu=null;gs&&"documentMode"in document&&(tu=document.documentMode);var xj=gs&&"TextEvent"in window&&!tu,mw=gs&&(!Mp||tu&&8<tu&&11>=tu),pw=" ",yw=!1;function vw(o,c){switch(o){case"keyup":return wj.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var xl=!1;function Ej(o,c){switch(o){case"compositionend":return bw(c);case"keypress":return c.which!==32?null:(yw=!0,pw);case"textInput":return o=c.data,o===pw&&yw?null:o;default:return null}}function Rj(o,c){if(xl)return o==="compositionend"||!Mp&&vw(o,c)?(o=uw(),Sf=Tp=ia=null,xl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return mw&&c.locale!=="ko"?null:c.data;default:return null}}var Cj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _w(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Cj[o.type]:c==="textarea"}function Sw(o,c,f,g){Sl?wl?wl.push(g):wl=[g]:Sl=g,c=gh(c,"onChange"),0<c.length&&(f=new Ef("onChange","change",null,f,g),o.push({event:f,listeners:c}))}var nu=null,iu=null;function Tj(o){iR(o,0)}function Cf(o){var c=Kc(o);if(nw(c))return o}function ww(o,c){if(o==="change")return c}var xw=!1;if(gs){var Np;if(gs){var Ip="oninput"in document;if(!Ip){var Ew=document.createElement("div");Ew.setAttribute("oninput","return;"),Ip=typeof Ew.oninput=="function"}Np=Ip}else Np=!1;xw=Np&&(!document.documentMode||9<document.documentMode)}function Rw(){nu&&(nu.detachEvent("onpropertychange",Cw),iu=nu=null)}function Cw(o){if(o.propertyName==="value"&&Cf(iu)){var c=[];Sw(c,iu,o,Ep(o)),cw(Tj,c)}}function Aj(o,c,f){o==="focusin"?(Rw(),nu=c,iu=f,nu.attachEvent("onpropertychange",Cw)):o==="focusout"&&Rw()}function Oj(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Cf(iu)}function Dj(o,c){if(o==="click")return Cf(c)}function kj(o,c){if(o==="input"||o==="change")return Cf(c)}function Mj(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Fi=typeof Object.is=="function"?Object.is:Mj;function ru(o,c){if(Fi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var v=f[g];if(!Je.call(c,v)||!Fi(o[v],c[v]))return!1}return!0}function Tw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Aw(o,c){var f=Tw(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=c&&g>=c)return{node:f,offset:c-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Tw(f)}}function Ow(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Ow(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Dw(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=bf(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=bf(o.document)}return c}function Pp(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Nj=gs&&"documentMode"in document&&11>=document.documentMode,El=null,jp=null,su=null,Lp=!1;function kw(o,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Lp||El==null||El!==bf(g)||(g=El,"selectionStart"in g&&Pp(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),su&&ru(su,g)||(su=g,g=gh(jp,"onSelect"),0<g.length&&(c=new Ef("onSelect","select",null,c,f),o.push({event:c,listeners:g}),c.target=El)))}function co(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Rl={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionrun:co("Transition","TransitionRun"),transitionstart:co("Transition","TransitionStart"),transitioncancel:co("Transition","TransitionCancel"),transitionend:co("Transition","TransitionEnd")},Fp={},Mw={};gs&&(Mw=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function uo(o){if(Fp[o])return Fp[o];if(!Rl[o])return o;var c=Rl[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in Mw)return Fp[o]=c[f];return o}var Nw=uo("animationend"),Iw=uo("animationiteration"),Pw=uo("animationstart"),Ij=uo("transitionrun"),Pj=uo("transitionstart"),jj=uo("transitioncancel"),jw=uo("transitionend"),Lw=new Map,Up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Up.push("scrollEnd");function Tr(o,c){Lw.set(o,c),oo(c,[o])}var Tf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},sr=[],Cl=0,zp=0;function Af(){for(var o=Cl,c=zp=Cl=0;c<o;){var f=sr[c];sr[c++]=null;var g=sr[c];sr[c++]=null;var v=sr[c];sr[c++]=null;var S=sr[c];if(sr[c++]=null,g!==null&&v!==null){var T=g.pending;T===null?v.next=v:(v.next=T.next,T.next=v),g.pending=v}S!==0&&Fw(f,v,S)}}function Of(o,c,f,g){sr[Cl++]=o,sr[Cl++]=c,sr[Cl++]=f,sr[Cl++]=g,zp|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function Hp(o,c,f,g){return Of(o,c,f,g),Df(o)}function fo(o,c){return Of(o,null,null,c),Df(o)}function Fw(o,c,f){o.lanes|=f;var g=o.alternate;g!==null&&(g.lanes|=f);for(var v=!1,S=o.return;S!==null;)S.childLanes|=f,g=S.alternate,g!==null&&(g.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(v=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,v&&c!==null&&(v=31-rt(f),o=S.hiddenUpdates,g=o[v],g===null?o[v]=[c]:g.push(c),c.lane=f|536870912),S):null}function Df(o){if(50<Tu)throw Tu=0,Ky=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Tl={};function Lj(o,c,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(o,c,f,g){return new Lj(o,c,f,g)}function Bp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ms(o,c){var f=o.alternate;return f===null?(f=Ui(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function Uw(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function kf(o,c,f,g,v,S){var T=0;if(g=o,typeof o=="function")Bp(o)&&(T=1);else if(typeof o=="string")T=B2(o,f,ie.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case j:return o=Ui(31,f,c,v),o.elementType=j,o.lanes=S,o;case _:return ho(f.children,v,S,c);case w:T=8,v|=24;break;case x:return o=Ui(12,f,c,v|2),o.elementType=x,o.lanes=S,o;case O:return o=Ui(13,f,c,v),o.elementType=O,o.lanes=S,o;case N:return o=Ui(19,f,c,v),o.elementType=N,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:T=10;break e;case E:T=9;break e;case D:T=11;break e;case I:T=14;break e;case k:T=16,g=null;break e}T=29,f=Error(i(130,o===null?"null":typeof o,"")),g=null}return c=Ui(T,f,c,v),c.elementType=o,c.type=g,c.lanes=S,c}function ho(o,c,f,g){return o=Ui(7,o,g,c),o.lanes=f,o}function $p(o,c,f){return o=Ui(6,o,null,c),o.lanes=f,o}function zw(o){var c=Ui(18,null,null,0);return c.stateNode=o,c}function Vp(o,c,f){return c=Ui(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Hw=new WeakMap;function ar(o,c){if(typeof o=="object"&&o!==null){var f=Hw.get(o);return f!==void 0?f:(c={value:o,source:c,stack:hn(c)},Hw.set(o,c),c)}return{value:o,source:c,stack:hn(c)}}var Al=[],Ol=0,Mf=null,au=0,or=[],lr=0,ra=null,Wr=1,Gr="";function ps(o,c){Al[Ol++]=au,Al[Ol++]=Mf,Mf=o,au=c}function Bw(o,c,f){or[lr++]=Wr,or[lr++]=Gr,or[lr++]=ra,ra=o;var g=Wr;o=Gr;var v=32-rt(g)-1;g&=~(1<<v),f+=1;var S=32-rt(c)+v;if(30<S){var T=v-v%5;S=(g&(1<<T)-1).toString(32),g>>=T,v-=T,Wr=1<<32-rt(c)+v|f<<v|g,Gr=S+o}else Wr=1<<S|f<<v|g,Gr=o}function qp(o){o.return!==null&&(ps(o,1),Bw(o,1,0))}function Wp(o){for(;o===Mf;)Mf=Al[--Ol],Al[Ol]=null,au=Al[--Ol],Al[Ol]=null;for(;o===ra;)ra=or[--lr],or[lr]=null,Gr=or[--lr],or[lr]=null,Wr=or[--lr],or[lr]=null}function $w(o,c){or[lr++]=Wr,or[lr++]=Gr,or[lr++]=ra,Wr=c.id,Gr=c.overflow,ra=o}var Qn=null,Vt=null,ct=!1,sa=null,cr=!1,Gp=Error(i(519));function aa(o){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ou(ar(c,o)),Gp}function Vw(o){var c=o.stateNode,f=o.type,g=o.memoizedProps;switch(c[Yn]=o,c[_i]=g,f){case"dialog":nt("cancel",c),nt("close",c);break;case"iframe":case"object":case"embed":nt("load",c);break;case"video":case"audio":for(f=0;f<Ou.length;f++)nt(Ou[f],c);break;case"source":nt("error",c);break;case"img":case"image":case"link":nt("error",c),nt("load",c);break;case"details":nt("toggle",c);break;case"input":nt("invalid",c),iw(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":nt("invalid",c);break;case"textarea":nt("invalid",c),sw(c,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||g.suppressHydrationWarning===!0||oR(c.textContent,f)?(g.popover!=null&&(nt("beforetoggle",c),nt("toggle",c)),g.onScroll!=null&&nt("scroll",c),g.onScrollEnd!=null&&nt("scrollend",c),g.onClick!=null&&(c.onclick=hs),c=!0):c=!1,c||aa(o,!0)}function qw(o){for(Qn=o.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:Qn=Qn.return}}function Dl(o){if(o!==Qn)return!1;if(!ct)return qw(o),ct=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||dv(o.type,o.memoizedProps)),f=!f),f&&Vt&&aa(o),qw(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Vt=pR(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));Vt=pR(o)}else c===27?(c=Vt,_a(o.type)?(o=pv,pv=null,Vt=o):Vt=c):Vt=Qn?dr(o.stateNode.nextSibling):null;return!0}function go(){Vt=Qn=null,ct=!1}function Yp(){var o=sa;return o!==null&&(Ri===null?Ri=o:Ri.push.apply(Ri,o),sa=null),o}function ou(o){sa===null?sa=[o]:sa.push(o)}var Qp=L(null),mo=null,ys=null;function oa(o,c,f){ne(Qp,c._currentValue),c._currentValue=f}function vs(o){o._currentValue=Qp.current,J(Qp)}function Kp(o,c,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===f)break;o=o.return}}function Xp(o,c,f,g){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var S=v.dependencies;if(S!==null){var T=v.child;S=S.firstContext;e:for(;S!==null;){var M=S;S=v;for(var z=0;z<c.length;z++)if(M.context===c[z]){S.lanes|=f,M=S.alternate,M!==null&&(M.lanes|=f),Kp(S.return,f,o),g||(T=null);break e}S=M.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(i(341));T.lanes|=f,S=T.alternate,S!==null&&(S.lanes|=f),Kp(T,f,o),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function kl(o,c,f,g){o=null;for(var v=c,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var M=v.type;Fi(v.pendingProps.value,T.value)||(o!==null?o.push(M):o=[M])}}else if(v===Re.current){if(T=v.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Iu):o=[Iu])}v=v.return}o!==null&&Xp(c,o,f,g),c.flags|=262144}function Nf(o){for(o=o.firstContext;o!==null;){if(!Fi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function po(o){mo=o,ys=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Kn(o){return Ww(mo,o)}function If(o,c){return mo===null&&po(o),Ww(o,c)}function Ww(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},ys===null){if(o===null)throw Error(i(308));ys=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ys=ys.next=c;return f}var Fj=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},Uj=t.unstable_scheduleCallback,zj=t.unstable_NormalPriority,wn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zp(){return{controller:new Fj,data:new Map,refCount:0}}function lu(o){o.refCount--,o.refCount===0&&Uj(zj,function(){o.controller.abort()})}var cu=null,Jp=0,Ml=0,Nl=null;function Hj(o,c){if(cu===null){var f=cu=[];Jp=0,Ml=nv(),Nl={status:"pending",value:void 0,then:function(g){f.push(g)}}}return Jp++,c.then(Gw,Gw),c}function Gw(){if(--Jp===0&&cu!==null){Nl!==null&&(Nl.status="fulfilled");var o=cu;cu=null,Ml=0,Nl=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Bj(o,c){var f=[],g={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var v=0;v<f.length;v++)(0,f[v])(c)},function(v){for(g.status="rejected",g.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),g}var Yw=B.S;B.S=function(o,c){kE=ce(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Hj(o,c),Yw!==null&&Yw(o,c)};var yo=L(null);function ey(){var o=yo.current;return o!==null?o:jt.pooledCache}function Pf(o,c){c===null?ne(yo,yo.current):ne(yo,c.pool)}function Qw(){var o=ey();return o===null?null:{parent:wn._currentValue,pool:o}}var Il=Error(i(460)),ty=Error(i(474)),jf=Error(i(542)),Lf={then:function(){}};function Kw(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Xw(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(hs,hs),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Jw(o),o;default:if(typeof c.status=="string")c.then(hs,hs);else{if(o=jt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=g}},function(g){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Jw(o),o}throw bo=c,Il}}function vo(o){try{var c=o._init;return c(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(bo=f,Il):f}}var bo=null;function Zw(){if(bo===null)throw Error(i(459));var o=bo;return bo=null,o}function Jw(o){if(o===Il||o===jf)throw Error(i(483))}var Pl=null,uu=0;function Ff(o){var c=uu;return uu+=1,Pl===null&&(Pl=[]),Xw(Pl,o,c)}function du(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Uf(o,c){throw c.$$typeof===p?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function ex(o){function c(W,V){if(o){var Y=W.deletions;Y===null?(W.deletions=[V],W.flags|=16):Y.push(V)}}function f(W,V){if(!o)return null;for(;V!==null;)c(W,V),V=V.sibling;return null}function g(W){for(var V=new Map;W!==null;)W.key!==null?V.set(W.key,W):V.set(W.index,W),W=W.sibling;return V}function v(W,V){return W=ms(W,V),W.index=0,W.sibling=null,W}function S(W,V,Y){return W.index=Y,o?(Y=W.alternate,Y!==null?(Y=Y.index,Y<V?(W.flags|=67108866,V):Y):(W.flags|=67108866,V)):(W.flags|=1048576,V)}function T(W){return o&&W.alternate===null&&(W.flags|=67108866),W}function M(W,V,Y,ue){return V===null||V.tag!==6?(V=$p(Y,W.mode,ue),V.return=W,V):(V=v(V,Y),V.return=W,V)}function z(W,V,Y,ue){var De=Y.type;return De===_?le(W,V,Y.props.children,ue,Y.key):V!==null&&(V.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===k&&vo(De)===V.type)?(V=v(V,Y.props),du(V,Y),V.return=W,V):(V=kf(Y.type,Y.key,Y.props,null,W.mode,ue),du(V,Y),V.return=W,V)}function K(W,V,Y,ue){return V===null||V.tag!==4||V.stateNode.containerInfo!==Y.containerInfo||V.stateNode.implementation!==Y.implementation?(V=Vp(Y,W.mode,ue),V.return=W,V):(V=v(V,Y.children||[]),V.return=W,V)}function le(W,V,Y,ue,De){return V===null||V.tag!==7?(V=ho(Y,W.mode,ue,De),V.return=W,V):(V=v(V,Y),V.return=W,V)}function de(W,V,Y){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=$p(""+V,W.mode,Y),V.return=W,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return Y=kf(V.type,V.key,V.props,null,W.mode,Y),du(Y,V),Y.return=W,Y;case b:return V=Vp(V,W.mode,Y),V.return=W,V;case k:return V=vo(V),de(W,V,Y)}if(ve(V)||G(V))return V=ho(V,W.mode,Y,null),V.return=W,V;if(typeof V.then=="function")return de(W,Ff(V),Y);if(V.$$typeof===C)return de(W,If(W,V),Y);Uf(W,V)}return null}function Z(W,V,Y,ue){var De=V!==null?V.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return De!==null?null:M(W,V,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case y:return Y.key===De?z(W,V,Y,ue):null;case b:return Y.key===De?K(W,V,Y,ue):null;case k:return Y=vo(Y),Z(W,V,Y,ue)}if(ve(Y)||G(Y))return De!==null?null:le(W,V,Y,ue,null);if(typeof Y.then=="function")return Z(W,V,Ff(Y),ue);if(Y.$$typeof===C)return Z(W,V,If(W,Y),ue);Uf(W,Y)}return null}function te(W,V,Y,ue,De){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(Y)||null,M(V,W,""+ue,De);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case y:return W=W.get(ue.key===null?Y:ue.key)||null,z(V,W,ue,De);case b:return W=W.get(ue.key===null?Y:ue.key)||null,K(V,W,ue,De);case k:return ue=vo(ue),te(W,V,Y,ue,De)}if(ve(ue)||G(ue))return W=W.get(Y)||null,le(V,W,ue,De,null);if(typeof ue.then=="function")return te(W,V,Y,Ff(ue),De);if(ue.$$typeof===C)return te(W,V,Y,If(V,ue),De);Uf(V,ue)}return null}function Ce(W,V,Y,ue){for(var De=null,bt=null,Te=V,Ye=V=0,at=null;Te!==null&&Ye<Y.length;Ye++){Te.index>Ye?(at=Te,Te=null):at=Te.sibling;var _t=Z(W,Te,Y[Ye],ue);if(_t===null){Te===null&&(Te=at);break}o&&Te&&_t.alternate===null&&c(W,Te),V=S(_t,V,Ye),bt===null?De=_t:bt.sibling=_t,bt=_t,Te=at}if(Ye===Y.length)return f(W,Te),ct&&ps(W,Ye),De;if(Te===null){for(;Ye<Y.length;Ye++)Te=de(W,Y[Ye],ue),Te!==null&&(V=S(Te,V,Ye),bt===null?De=Te:bt.sibling=Te,bt=Te);return ct&&ps(W,Ye),De}for(Te=g(Te);Ye<Y.length;Ye++)at=te(Te,W,Ye,Y[Ye],ue),at!==null&&(o&&at.alternate!==null&&Te.delete(at.key===null?Ye:at.key),V=S(at,V,Ye),bt===null?De=at:bt.sibling=at,bt=at);return o&&Te.forEach(function(Ra){return c(W,Ra)}),ct&&ps(W,Ye),De}function Pe(W,V,Y,ue){if(Y==null)throw Error(i(151));for(var De=null,bt=null,Te=V,Ye=V=0,at=null,_t=Y.next();Te!==null&&!_t.done;Ye++,_t=Y.next()){Te.index>Ye?(at=Te,Te=null):at=Te.sibling;var Ra=Z(W,Te,_t.value,ue);if(Ra===null){Te===null&&(Te=at);break}o&&Te&&Ra.alternate===null&&c(W,Te),V=S(Ra,V,Ye),bt===null?De=Ra:bt.sibling=Ra,bt=Ra,Te=at}if(_t.done)return f(W,Te),ct&&ps(W,Ye),De;if(Te===null){for(;!_t.done;Ye++,_t=Y.next())_t=de(W,_t.value,ue),_t!==null&&(V=S(_t,V,Ye),bt===null?De=_t:bt.sibling=_t,bt=_t);return ct&&ps(W,Ye),De}for(Te=g(Te);!_t.done;Ye++,_t=Y.next())_t=te(Te,W,Ye,_t.value,ue),_t!==null&&(o&&_t.alternate!==null&&Te.delete(_t.key===null?Ye:_t.key),V=S(_t,V,Ye),bt===null?De=_t:bt.sibling=_t,bt=_t);return o&&Te.forEach(function(J2){return c(W,J2)}),ct&&ps(W,Ye),De}function Nt(W,V,Y,ue){if(typeof Y=="object"&&Y!==null&&Y.type===_&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case y:e:{for(var De=Y.key;V!==null;){if(V.key===De){if(De=Y.type,De===_){if(V.tag===7){f(W,V.sibling),ue=v(V,Y.props.children),ue.return=W,W=ue;break e}}else if(V.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===k&&vo(De)===V.type){f(W,V.sibling),ue=v(V,Y.props),du(ue,Y),ue.return=W,W=ue;break e}f(W,V);break}else c(W,V);V=V.sibling}Y.type===_?(ue=ho(Y.props.children,W.mode,ue,Y.key),ue.return=W,W=ue):(ue=kf(Y.type,Y.key,Y.props,null,W.mode,ue),du(ue,Y),ue.return=W,W=ue)}return T(W);case b:e:{for(De=Y.key;V!==null;){if(V.key===De)if(V.tag===4&&V.stateNode.containerInfo===Y.containerInfo&&V.stateNode.implementation===Y.implementation){f(W,V.sibling),ue=v(V,Y.children||[]),ue.return=W,W=ue;break e}else{f(W,V);break}else c(W,V);V=V.sibling}ue=Vp(Y,W.mode,ue),ue.return=W,W=ue}return T(W);case k:return Y=vo(Y),Nt(W,V,Y,ue)}if(ve(Y))return Ce(W,V,Y,ue);if(G(Y)){if(De=G(Y),typeof De!="function")throw Error(i(150));return Y=De.call(Y),Pe(W,V,Y,ue)}if(typeof Y.then=="function")return Nt(W,V,Ff(Y),ue);if(Y.$$typeof===C)return Nt(W,V,If(W,Y),ue);Uf(W,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,V!==null&&V.tag===6?(f(W,V.sibling),ue=v(V,Y),ue.return=W,W=ue):(f(W,V),ue=$p(Y,W.mode,ue),ue.return=W,W=ue),T(W)):f(W,V)}return function(W,V,Y,ue){try{uu=0;var De=Nt(W,V,Y,ue);return Pl=null,De}catch(Te){if(Te===Il||Te===jf)throw Te;var bt=Ui(29,Te,null,W.mode);return bt.lanes=ue,bt.return=W,bt}finally{}}}var _o=ex(!0),tx=ex(!1),la=!1;function ny(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iy(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ca(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ua(o,c,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(wt&2)!==0){var v=g.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),g.pending=c,c=Df(o),Fw(o,null,f),c}return Of(o,g,c,f),Df(o)}function fu(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,f|=g,c.lanes=f,$t(o,f)}}function ry(o,c){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var v=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var T={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?v=S=T:S=S.next=T,f=f.next}while(f!==null);S===null?v=S=c:S=S.next=c}else v=S=c;f={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var sy=!1;function hu(){if(sy){var o=Nl;if(o!==null)throw o}}function gu(o,c,f,g){sy=!1;var v=o.updateQueue;la=!1;var S=v.firstBaseUpdate,T=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var z=M,K=z.next;z.next=null,T===null?S=K:T.next=K,T=z;var le=o.alternate;le!==null&&(le=le.updateQueue,M=le.lastBaseUpdate,M!==T&&(M===null?le.firstBaseUpdate=K:M.next=K,le.lastBaseUpdate=z))}if(S!==null){var de=v.baseState;T=0,le=K=z=null,M=S;do{var Z=M.lane&-536870913,te=Z!==M.lane;if(te?(st&Z)===Z:(g&Z)===Z){Z!==0&&Z===Ml&&(sy=!0),le!==null&&(le=le.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ce=o,Pe=M;Z=c;var Nt=f;switch(Pe.tag){case 1:if(Ce=Pe.payload,typeof Ce=="function"){de=Ce.call(Nt,de,Z);break e}de=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Pe.payload,Z=typeof Ce=="function"?Ce.call(Nt,de,Z):Ce,Z==null)break e;de=m({},de,Z);break e;case 2:la=!0}}Z=M.callback,Z!==null&&(o.flags|=64,te&&(o.flags|=8192),te=v.callbacks,te===null?v.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:M.tag,payload:M.payload,callback:M.callback,next:null},le===null?(K=le=te,z=de):le=le.next=te,T|=Z;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;te=M,M=te.next,te.next=null,v.lastBaseUpdate=te,v.shared.pending=null}}while(!0);le===null&&(z=de),v.baseState=z,v.firstBaseUpdate=K,v.lastBaseUpdate=le,S===null&&(v.shared.lanes=0),ma|=T,o.lanes=T,o.memoizedState=de}}function nx(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function ix(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)nx(f[o],c)}var jl=L(null),zf=L(0);function rx(o,c){o=Ts,ne(zf,o),ne(jl,c),Ts=o|c.baseLanes}function ay(){ne(zf,Ts),ne(jl,jl.current)}function oy(){Ts=zf.current,J(jl),J(zf)}var zi=L(null),ur=null;function da(o){var c=o.alternate;ne(mn,mn.current&1),ne(zi,o),ur===null&&(c===null||jl.current!==null||c.memoizedState!==null)&&(ur=o)}function ly(o){ne(mn,mn.current),ne(zi,o),ur===null&&(ur=o)}function sx(o){o.tag===22?(ne(mn,mn.current),ne(zi,o),ur===null&&(ur=o)):fa()}function fa(){ne(mn,mn.current),ne(zi,zi.current)}function Hi(o){J(zi),ur===o&&(ur=null),J(mn)}var mn=L(0);function Hf(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||gv(f)||mv(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var bs=0,We=null,kt=null,xn=null,Bf=!1,Ll=!1,So=!1,$f=0,mu=0,Fl=null,$j=0;function un(){throw Error(i(321))}function cy(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!Fi(o[f],c[f]))return!1;return!0}function uy(o,c,f,g,v,S){return bs=S,We=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,B.H=o===null||o.memoizedState===null?Bx:Ry,So=!1,S=f(g,v),So=!1,Ll&&(S=ox(c,f,g,v)),ax(o),S}function ax(o){B.H=vu;var c=kt!==null&&kt.next!==null;if(bs=0,xn=kt=We=null,Bf=!1,mu=0,Fl=null,c)throw Error(i(300));o===null||En||(o=o.dependencies,o!==null&&Nf(o)&&(En=!0))}function ox(o,c,f,g){We=o;var v=0;do{if(Ll&&(Fl=null),mu=0,Ll=!1,25<=v)throw Error(i(301));if(v+=1,xn=kt=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}B.H=$x,S=c(f,g)}while(Ll);return S}function Vj(){var o=B.H,c=o.useState()[0];return c=typeof c.then=="function"?pu(c):c,o=o.useState()[0],(kt!==null?kt.memoizedState:null)!==o&&(We.flags|=1024),c}function dy(){var o=$f!==0;return $f=0,o}function fy(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function hy(o){if(Bf){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Bf=!1}bs=0,xn=kt=We=null,Ll=!1,mu=$f=0,Fl=null}function gi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?We.memoizedState=xn=o:xn=xn.next=o,xn}function pn(){if(kt===null){var o=We.alternate;o=o!==null?o.memoizedState:null}else o=kt.next;var c=xn===null?We.memoizedState:xn.next;if(c!==null)xn=c,kt=o;else{if(o===null)throw We.alternate===null?Error(i(467)):Error(i(310));kt=o,o={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},xn===null?We.memoizedState=xn=o:xn=xn.next=o}return xn}function Vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(o){var c=mu;return mu+=1,Fl===null&&(Fl=[]),o=Xw(Fl,o,c),c=We,(xn===null?c.memoizedState:xn.next)===null&&(c=c.alternate,B.H=c===null||c.memoizedState===null?Bx:Ry),o}function qf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return pu(o);if(o.$$typeof===C)return Kn(o)}throw Error(i(438,String(o)))}function gy(o){var c=null,f=We.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var g=We.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Vf(),We.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),g=0;g<o;g++)f[g]=H;return c.index++,f}function _s(o,c){return typeof c=="function"?c(o):c}function Wf(o){var c=pn();return my(c,kt,o)}function my(o,c,f){var g=o.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=f;var v=o.baseQueue,S=g.pending;if(S!==null){if(v!==null){var T=v.next;v.next=S.next,S.next=T}c.baseQueue=v=S,g.pending=null}if(S=o.baseState,v===null)o.memoizedState=S;else{c=v.next;var M=T=null,z=null,K=c,le=!1;do{var de=K.lane&-536870913;if(de!==K.lane?(st&de)===de:(bs&de)===de){var Z=K.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),de===Ml&&(le=!0);else if((bs&Z)===Z){K=K.next,Z===Ml&&(le=!0);continue}else de={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},z===null?(M=z=de,T=S):z=z.next=de,We.lanes|=Z,ma|=Z;de=K.action,So&&f(S,de),S=K.hasEagerState?K.eagerState:f(S,de)}else Z={lane:de,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},z===null?(M=z=Z,T=S):z=z.next=Z,We.lanes|=de,ma|=de;K=K.next}while(K!==null&&K!==c);if(z===null?T=S:z.next=M,!Fi(S,o.memoizedState)&&(En=!0,le&&(f=Nl,f!==null)))throw f;o.memoizedState=S,o.baseState=T,o.baseQueue=z,g.lastRenderedState=S}return v===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function py(o){var c=pn(),f=c.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=o;var g=f.dispatch,v=f.pending,S=c.memoizedState;if(v!==null){f.pending=null;var T=v=v.next;do S=o(S,T.action),T=T.next;while(T!==v);Fi(S,c.memoizedState)||(En=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),f.lastRenderedState=S}return[S,g]}function lx(o,c,f){var g=We,v=pn(),S=ct;if(S){if(f===void 0)throw Error(i(407));f=f()}else f=c();var T=!Fi((kt||v).memoizedState,f);if(T&&(v.memoizedState=f,En=!0),v=v.queue,by(dx.bind(null,g,v,o),[o]),v.getSnapshot!==c||T||xn!==null&&xn.memoizedState.tag&1){if(g.flags|=2048,Ul(9,{destroy:void 0},ux.bind(null,g,v,f,c),null),jt===null)throw Error(i(349));S||(bs&127)!==0||cx(g,c,f)}return f}function cx(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=We.updateQueue,c===null?(c=Vf(),We.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function ux(o,c,f,g){c.value=f,c.getSnapshot=g,fx(c)&&hx(o)}function dx(o,c,f){return f(function(){fx(c)&&hx(o)})}function fx(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!Fi(o,f)}catch{return!0}}function hx(o){var c=fo(o,2);c!==null&&Ci(c,o,2)}function yy(o){var c=gi();if(typeof o=="function"){var f=o;if(o=f(),So){ze(!0);try{f()}finally{ze(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:o},c}function gx(o,c,f,g){return o.baseState=f,my(o,kt,typeof g=="function"?g:_s)}function qj(o,c,f,g,v){if(Qf(o))throw Error(i(485));if(o=c.action,o!==null){var S={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){S.listeners.push(T)}};B.T!==null?f(!0):S.isTransition=!1,g(S),f=c.pending,f===null?(S.next=c.pending=S,mx(c,S)):(S.next=f.next,c.pending=f.next=S)}}function mx(o,c){var f=c.action,g=c.payload,v=o.state;if(c.isTransition){var S=B.T,T={};B.T=T;try{var M=f(v,g),z=B.S;z!==null&&z(T,M),px(o,c,M)}catch(K){vy(o,c,K)}finally{S!==null&&T.types!==null&&(S.types=T.types),B.T=S}}else try{S=f(v,g),px(o,c,S)}catch(K){vy(o,c,K)}}function px(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){yx(o,c,g)},function(g){return vy(o,c,g)}):yx(o,c,f)}function yx(o,c,f){c.status="fulfilled",c.value=f,vx(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,mx(o,f)))}function vy(o,c,f){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=f,vx(c),c=c.next;while(c!==g)}o.action=null}function vx(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function bx(o,c){return c}function _x(o,c){if(ct){var f=jt.formState;if(f!==null){e:{var g=We;if(ct){if(Vt){t:{for(var v=Vt,S=cr;v.nodeType!==8;){if(!S){v=null;break t}if(v=dr(v.nextSibling),v===null){v=null;break t}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){Vt=dr(v.nextSibling),g=v.data==="F!";break e}}aa(g)}g=!1}g&&(c=f[0])}}return f=gi(),f.memoizedState=f.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bx,lastRenderedState:c},f.queue=g,f=Ux.bind(null,We,g),g.dispatch=f,g=yy(!1),S=Ey.bind(null,We,!1,g.queue),g=gi(),v={state:c,dispatch:null,action:o,pending:null},g.queue=v,f=qj.bind(null,We,v,S,f),v.dispatch=f,g.memoizedState=o,[c,f,!1]}function Sx(o){var c=pn();return wx(c,kt,o)}function wx(o,c,f){if(c=my(o,c,bx)[0],o=Wf(_s)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=pu(c)}catch(T){throw T===Il?jf:T}else g=c;c=pn();var v=c.queue,S=v.dispatch;return f!==c.memoizedState&&(We.flags|=2048,Ul(9,{destroy:void 0},Wj.bind(null,v,f),null)),[g,S,o]}function Wj(o,c){o.action=c}function xx(o){var c=pn(),f=kt;if(f!==null)return wx(c,f,o);pn(),c=c.memoizedState,f=pn();var g=f.queue.dispatch;return f.memoizedState=o,[c,g,!1]}function Ul(o,c,f,g){return o={tag:o,create:f,deps:g,inst:c,next:null},c=We.updateQueue,c===null&&(c=Vf(),We.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,c.lastEffect=o),o}function Ex(){return pn().memoizedState}function Gf(o,c,f,g){var v=gi();We.flags|=o,v.memoizedState=Ul(1|c,{destroy:void 0},f,g===void 0?null:g)}function Yf(o,c,f,g){var v=pn();g=g===void 0?null:g;var S=v.memoizedState.inst;kt!==null&&g!==null&&cy(g,kt.memoizedState.deps)?v.memoizedState=Ul(c,S,f,g):(We.flags|=o,v.memoizedState=Ul(1|c,S,f,g))}function Rx(o,c){Gf(8390656,8,o,c)}function by(o,c){Yf(2048,8,o,c)}function Gj(o){We.flags|=4;var c=We.updateQueue;if(c===null)c=Vf(),We.updateQueue=c,c.events=[o];else{var f=c.events;f===null?c.events=[o]:f.push(o)}}function Cx(o){var c=pn().memoizedState;return Gj({ref:c,nextImpl:o}),function(){if((wt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function Tx(o,c){return Yf(4,2,o,c)}function Ax(o,c){return Yf(4,4,o,c)}function Ox(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Dx(o,c,f){f=f!=null?f.concat([o]):null,Yf(4,4,Ox.bind(null,c,o),f)}function _y(){}function kx(o,c){var f=pn();c=c===void 0?null:c;var g=f.memoizedState;return c!==null&&cy(c,g[1])?g[0]:(f.memoizedState=[o,c],o)}function Mx(o,c){var f=pn();c=c===void 0?null:c;var g=f.memoizedState;if(c!==null&&cy(c,g[1]))return g[0];if(g=o(),So){ze(!0);try{o()}finally{ze(!1)}}return f.memoizedState=[g,c],g}function Sy(o,c,f){return f===void 0||(bs&1073741824)!==0&&(st&261930)===0?o.memoizedState=c:(o.memoizedState=f,o=NE(),We.lanes|=o,ma|=o,f)}function Nx(o,c,f,g){return Fi(f,c)?f:jl.current!==null?(o=Sy(o,f,g),Fi(o,c)||(En=!0),o):(bs&42)===0||(bs&1073741824)!==0&&(st&261930)===0?(En=!0,o.memoizedState=f):(o=NE(),We.lanes|=o,ma|=o,c)}function Ix(o,c,f,g,v){var S=X.p;X.p=S!==0&&8>S?S:8;var T=B.T,M={};B.T=M,Ey(o,!1,c,f);try{var z=v(),K=B.S;if(K!==null&&K(M,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var le=Bj(z,g);yu(o,c,le,Vi(o))}else yu(o,c,g,Vi(o))}catch(de){yu(o,c,{then:function(){},status:"rejected",reason:de},Vi())}finally{X.p=S,T!==null&&M.types!==null&&(T.types=M.types),B.T=T}}function Yj(){}function wy(o,c,f,g){if(o.tag!==5)throw Error(i(476));var v=Px(o).queue;Ix(o,v,c,me,f===null?Yj:function(){return jx(o),f(g)})}function Px(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:me},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function jx(o){var c=Px(o);c.next===null&&(c=o.alternate.memoizedState),yu(o,c.next.queue,{},Vi())}function xy(){return Kn(Iu)}function Lx(){return pn().memoizedState}function Fx(){return pn().memoizedState}function Qj(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=Vi();o=ca(f);var g=ua(c,o,f);g!==null&&(Ci(g,c,f),fu(g,c,f)),c={cache:Zp()},o.payload=c;return}c=c.return}}function Kj(o,c,f){var g=Vi();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Qf(o)?zx(c,f):(f=Hp(o,c,f,g),f!==null&&(Ci(f,o,g),Hx(f,c,g)))}function Ux(o,c,f){var g=Vi();yu(o,c,f,g)}function yu(o,c,f,g){var v={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Qf(o))zx(c,v);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var T=c.lastRenderedState,M=S(T,f);if(v.hasEagerState=!0,v.eagerState=M,Fi(M,T))return Of(o,c,v,0),jt===null&&Af(),!1}catch{}finally{}if(f=Hp(o,c,v,g),f!==null)return Ci(f,o,g),Hx(f,c,g),!0}return!1}function Ey(o,c,f,g){if(g={lane:2,revertLane:nv(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Qf(o)){if(c)throw Error(i(479))}else c=Hp(o,f,g,2),c!==null&&Ci(c,o,2)}function Qf(o){var c=o.alternate;return o===We||c!==null&&c===We}function zx(o,c){Ll=Bf=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function Hx(o,c,f){if((f&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,f|=g,c.lanes=f,$t(o,f)}}var vu={readContext:Kn,use:qf,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};vu.useEffectEvent=un;var Bx={readContext:Kn,use:qf,useCallback:function(o,c){return gi().memoizedState=[o,c===void 0?null:c],o},useContext:Kn,useEffect:Rx,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,Gf(4194308,4,Ox.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Gf(4194308,4,o,c)},useInsertionEffect:function(o,c){Gf(4,2,o,c)},useMemo:function(o,c){var f=gi();c=c===void 0?null:c;var g=o();if(So){ze(!0);try{o()}finally{ze(!1)}}return f.memoizedState=[g,c],g},useReducer:function(o,c,f){var g=gi();if(f!==void 0){var v=f(c);if(So){ze(!0);try{f(c)}finally{ze(!1)}}}else v=c;return g.memoizedState=g.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},g.queue=o,o=o.dispatch=Kj.bind(null,We,o),[g.memoizedState,o]},useRef:function(o){var c=gi();return o={current:o},c.memoizedState=o},useState:function(o){o=yy(o);var c=o.queue,f=Ux.bind(null,We,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:_y,useDeferredValue:function(o,c){var f=gi();return Sy(f,o,c)},useTransition:function(){var o=yy(!1);return o=Ix.bind(null,We,o.queue,!0,!1),gi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var g=We,v=gi();if(ct){if(f===void 0)throw Error(i(407));f=f()}else{if(f=c(),jt===null)throw Error(i(349));(st&127)!==0||cx(g,c,f)}v.memoizedState=f;var S={value:f,getSnapshot:c};return v.queue=S,Rx(dx.bind(null,g,S,o),[o]),g.flags|=2048,Ul(9,{destroy:void 0},ux.bind(null,g,S,f,c),null),f},useId:function(){var o=gi(),c=jt.identifierPrefix;if(ct){var f=Gr,g=Wr;f=(g&~(1<<32-rt(g)-1)).toString(32)+f,c="_"+c+"R_"+f,f=$f++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=$j++,c="_"+c+"r_"+f.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:xy,useFormState:_x,useActionState:_x,useOptimistic:function(o){var c=gi();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Ey.bind(null,We,!0,f),f.dispatch=c,[o,c]},useMemoCache:gy,useCacheRefresh:function(){return gi().memoizedState=Qj.bind(null,We)},useEffectEvent:function(o){var c=gi(),f={impl:o};return c.memoizedState=f,function(){if((wt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},Ry={readContext:Kn,use:qf,useCallback:kx,useContext:Kn,useEffect:by,useImperativeHandle:Dx,useInsertionEffect:Tx,useLayoutEffect:Ax,useMemo:Mx,useReducer:Wf,useRef:Ex,useState:function(){return Wf(_s)},useDebugValue:_y,useDeferredValue:function(o,c){var f=pn();return Nx(f,kt.memoizedState,o,c)},useTransition:function(){var o=Wf(_s)[0],c=pn().memoizedState;return[typeof o=="boolean"?o:pu(o),c]},useSyncExternalStore:lx,useId:Lx,useHostTransitionStatus:xy,useFormState:Sx,useActionState:Sx,useOptimistic:function(o,c){var f=pn();return gx(f,kt,o,c)},useMemoCache:gy,useCacheRefresh:Fx};Ry.useEffectEvent=Cx;var $x={readContext:Kn,use:qf,useCallback:kx,useContext:Kn,useEffect:by,useImperativeHandle:Dx,useInsertionEffect:Tx,useLayoutEffect:Ax,useMemo:Mx,useReducer:py,useRef:Ex,useState:function(){return py(_s)},useDebugValue:_y,useDeferredValue:function(o,c){var f=pn();return kt===null?Sy(f,o,c):Nx(f,kt.memoizedState,o,c)},useTransition:function(){var o=py(_s)[0],c=pn().memoizedState;return[typeof o=="boolean"?o:pu(o),c]},useSyncExternalStore:lx,useId:Lx,useHostTransitionStatus:xy,useFormState:xx,useActionState:xx,useOptimistic:function(o,c){var f=pn();return kt!==null?gx(f,kt,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:gy,useCacheRefresh:Fx};$x.useEffectEvent=Cx;function Cy(o,c,f,g){c=o.memoizedState,f=f(g,c),f=f==null?c:m({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Ty={enqueueSetState:function(o,c,f){o=o._reactInternals;var g=Vi(),v=ca(g);v.payload=c,f!=null&&(v.callback=f),c=ua(o,v,g),c!==null&&(Ci(c,o,g),fu(c,o,g))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var g=Vi(),v=ca(g);v.tag=1,v.payload=c,f!=null&&(v.callback=f),c=ua(o,v,g),c!==null&&(Ci(c,o,g),fu(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=Vi(),g=ca(f);g.tag=2,c!=null&&(g.callback=c),c=ua(o,g,f),c!==null&&(Ci(c,o,f),fu(c,o,f))}};function Vx(o,c,f,g,v,S,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,S,T):c.prototype&&c.prototype.isPureReactComponent?!ru(f,g)||!ru(v,S):!0}function qx(o,c,f,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==o&&Ty.enqueueReplaceState(c,c.state,null)}function wo(o,c){var f=c;if("ref"in c){f={};for(var g in c)g!=="ref"&&(f[g]=c[g])}if(o=o.defaultProps){f===c&&(f=m({},f));for(var v in o)f[v]===void 0&&(f[v]=o[v])}return f}function Wx(o){Tf(o)}function Gx(o){console.error(o)}function Yx(o){Tf(o)}function Kf(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function Qx(o,c,f){try{var g=o.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Ay(o,c,f){return f=ca(f),f.tag=3,f.payload={element:null},f.callback=function(){Kf(o,c)},f}function Kx(o){return o=ca(o),o.tag=3,o}function Xx(o,c,f,g){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var S=g.value;o.payload=function(){return v(S)},o.callback=function(){Qx(c,f,g)}}var T=f.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(o.callback=function(){Qx(c,f,g),typeof v!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var M=g.stack;this.componentDidCatch(g.value,{componentStack:M!==null?M:""})})}function Xj(o,c,f,g,v){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=f.alternate,c!==null&&kl(c,f,v,!0),f=zi.current,f!==null){switch(f.tag){case 31:case 13:return ur===null?lh():f.alternate===null&&dn===0&&(dn=3),f.flags&=-257,f.flags|=65536,f.lanes=v,g===Lf?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([g]):c.add(g),Jy(o,g,v)),!1;case 22:return f.flags|=65536,g===Lf?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([g]):f.add(g)),Jy(o,g,v)),!1}throw Error(i(435,f.tag))}return Jy(o,g,v),lh(),!1}if(ct)return c=zi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,g!==Gp&&(o=Error(i(422),{cause:g}),ou(ar(o,f)))):(g!==Gp&&(c=Error(i(423),{cause:g}),ou(ar(c,f))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,g=ar(g,f),v=Ay(o.stateNode,g,v),ry(o,v),dn!==4&&(dn=2)),!1;var S=Error(i(520),{cause:g});if(S=ar(S,f),Cu===null?Cu=[S]:Cu.push(S),dn!==4&&(dn=2),c===null)return!0;g=ar(g,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=v&-v,f.lanes|=o,o=Ay(f.stateNode,g,o),ry(f,o),!1;case 1:if(c=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(pa===null||!pa.has(S))))return f.flags|=65536,v&=-v,f.lanes|=v,v=Kx(v),Xx(v,o,f,g),ry(f,v),!1}f=f.return}while(f!==null);return!1}var Oy=Error(i(461)),En=!1;function Xn(o,c,f,g){c.child=o===null?tx(c,null,f,g):_o(c,o.child,f,g)}function Zx(o,c,f,g,v){f=f.render;var S=c.ref;if("ref"in g){var T={};for(var M in g)M!=="ref"&&(T[M]=g[M])}else T=g;return po(c),g=uy(o,c,f,T,S,v),M=dy(),o!==null&&!En?(fy(o,c,v),Ss(o,c,v)):(ct&&M&&qp(c),c.flags|=1,Xn(o,c,g,v),c.child)}function Jx(o,c,f,g,v){if(o===null){var S=f.type;return typeof S=="function"&&!Bp(S)&&S.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=S,eE(o,c,S,g,v)):(o=kf(f.type,null,g,c,c.mode,v),o.ref=c.ref,o.return=c,c.child=o)}if(S=o.child,!Ly(o,v)){var T=S.memoizedProps;if(f=f.compare,f=f!==null?f:ru,f(T,g)&&o.ref===c.ref)return Ss(o,c,v)}return c.flags|=1,o=ms(S,g),o.ref=c.ref,o.return=c,c.child=o}function eE(o,c,f,g,v){if(o!==null){var S=o.memoizedProps;if(ru(S,g)&&o.ref===c.ref)if(En=!1,c.pendingProps=g=S,Ly(o,v))(o.flags&131072)!==0&&(En=!0);else return c.lanes=o.lanes,Ss(o,c,v)}return Dy(o,c,f,g,v)}function tE(o,c,f,g){var v=g.children,S=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,o!==null){for(g=c.child=o.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~S}else g=0,c.child=null;return nE(o,c,S,f,g)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Pf(c,S!==null?S.cachePool:null),S!==null?rx(c,S):ay(),sx(c);else return g=c.lanes=536870912,nE(o,c,S!==null?S.baseLanes|f:f,f,g)}else S!==null?(Pf(c,S.cachePool),rx(c,S),fa(),c.memoizedState=null):(o!==null&&Pf(c,null),ay(),fa());return Xn(o,c,v,f),c.child}function bu(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function nE(o,c,f,g,v){var S=ey();return S=S===null?null:{parent:wn._currentValue,pool:S},c.memoizedState={baseLanes:f,cachePool:S},o!==null&&Pf(c,null),ay(),sx(c),o!==null&&kl(o,c,g,!0),c.childLanes=v,null}function Xf(o,c){return c=Jf({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function iE(o,c,f){return _o(c,o.child,null,f),o=Xf(c,c.pendingProps),o.flags|=2,Hi(c),c.memoizedState=null,o}function Zj(o,c,f){var g=c.pendingProps,v=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(ct){if(g.mode==="hidden")return o=Xf(c,g),c.lanes=536870912,bu(null,o);if(ly(c),(o=Vt)?(o=mR(o,cr),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:ra!==null?{id:Wr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},f=zw(o),f.return=c,c.child=f,Qn=c,Vt=null)):o=null,o===null)throw aa(c);return c.lanes=536870912,null}return Xf(c,g)}var S=o.memoizedState;if(S!==null){var T=S.dehydrated;if(ly(c),v)if(c.flags&256)c.flags&=-257,c=iE(o,c,f);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(i(558));else if(En||kl(o,c,f,!1),v=(f&o.childLanes)!==0,En||v){if(g=jt,g!==null&&(T=Kt(g,f),T!==0&&T!==S.retryLane))throw S.retryLane=T,fo(o,T),Ci(g,o,T),Oy;lh(),c=iE(o,c,f)}else o=S.treeContext,Vt=dr(T.nextSibling),Qn=c,ct=!0,sa=null,cr=!1,o!==null&&$w(c,o),c=Xf(c,g),c.flags|=4096;return c}return o=ms(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Zf(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function Dy(o,c,f,g,v){return po(c),f=uy(o,c,f,g,void 0,v),g=dy(),o!==null&&!En?(fy(o,c,v),Ss(o,c,v)):(ct&&g&&qp(c),c.flags|=1,Xn(o,c,f,v),c.child)}function rE(o,c,f,g,v,S){return po(c),c.updateQueue=null,f=ox(c,g,f,v),ax(o),g=dy(),o!==null&&!En?(fy(o,c,S),Ss(o,c,S)):(ct&&g&&qp(c),c.flags|=1,Xn(o,c,f,S),c.child)}function sE(o,c,f,g,v){if(po(c),c.stateNode===null){var S=Tl,T=f.contextType;typeof T=="object"&&T!==null&&(S=Kn(T)),S=new f(g,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Ty,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=g,S.state=c.memoizedState,S.refs={},ny(c),T=f.contextType,S.context=typeof T=="object"&&T!==null?Kn(T):Tl,S.state=c.memoizedState,T=f.getDerivedStateFromProps,typeof T=="function"&&(Cy(c,f,T,g),S.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(T=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),T!==S.state&&Ty.enqueueReplaceState(S,S.state,null),gu(c,g,S,v),hu(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){S=c.stateNode;var M=c.memoizedProps,z=wo(f,M);S.props=z;var K=S.context,le=f.contextType;T=Tl,typeof le=="object"&&le!==null&&(T=Kn(le));var de=f.getDerivedStateFromProps;le=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function",M=c.pendingProps!==M,le||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M||K!==T)&&qx(c,S,g,T),la=!1;var Z=c.memoizedState;S.state=Z,gu(c,g,S,v),hu(),K=c.memoizedState,M||Z!==K||la?(typeof de=="function"&&(Cy(c,f,de,g),K=c.memoizedState),(z=la||Vx(c,f,z,g,Z,K,T))?(le||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=K),S.props=g,S.state=K,S.context=T,g=z):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{S=c.stateNode,iy(o,c),T=c.memoizedProps,le=wo(f,T),S.props=le,de=c.pendingProps,Z=S.context,K=f.contextType,z=Tl,typeof K=="object"&&K!==null&&(z=Kn(K)),M=f.getDerivedStateFromProps,(K=typeof M=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==de||Z!==z)&&qx(c,S,g,z),la=!1,Z=c.memoizedState,S.state=Z,gu(c,g,S,v),hu();var te=c.memoizedState;T!==de||Z!==te||la||o!==null&&o.dependencies!==null&&Nf(o.dependencies)?(typeof M=="function"&&(Cy(c,f,M,g),te=c.memoizedState),(le=la||Vx(c,f,le,g,Z,te,z)||o!==null&&o.dependencies!==null&&Nf(o.dependencies))?(K||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,te,z),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,te,z)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===o.memoizedProps&&Z===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&Z===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=te),S.props=g,S.state=te,S.context=z,g=le):(typeof S.componentDidUpdate!="function"||T===o.memoizedProps&&Z===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&Z===o.memoizedState||(c.flags|=1024),g=!1)}return S=g,Zf(o,c),g=(c.flags&128)!==0,S||g?(S=c.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,o!==null&&g?(c.child=_o(c,o.child,null,v),c.child=_o(c,null,f,v)):Xn(o,c,f,v),c.memoizedState=S.state,o=c.child):o=Ss(o,c,v),o}function aE(o,c,f,g){return go(),c.flags|=256,Xn(o,c,f,g),c.child}var ky={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function My(o){return{baseLanes:o,cachePool:Qw()}}function Ny(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=$i),o}function oE(o,c,f){var g=c.pendingProps,v=!1,S=(c.flags&128)!==0,T;if((T=S)||(T=o!==null&&o.memoizedState===null?!1:(mn.current&2)!==0),T&&(v=!0,c.flags&=-129),T=(c.flags&32)!==0,c.flags&=-33,o===null){if(ct){if(v?da(c):fa(),(o=Vt)?(o=mR(o,cr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:ra!==null?{id:Wr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},f=zw(o),f.return=c,c.child=f,Qn=c,Vt=null)):o=null,o===null)throw aa(c);return mv(o)?c.lanes=32:c.lanes=536870912,null}var M=g.children;return g=g.fallback,v?(fa(),v=c.mode,M=Jf({mode:"hidden",children:M},v),g=ho(g,v,f,null),M.return=c,g.return=c,M.sibling=g,c.child=M,g=c.child,g.memoizedState=My(f),g.childLanes=Ny(o,T,f),c.memoizedState=ky,bu(null,g)):(da(c),Iy(c,M))}var z=o.memoizedState;if(z!==null&&(M=z.dehydrated,M!==null)){if(S)c.flags&256?(da(c),c.flags&=-257,c=Py(o,c,f)):c.memoizedState!==null?(fa(),c.child=o.child,c.flags|=128,c=null):(fa(),M=g.fallback,v=c.mode,g=Jf({mode:"visible",children:g.children},v),M=ho(M,v,f,null),M.flags|=2,g.return=c,M.return=c,g.sibling=M,c.child=g,_o(c,o.child,null,f),g=c.child,g.memoizedState=My(f),g.childLanes=Ny(o,T,f),c.memoizedState=ky,c=bu(null,g));else if(da(c),mv(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var K=T.dgst;T=K,g=Error(i(419)),g.stack="",g.digest=T,ou({value:g,source:null,stack:null}),c=Py(o,c,f)}else if(En||kl(o,c,f,!1),T=(f&o.childLanes)!==0,En||T){if(T=jt,T!==null&&(g=Kt(T,f),g!==0&&g!==z.retryLane))throw z.retryLane=g,fo(o,g),Ci(T,o,g),Oy;gv(M)||lh(),c=Py(o,c,f)}else gv(M)?(c.flags|=192,c.child=o.child,c=null):(o=z.treeContext,Vt=dr(M.nextSibling),Qn=c,ct=!0,sa=null,cr=!1,o!==null&&$w(c,o),c=Iy(c,g.children),c.flags|=4096);return c}return v?(fa(),M=g.fallback,v=c.mode,z=o.child,K=z.sibling,g=ms(z,{mode:"hidden",children:g.children}),g.subtreeFlags=z.subtreeFlags&65011712,K!==null?M=ms(K,M):(M=ho(M,v,f,null),M.flags|=2),M.return=c,g.return=c,g.sibling=M,c.child=g,bu(null,g),g=c.child,M=o.child.memoizedState,M===null?M=My(f):(v=M.cachePool,v!==null?(z=wn._currentValue,v=v.parent!==z?{parent:z,pool:z}:v):v=Qw(),M={baseLanes:M.baseLanes|f,cachePool:v}),g.memoizedState=M,g.childLanes=Ny(o,T,f),c.memoizedState=ky,bu(o.child,g)):(da(c),f=o.child,o=f.sibling,f=ms(f,{mode:"visible",children:g.children}),f.return=c,f.sibling=null,o!==null&&(T=c.deletions,T===null?(c.deletions=[o],c.flags|=16):T.push(o)),c.child=f,c.memoizedState=null,f)}function Iy(o,c){return c=Jf({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Jf(o,c){return o=Ui(22,o,null,c),o.lanes=0,o}function Py(o,c,f){return _o(c,o.child,null,f),o=Iy(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function lE(o,c,f){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),Kp(o.return,c,f)}function jy(o,c,f,g,v,S){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:v,treeForkCount:S}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=f,T.tailMode=v,T.treeForkCount=S)}function cE(o,c,f){var g=c.pendingProps,v=g.revealOrder,S=g.tail;g=g.children;var T=mn.current,M=(T&2)!==0;if(M?(T=T&1|2,c.flags|=128):T&=1,ne(mn,T),Xn(o,c,g,f),g=ct?au:0,!M&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&lE(o,f,c);else if(o.tag===19)lE(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(f=c.child,v=null;f!==null;)o=f.alternate,o!==null&&Hf(o)===null&&(v=f),f=f.sibling;f=v,f===null?(v=c.child,c.child=null):(v=f.sibling,f.sibling=null),jy(c,!1,v,f,S,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,v=c.child,c.child=null;v!==null;){if(o=v.alternate,o!==null&&Hf(o)===null){c.child=v;break}o=v.sibling,v.sibling=f,f=v,v=o}jy(c,!0,f,null,S,g);break;case"together":jy(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Ss(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),ma|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(kl(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,f=ms(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=ms(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function Ly(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Nf(o)))}function Jj(o,c,f){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),oa(c,wn,o.memoizedState.cache),go();break;case 27:case 5:Xe(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:oa(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,ly(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(da(c),c.flags|=128,null):(f&c.child.childLanes)!==0?oE(o,c,f):(da(c),o=Ss(o,c,f),o!==null?o.sibling:null);da(c);break;case 19:var v=(o.flags&128)!==0;if(g=(f&c.childLanes)!==0,g||(kl(o,c,f,!1),g=(f&c.childLanes)!==0),v){if(g)return cE(o,c,f);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ne(mn,mn.current),g)break;return null;case 22:return c.lanes=0,tE(o,c,f,c.pendingProps);case 24:oa(c,wn,o.memoizedState.cache)}return Ss(o,c,f)}function uE(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)En=!0;else{if(!Ly(o,f)&&(c.flags&128)===0)return En=!1,Jj(o,c,f);En=(o.flags&131072)!==0}else En=!1,ct&&(c.flags&1048576)!==0&&Bw(c,au,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=vo(c.elementType),c.type=o,typeof o=="function")Bp(o)?(g=wo(o,g),c.tag=1,c=sE(null,c,o,g,f)):(c.tag=0,c=Dy(null,c,o,g,f));else{if(o!=null){var v=o.$$typeof;if(v===D){c.tag=11,c=Zx(null,c,o,g,f);break e}else if(v===I){c.tag=14,c=Jx(null,c,o,g,f);break e}}throw c=pe(o)||o,Error(i(306,c,""))}}return c;case 0:return Dy(o,c,c.type,c.pendingProps,f);case 1:return g=c.type,v=wo(g,c.pendingProps),sE(o,c,g,v,f);case 3:e:{if(Se(c,c.stateNode.containerInfo),o===null)throw Error(i(387));g=c.pendingProps;var S=c.memoizedState;v=S.element,iy(o,c),gu(c,g,null,f);var T=c.memoizedState;if(g=T.cache,oa(c,wn,g),g!==S.cache&&Xp(c,[wn],f,!0),hu(),g=T.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:T.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=aE(o,c,g,f);break e}else if(g!==v){v=ar(Error(i(424)),c),ou(v),c=aE(o,c,g,f);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Vt=dr(o.firstChild),Qn=c,ct=!0,sa=null,cr=!0,f=tx(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(go(),g===v){c=Ss(o,c,f);break e}Xn(o,c,g,f)}c=c.child}return c;case 26:return Zf(o,c),o===null?(f=SR(c.type,null,c.pendingProps,null))?c.memoizedState=f:ct||(f=c.type,o=c.pendingProps,g=mh(ge.current).createElement(f),g[Yn]=c,g[_i]=o,Zn(g,f,o),zn(g),c.stateNode=g):c.memoizedState=SR(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Xe(c),o===null&&ct&&(g=c.stateNode=vR(c.type,c.pendingProps,ge.current),Qn=c,cr=!0,v=Vt,_a(c.type)?(pv=v,Vt=dr(g.firstChild)):Vt=v),Xn(o,c,c.pendingProps.children,f),Zf(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&ct&&((v=g=Vt)&&(g=O2(g,c.type,c.pendingProps,cr),g!==null?(c.stateNode=g,Qn=c,Vt=dr(g.firstChild),cr=!1,v=!0):v=!1),v||aa(c)),Xe(c),v=c.type,S=c.pendingProps,T=o!==null?o.memoizedProps:null,g=S.children,dv(v,S)?g=null:T!==null&&dv(v,T)&&(c.flags|=32),c.memoizedState!==null&&(v=uy(o,c,Vj,null,null,f),Iu._currentValue=v),Zf(o,c),Xn(o,c,g,f),c.child;case 6:return o===null&&ct&&((o=f=Vt)&&(f=D2(f,c.pendingProps,cr),f!==null?(c.stateNode=f,Qn=c,Vt=null,o=!0):o=!1),o||aa(c)),null;case 13:return oE(o,c,f);case 4:return Se(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=_o(c,null,g,f):Xn(o,c,g,f),c.child;case 11:return Zx(o,c,c.type,c.pendingProps,f);case 7:return Xn(o,c,c.pendingProps,f),c.child;case 8:return Xn(o,c,c.pendingProps.children,f),c.child;case 12:return Xn(o,c,c.pendingProps.children,f),c.child;case 10:return g=c.pendingProps,oa(c,c.type,g.value),Xn(o,c,g.children,f),c.child;case 9:return v=c.type._context,g=c.pendingProps.children,po(c),v=Kn(v),g=g(v),c.flags|=1,Xn(o,c,g,f),c.child;case 14:return Jx(o,c,c.type,c.pendingProps,f);case 15:return eE(o,c,c.type,c.pendingProps,f);case 19:return cE(o,c,f);case 31:return Zj(o,c,f);case 22:return tE(o,c,f,c.pendingProps);case 24:return po(c),g=Kn(wn),o===null?(v=ey(),v===null&&(v=jt,S=Zp(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=f),v=S),c.memoizedState={parent:g,cache:v},ny(c),oa(c,wn,v)):((o.lanes&f)!==0&&(iy(o,c),gu(c,null,null,f),hu()),v=o.memoizedState,S=c.memoizedState,v.parent!==g?(v={parent:g,cache:g},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),oa(c,wn,g)):(g=S.cache,oa(c,wn,g),g!==v.cache&&Xp(c,[wn],f,!0))),Xn(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function ws(o){o.flags|=4}function Fy(o,c,f,g,v){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(LE())o.flags|=8192;else throw bo=Lf,ty}else o.flags&=-16777217}function dE(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!CR(c))if(LE())o.flags|=8192;else throw bo=Lf,ty}function eh(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?ht():536870912,o.lanes|=c,$l|=c)}function _u(o,c){if(!ct)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function qt(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(c)for(var v=o.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=g,o.childLanes=f,c}function e2(o,c,f){var g=c.pendingProps;switch(Wp(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(c),null;case 1:return qt(c),null;case 3:return f=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),vs(wn),ke(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Dl(c)?ws(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Yp())),qt(c),null;case 26:var v=c.type,S=c.memoizedState;return o===null?(ws(c),S!==null?(qt(c),dE(c,S)):(qt(c),Fy(c,v,null,g,f))):S?S!==o.memoizedState?(ws(c),qt(c),dE(c,S)):(qt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&ws(c),qt(c),Fy(c,v,o,g,f)),null;case 27:if(nn(c),f=ge.current,v=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&ws(c);else{if(!g){if(c.stateNode===null)throw Error(i(166));return qt(c),null}o=ie.current,Dl(c)?Vw(c):(o=vR(v,g,f),c.stateNode=o,ws(c))}return qt(c),null;case 5:if(nn(c),v=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&ws(c);else{if(!g){if(c.stateNode===null)throw Error(i(166));return qt(c),null}if(S=ie.current,Dl(c))Vw(c);else{var T=mh(ge.current);switch(S){case 1:S=T.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:S=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":S=T.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":S=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":S=T.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?S.multiple=!0:g.size&&(S.size=g.size);break;default:S=typeof g.is=="string"?T.createElement(v,{is:g.is}):T.createElement(v)}}S[Yn]=c,S[_i]=g;e:for(T=c.child;T!==null;){if(T.tag===5||T.tag===6)S.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===c)break e;for(;T.sibling===null;){if(T.return===null||T.return===c)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}c.stateNode=S;e:switch(Zn(S,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&ws(c)}}return qt(c),Fy(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,f),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&ws(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(i(166));if(o=ge.current,Dl(c)){if(o=c.stateNode,f=c.memoizedProps,g=null,v=Qn,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}o[Yn]=c,o=!!(o.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||oR(o.nodeValue,f)),o||aa(c,!0)}else o=mh(o).createTextNode(g),o[Yn]=c,c.stateNode=o}return qt(c),null;case 31:if(f=c.memoizedState,o===null||o.memoizedState!==null){if(g=Dl(c),f!==null){if(o===null){if(!g)throw Error(i(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[Yn]=c}else go(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;qt(c),o=!1}else f=Yp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return c.flags&256?(Hi(c),c):(Hi(c),null);if((c.flags&128)!==0)throw Error(i(558))}return qt(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=Dl(c),g!==null&&g.dehydrated!==null){if(o===null){if(!v)throw Error(i(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Yn]=c}else go(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;qt(c),v=!1}else v=Yp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return c.flags&256?(Hi(c),c):(Hi(c),null)}return Hi(c),(c.flags&128)!==0?(c.lanes=f,c):(f=g!==null,o=o!==null&&o.memoizedState!==null,f&&(g=c.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==v&&(g.flags|=2048)),f!==o&&f&&(c.child.flags|=8192),eh(c,c.updateQueue),qt(c),null);case 4:return ke(),o===null&&av(c.stateNode.containerInfo),qt(c),null;case 10:return vs(c.type),qt(c),null;case 19:if(J(mn),g=c.memoizedState,g===null)return qt(c),null;if(v=(c.flags&128)!==0,S=g.rendering,S===null)if(v)_u(g,!1);else{if(dn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(S=Hf(o),S!==null){for(c.flags|=128,_u(g,!1),o=S.updateQueue,c.updateQueue=o,eh(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)Uw(f,o),f=f.sibling;return ne(mn,mn.current&1|2),ct&&ps(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&ce()>sh&&(c.flags|=128,v=!0,_u(g,!1),c.lanes=4194304)}else{if(!v)if(o=Hf(S),o!==null){if(c.flags|=128,v=!0,o=o.updateQueue,c.updateQueue=o,eh(c,o),_u(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!ct)return qt(c),null}else 2*ce()-g.renderingStartTime>sh&&f!==536870912&&(c.flags|=128,v=!0,_u(g,!1),c.lanes=4194304);g.isBackwards?(S.sibling=c.child,c.child=S):(o=g.last,o!==null?o.sibling=S:c.child=S,g.last=S)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=ce(),o.sibling=null,f=mn.current,ne(mn,v?f&1|2:f&1),ct&&ps(c,g.treeForkCount),o):(qt(c),null);case 22:case 23:return Hi(c),oy(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(f&536870912)!==0&&(c.flags&128)===0&&(qt(c),c.subtreeFlags&6&&(c.flags|=8192)):qt(c),f=c.updateQueue,f!==null&&eh(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048),o!==null&&J(yo),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),vs(wn),qt(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function t2(o,c){switch(Wp(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return vs(wn),ke(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return nn(c),null;case 31:if(c.memoizedState!==null){if(Hi(c),c.alternate===null)throw Error(i(340));go()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Hi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));go()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return J(mn),null;case 4:return ke(),null;case 10:return vs(c.type),null;case 22:case 23:return Hi(c),oy(),o!==null&&J(yo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return vs(wn),null;case 25:return null;default:return null}}function fE(o,c){switch(Wp(c),c.tag){case 3:vs(wn),ke();break;case 26:case 27:case 5:nn(c);break;case 4:ke();break;case 31:c.memoizedState!==null&&Hi(c);break;case 13:Hi(c);break;case 19:J(mn);break;case 10:vs(c.type);break;case 22:case 23:Hi(c),oy(),o!==null&&J(yo);break;case 24:vs(wn)}}function Su(o,c){try{var f=c.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&o)===o){g=void 0;var S=f.create,T=f.inst;g=S(),T.destroy=g}f=f.next}while(f!==v)}}catch(M){Ct(c,c.return,M)}}function ha(o,c,f){try{var g=c.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var S=v.next;g=S;do{if((g.tag&o)===o){var T=g.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,v=c;var z=f,K=M;try{K()}catch(le){Ct(v,z,le)}}}g=g.next}while(g!==S)}}catch(le){Ct(c,c.return,le)}}function hE(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{ix(c,f)}catch(g){Ct(o,o.return,g)}}}function gE(o,c,f){f.props=wo(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(g){Ct(o,c,g)}}function wu(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof f=="function"?o.refCleanup=f(g):f.current=g}}catch(v){Ct(o,c,v)}}function Yr(o,c){var f=o.ref,g=o.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(v){Ct(o,c,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){Ct(o,c,v)}else f.current=null}function mE(o){var c=o.type,f=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(v){Ct(o,o.return,v)}}function Uy(o,c,f){try{var g=o.stateNode;x2(g,o.type,f,c),g[_i]=c}catch(v){Ct(o,o.return,v)}}function pE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&_a(o.type)||o.tag===4}function zy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&_a(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hy(o,c,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=hs));else if(g!==4&&(g===27&&_a(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(Hy(o,c,f),o=o.sibling;o!==null;)Hy(o,c,f),o=o.sibling}function th(o,c,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(g!==4&&(g===27&&_a(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(th(o,c,f),o=o.sibling;o!==null;)th(o,c,f),o=o.sibling}function yE(o){var c=o.stateNode,f=o.memoizedProps;try{for(var g=o.type,v=c.attributes;v.length;)c.removeAttributeNode(v[0]);Zn(c,g,f),c[Yn]=o,c[_i]=f}catch(S){Ct(o,o.return,S)}}var xs=!1,Rn=!1,By=!1,vE=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function n2(o,c){if(o=o.containerInfo,cv=wh,o=Dw(o),Pp(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var v=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var T=0,M=-1,z=-1,K=0,le=0,de=o,Z=null;t:for(;;){for(var te;de!==f||v!==0&&de.nodeType!==3||(M=T+v),de!==S||g!==0&&de.nodeType!==3||(z=T+g),de.nodeType===3&&(T+=de.nodeValue.length),(te=de.firstChild)!==null;)Z=de,de=te;for(;;){if(de===o)break t;if(Z===f&&++K===v&&(M=T),Z===S&&++le===g&&(z=T),(te=de.nextSibling)!==null)break;de=Z,Z=de.parentNode}de=te}f=M===-1||z===-1?null:{start:M,end:z}}else f=null}f=f||{start:0,end:0}}else f=null;for(uv={focusedElem:o,selectionRange:f},wh=!1,Hn=c;Hn!==null;)if(c=Hn,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Hn=o;else for(;Hn!==null;){switch(c=Hn,S=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)v=o[f],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,f=c,v=S.memoizedProps,S=S.memoizedState,g=f.stateNode;try{var Ce=wo(f.type,v);o=g.getSnapshotBeforeUpdate(Ce,S),g.__reactInternalSnapshotBeforeUpdate=o}catch(Pe){Ct(f,f.return,Pe)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)hv(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":hv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=c.sibling,o!==null){o.return=c.return,Hn=o;break}Hn=c.return}}function bE(o,c,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Rs(o,f),g&4&&Su(5,f);break;case 1:if(Rs(o,f),g&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(T){Ct(f,f.return,T)}else{var v=wo(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(v,c,o.__reactInternalSnapshotBeforeUpdate)}catch(T){Ct(f,f.return,T)}}g&64&&hE(f),g&512&&wu(f,f.return);break;case 3:if(Rs(o,f),g&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{ix(o,c)}catch(T){Ct(f,f.return,T)}}break;case 27:c===null&&g&4&&yE(f);case 26:case 5:Rs(o,f),c===null&&g&4&&mE(f),g&512&&wu(f,f.return);break;case 12:Rs(o,f);break;case 31:Rs(o,f),g&4&&wE(o,f);break;case 13:Rs(o,f),g&4&&xE(o,f),g&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=d2.bind(null,f),k2(o,f))));break;case 22:if(g=f.memoizedState!==null||xs,!g){c=c!==null&&c.memoizedState!==null||Rn,v=xs;var S=Rn;xs=g,(Rn=c)&&!S?Cs(o,f,(f.subtreeFlags&8772)!==0):Rs(o,f),xs=v,Rn=S}break;case 30:break;default:Rs(o,f)}}function _E(o){var c=o.alternate;c!==null&&(o.alternate=null,_E(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&vp(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Xt=null,wi=!1;function Es(o,c,f){for(f=f.child;f!==null;)SE(o,c,f),f=f.sibling}function SE(o,c,f){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(_n,f)}catch{}switch(f.tag){case 26:Rn||Yr(f,c),Es(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Rn||Yr(f,c);var g=Xt,v=wi;_a(f.type)&&(Xt=f.stateNode,wi=!1),Es(o,c,f),ku(f.stateNode),Xt=g,wi=v;break;case 5:Rn||Yr(f,c);case 6:if(g=Xt,v=wi,Xt=null,Es(o,c,f),Xt=g,wi=v,Xt!==null)if(wi)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(f.stateNode)}catch(S){Ct(f,c,S)}else try{Xt.removeChild(f.stateNode)}catch(S){Ct(f,c,S)}break;case 18:Xt!==null&&(wi?(o=Xt,hR(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Xl(o)):hR(Xt,f.stateNode));break;case 4:g=Xt,v=wi,Xt=f.stateNode.containerInfo,wi=!0,Es(o,c,f),Xt=g,wi=v;break;case 0:case 11:case 14:case 15:ha(2,f,c),Rn||ha(4,f,c),Es(o,c,f);break;case 1:Rn||(Yr(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"&&gE(f,c,g)),Es(o,c,f);break;case 21:Es(o,c,f);break;case 22:Rn=(g=Rn)||f.memoizedState!==null,Es(o,c,f),Rn=g;break;default:Es(o,c,f)}}function wE(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Xl(o)}catch(f){Ct(c,c.return,f)}}}function xE(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Xl(o)}catch(f){Ct(c,c.return,f)}}function i2(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new vE),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new vE),c;default:throw Error(i(435,o.tag))}}function nh(o,c){var f=i2(o);c.forEach(function(g){if(!f.has(g)){f.add(g);var v=f2.bind(null,o,g);g.then(v,v)}})}function xi(o,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var v=f[g],S=o,T=c,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(_a(M.type)){Xt=M.stateNode,wi=!1;break e}break;case 5:Xt=M.stateNode,wi=!1;break e;case 3:case 4:Xt=M.stateNode.containerInfo,wi=!0;break e}M=M.return}if(Xt===null)throw Error(i(160));SE(S,T,v),Xt=null,wi=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)EE(c,o),c=c.sibling}var Ar=null;function EE(o,c){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:xi(c,o),Ei(o),g&4&&(ha(3,o,o.return),Su(3,o),ha(5,o,o.return));break;case 1:xi(c,o),Ei(o),g&512&&(Rn||f===null||Yr(f,f.return)),g&64&&xs&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var v=Ar;if(xi(c,o),Ei(o),g&512&&(Rn||f===null||Yr(f,f.return)),g&4){var S=f!==null?f.memoizedState:null;if(g=o.memoizedState,f===null)if(g===null)if(o.stateNode===null){e:{g=o.type,f=o.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":S=v.getElementsByTagName("title")[0],(!S||S[Qc]||S[Yn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(g),v.head.insertBefore(S,v.querySelector("head > title"))),Zn(S,g,f),S[Yn]=o,zn(S),g=S;break e;case"link":var T=ER("link","href",v).get(g+(f.href||""));if(T){for(var M=0;M<T.length;M++)if(S=T[M],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){T.splice(M,1);break t}}S=v.createElement(g),Zn(S,g,f),v.head.appendChild(S);break;case"meta":if(T=ER("meta","content",v).get(g+(f.content||""))){for(M=0;M<T.length;M++)if(S=T[M],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){T.splice(M,1);break t}}S=v.createElement(g),Zn(S,g,f),v.head.appendChild(S);break;default:throw Error(i(468,g))}S[Yn]=o,zn(S),g=S}o.stateNode=g}else RR(v,o.type,o.stateNode);else o.stateNode=xR(v,g,o.memoizedProps);else S!==g?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,g===null?RR(v,o.type,o.stateNode):xR(v,g,o.memoizedProps)):g===null&&o.stateNode!==null&&Uy(o,o.memoizedProps,f.memoizedProps)}break;case 27:xi(c,o),Ei(o),g&512&&(Rn||f===null||Yr(f,f.return)),f!==null&&g&4&&Uy(o,o.memoizedProps,f.memoizedProps);break;case 5:if(xi(c,o),Ei(o),g&512&&(Rn||f===null||Yr(f,f.return)),o.flags&32){v=o.stateNode;try{_l(v,"")}catch(Ce){Ct(o,o.return,Ce)}}g&4&&o.stateNode!=null&&(v=o.memoizedProps,Uy(o,v,f!==null?f.memoizedProps:v)),g&1024&&(By=!0);break;case 6:if(xi(c,o),Ei(o),g&4){if(o.stateNode===null)throw Error(i(162));g=o.memoizedProps,f=o.stateNode;try{f.nodeValue=g}catch(Ce){Ct(o,o.return,Ce)}}break;case 3:if(vh=null,v=Ar,Ar=ph(c.containerInfo),xi(c,o),Ar=v,Ei(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Xl(c.containerInfo)}catch(Ce){Ct(o,o.return,Ce)}By&&(By=!1,RE(o));break;case 4:g=Ar,Ar=ph(o.stateNode.containerInfo),xi(c,o),Ei(o),Ar=g;break;case 12:xi(c,o),Ei(o);break;case 31:xi(c,o),Ei(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,nh(o,g)));break;case 13:xi(c,o),Ei(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(rh=ce()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,nh(o,g)));break;case 22:v=o.memoizedState!==null;var z=f!==null&&f.memoizedState!==null,K=xs,le=Rn;if(xs=K||v,Rn=le||z,xi(c,o),Rn=le,xs=K,Ei(o),g&8192)e:for(c=o.stateNode,c._visibility=v?c._visibility&-2:c._visibility|1,v&&(f===null||z||xs||Rn||xo(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){z=f=c;try{if(S=z.stateNode,v)T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=z.stateNode;var de=z.memoizedProps.style,Z=de!=null&&de.hasOwnProperty("display")?de.display:null;M.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ce){Ct(z,z.return,Ce)}}}else if(c.tag===6){if(f===null){z=c;try{z.stateNode.nodeValue=v?"":z.memoizedProps}catch(Ce){Ct(z,z.return,Ce)}}}else if(c.tag===18){if(f===null){z=c;try{var te=z.stateNode;v?gR(te,!0):gR(z.stateNode,!1)}catch(Ce){Ct(z,z.return,Ce)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,nh(o,f))));break;case 19:xi(c,o),Ei(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,nh(o,g)));break;case 30:break;case 21:break;default:xi(c,o),Ei(o)}}function Ei(o){var c=o.flags;if(c&2){try{for(var f,g=o.return;g!==null;){if(pE(g)){f=g;break}g=g.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var v=f.stateNode,S=zy(o);th(o,S,v);break;case 5:var T=f.stateNode;f.flags&32&&(_l(T,""),f.flags&=-33);var M=zy(o);th(o,M,T);break;case 3:case 4:var z=f.stateNode.containerInfo,K=zy(o);Hy(o,K,z);break;default:throw Error(i(161))}}catch(le){Ct(o,o.return,le)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function RE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;RE(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Rs(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)bE(o,c.alternate,c),c=c.sibling}function xo(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:ha(4,c,c.return),xo(c);break;case 1:Yr(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&gE(c,c.return,f),xo(c);break;case 27:ku(c.stateNode);case 26:case 5:Yr(c,c.return),xo(c);break;case 22:c.memoizedState===null&&xo(c);break;case 30:xo(c);break;default:xo(c)}o=o.sibling}}function Cs(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,v=o,S=c,T=S.flags;switch(S.tag){case 0:case 11:case 15:Cs(v,S,f),Su(4,S);break;case 1:if(Cs(v,S,f),g=S,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(K){Ct(g,g.return,K)}if(g=S,v=g.updateQueue,v!==null){var M=g.stateNode;try{var z=v.shared.hiddenCallbacks;if(z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<z.length;v++)nx(z[v],M)}catch(K){Ct(g,g.return,K)}}f&&T&64&&hE(S),wu(S,S.return);break;case 27:yE(S);case 26:case 5:Cs(v,S,f),f&&g===null&&T&4&&mE(S),wu(S,S.return);break;case 12:Cs(v,S,f);break;case 31:Cs(v,S,f),f&&T&4&&wE(v,S);break;case 13:Cs(v,S,f),f&&T&4&&xE(v,S);break;case 22:S.memoizedState===null&&Cs(v,S,f),wu(S,S.return);break;case 30:break;default:Cs(v,S,f)}c=c.sibling}}function $y(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&lu(f))}function Vy(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&lu(o))}function Or(o,c,f,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)CE(o,c,f,g),c=c.sibling}function CE(o,c,f,g){var v=c.flags;switch(c.tag){case 0:case 11:case 15:Or(o,c,f,g),v&2048&&Su(9,c);break;case 1:Or(o,c,f,g);break;case 3:Or(o,c,f,g),v&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&lu(o)));break;case 12:if(v&2048){Or(o,c,f,g),o=c.stateNode;try{var S=c.memoizedProps,T=S.id,M=S.onPostCommit;typeof M=="function"&&M(T,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(z){Ct(c,c.return,z)}}else Or(o,c,f,g);break;case 31:Or(o,c,f,g);break;case 13:Or(o,c,f,g);break;case 23:break;case 22:S=c.stateNode,T=c.alternate,c.memoizedState!==null?S._visibility&2?Or(o,c,f,g):xu(o,c):S._visibility&2?Or(o,c,f,g):(S._visibility|=2,zl(o,c,f,g,(c.subtreeFlags&10256)!==0||!1)),v&2048&&$y(T,c);break;case 24:Or(o,c,f,g),v&2048&&Vy(c.alternate,c);break;default:Or(o,c,f,g)}}function zl(o,c,f,g,v){for(v=v&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=o,T=c,M=f,z=g,K=T.flags;switch(T.tag){case 0:case 11:case 15:zl(S,T,M,z,v),Su(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?zl(S,T,M,z,v):xu(S,T):(le._visibility|=2,zl(S,T,M,z,v)),v&&K&2048&&$y(T.alternate,T);break;case 24:zl(S,T,M,z,v),v&&K&2048&&Vy(T.alternate,T);break;default:zl(S,T,M,z,v)}c=c.sibling}}function xu(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,g=c,v=g.flags;switch(g.tag){case 22:xu(f,g),v&2048&&$y(g.alternate,g);break;case 24:xu(f,g),v&2048&&Vy(g.alternate,g);break;default:xu(f,g)}c=c.sibling}}var Eu=8192;function Hl(o,c,f){if(o.subtreeFlags&Eu)for(o=o.child;o!==null;)TE(o,c,f),o=o.sibling}function TE(o,c,f){switch(o.tag){case 26:Hl(o,c,f),o.flags&Eu&&o.memoizedState!==null&&$2(f,Ar,o.memoizedState,o.memoizedProps);break;case 5:Hl(o,c,f);break;case 3:case 4:var g=Ar;Ar=ph(o.stateNode.containerInfo),Hl(o,c,f),Ar=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=Eu,Eu=16777216,Hl(o,c,f),Eu=g):Hl(o,c,f));break;default:Hl(o,c,f)}}function AE(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Ru(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];Hn=g,DE(g,o)}AE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)OE(o),o=o.sibling}function OE(o){switch(o.tag){case 0:case 11:case 15:Ru(o),o.flags&2048&&ha(9,o,o.return);break;case 3:Ru(o);break;case 12:Ru(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,ih(o)):Ru(o);break;default:Ru(o)}}function ih(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];Hn=g,DE(g,o)}AE(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:ha(8,c,c.return),ih(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,ih(c));break;default:ih(c)}o=o.sibling}}function DE(o,c){for(;Hn!==null;){var f=Hn;switch(f.tag){case 0:case 11:case 15:ha(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:lu(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Hn=g;else e:for(f=o;Hn!==null;){g=Hn;var v=g.sibling,S=g.return;if(_E(g),g===f){Hn=null;break e}if(v!==null){v.return=S,Hn=v;break e}Hn=S}}}var r2={getCacheForType:function(o){var c=Kn(wn),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f},cacheSignal:function(){return Kn(wn).controller.signal}},s2=typeof WeakMap=="function"?WeakMap:Map,wt=0,jt=null,tt=null,st=0,Rt=0,Bi=null,ga=!1,Bl=!1,qy=!1,Ts=0,dn=0,ma=0,Eo=0,Wy=0,$i=0,$l=0,Cu=null,Ri=null,Gy=!1,rh=0,kE=0,sh=1/0,ah=null,pa=null,Dn=0,ya=null,Vl=null,As=0,Yy=0,Qy=null,ME=null,Tu=0,Ky=null;function Vi(){return(wt&2)!==0&&st!==0?st&-st:B.T!==null?nv():tr()}function NE(){if($i===0)if((st&536870912)===0||ct){var o=hi;hi<<=1,(hi&3932160)===0&&(hi=262144),$i=o}else $i=536870912;return o=zi.current,o!==null&&(o.flags|=32),$i}function Ci(o,c,f){(o===jt&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)&&(ql(o,0),va(o,st,$i,!1)),gt(o,f),((wt&2)===0||o!==jt)&&(o===jt&&((wt&2)===0&&(Eo|=f),dn===4&&va(o,st,$i,!1)),Qr(o))}function IE(o,c,f){if((wt&6)!==0)throw Error(i(327));var g=!f&&(c&127)===0&&(c&o.expiredLanes)===0||He(o,c),v=g?l2(o,c):Zy(o,c,!0),S=g;do{if(v===0){Bl&&!g&&va(o,c,0,!1);break}else{if(f=o.current.alternate,S&&!a2(f)){v=Zy(o,c,!1),S=!1;continue}if(v===2){if(S=c,o.errorRecoveryDisabledLanes&S)var T=0;else T=o.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){c=T;e:{var M=o;v=Cu;var z=M.current.memoizedState.isDehydrated;if(z&&(ql(M,T).flags|=256),T=Zy(M,T,!1),T!==2){if(qy&&!z){M.errorRecoveryDisabledLanes|=S,Eo|=S,v=4;break e}S=Ri,Ri=v,S!==null&&(Ri===null?Ri=S:Ri.push.apply(Ri,S))}v=T}if(S=!1,v!==2)continue}}if(v===1){ql(o,0),va(o,c,0,!0);break}e:{switch(g=o,S=v,S){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:va(g,c,$i,!ga);break e;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(v=rh+300-ce(),10<v)){if(va(g,c,$i,!ga),xe(g,0,!0)!==0)break e;As=c,g.timeoutHandle=dR(PE.bind(null,g,f,Ri,ah,Gy,c,$i,Eo,$l,ga,S,"Throttled",-0,0),v);break e}PE(g,f,Ri,ah,Gy,c,$i,Eo,$l,ga,S,null,-0,0)}}break}while(!0);Qr(o)}function PE(o,c,f,g,v,S,T,M,z,K,le,de,Z,te){if(o.timeoutHandle=-1,de=c.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hs},TE(c,S,de);var Ce=(S&62914560)===S?rh-ce():(S&4194048)===S?kE-ce():0;if(Ce=V2(de,Ce),Ce!==null){As=S,o.cancelPendingCommit=Ce($E.bind(null,o,c,S,f,g,v,T,M,z,le,de,null,Z,te)),va(o,S,T,!K);return}}$E(o,c,S,f,g,v,T,M,z)}function a2(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var v=f[g],S=v.getSnapshot;v=v.value;try{if(!Fi(S(),v))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function va(o,c,f,g){c&=~Wy,c&=~Eo,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var v=c;0<v;){var S=31-rt(v),T=1<<S;g[S]=-1,v&=~T}f!==0&&Sn(o,f,c)}function oh(){return(wt&6)===0?(Au(0),!1):!0}function Xy(){if(tt!==null){if(Rt===0)var o=tt.return;else o=tt,ys=mo=null,hy(o),Pl=null,uu=0,o=tt;for(;o!==null;)fE(o.alternate,o),o=o.return;tt=null}}function ql(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,C2(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),As=0,Xy(),jt=o,tt=f=ms(o.current,null),st=c,Rt=0,Bi=null,ga=!1,Bl=He(o,c),qy=!1,$l=$i=Wy=Eo=ma=dn=0,Ri=Cu=null,Gy=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var v=31-rt(g),S=1<<v;c|=o[v],g&=~S}return Ts=c,Af(),f}function jE(o,c){We=null,B.H=vu,c===Il||c===jf?(c=Zw(),Rt=3):c===ty?(c=Zw(),Rt=4):Rt=c===Oy?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Bi=c,tt===null&&(dn=1,Kf(o,ar(c,o.current)))}function LE(){var o=zi.current;return o===null?!0:(st&4194048)===st?ur===null:(st&62914560)===st||(st&536870912)!==0?o===ur:!1}function FE(){var o=B.H;return B.H=vu,o===null?vu:o}function UE(){var o=B.A;return B.A=r2,o}function lh(){dn=4,ga||(st&4194048)!==st&&zi.current!==null||(Bl=!0),(ma&134217727)===0&&(Eo&134217727)===0||jt===null||va(jt,st,$i,!1)}function Zy(o,c,f){var g=wt;wt|=2;var v=FE(),S=UE();(jt!==o||st!==c)&&(ah=null,ql(o,c)),c=!1;var T=dn;e:do try{if(Rt!==0&&tt!==null){var M=tt,z=Bi;switch(Rt){case 8:Xy(),T=6;break e;case 3:case 2:case 9:case 6:zi.current===null&&(c=!0);var K=Rt;if(Rt=0,Bi=null,Wl(o,M,z,K),f&&Bl){T=0;break e}break;default:K=Rt,Rt=0,Bi=null,Wl(o,M,z,K)}}o2(),T=dn;break}catch(le){jE(o,le)}while(!0);return c&&o.shellSuspendCounter++,ys=mo=null,wt=g,B.H=v,B.A=S,tt===null&&(jt=null,st=0,Af()),T}function o2(){for(;tt!==null;)zE(tt)}function l2(o,c){var f=wt;wt|=2;var g=FE(),v=UE();jt!==o||st!==c?(ah=null,sh=ce()+500,ql(o,c)):Bl=He(o,c);e:do try{if(Rt!==0&&tt!==null){c=tt;var S=Bi;t:switch(Rt){case 1:Rt=0,Bi=null,Wl(o,c,S,1);break;case 2:case 9:if(Kw(S)){Rt=0,Bi=null,HE(c);break}c=function(){Rt!==2&&Rt!==9||jt!==o||(Rt=7),Qr(o)},S.then(c,c);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:Kw(S)?(Rt=0,Bi=null,HE(c)):(Rt=0,Bi=null,Wl(o,c,S,7));break;case 5:var T=null;switch(tt.tag){case 26:T=tt.memoizedState;case 5:case 27:var M=tt;if(T?CR(T):M.stateNode.complete){Rt=0,Bi=null;var z=M.sibling;if(z!==null)tt=z;else{var K=M.return;K!==null?(tt=K,ch(K)):tt=null}break t}}Rt=0,Bi=null,Wl(o,c,S,5);break;case 6:Rt=0,Bi=null,Wl(o,c,S,6);break;case 8:Xy(),dn=6;break e;default:throw Error(i(462))}}c2();break}catch(le){jE(o,le)}while(!0);return ys=mo=null,B.H=g,B.A=v,wt=f,tt!==null?0:(jt=null,st=0,Af(),dn)}function c2(){for(;tt!==null&&!U();)zE(tt)}function zE(o){var c=uE(o.alternate,o,Ts);o.memoizedProps=o.pendingProps,c===null?ch(o):tt=c}function HE(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=rE(f,c,c.pendingProps,c.type,void 0,st);break;case 11:c=rE(f,c,c.pendingProps,c.type.render,c.ref,st);break;case 5:hy(c);default:fE(f,c),c=tt=Uw(c,Ts),c=uE(f,c,Ts)}o.memoizedProps=o.pendingProps,c===null?ch(o):tt=c}function Wl(o,c,f,g){ys=mo=null,hy(c),Pl=null,uu=0;var v=c.return;try{if(Xj(o,v,c,f,st)){dn=1,Kf(o,ar(f,o.current)),tt=null;return}}catch(S){if(v!==null)throw tt=v,S;dn=1,Kf(o,ar(f,o.current)),tt=null;return}c.flags&32768?(ct||g===1?o=!0:Bl||(st&536870912)!==0?o=!1:(ga=o=!0,(g===2||g===9||g===3||g===6)&&(g=zi.current,g!==null&&g.tag===13&&(g.flags|=16384))),BE(c,o)):ch(c)}function ch(o){var c=o;do{if((c.flags&32768)!==0){BE(c,ga);return}o=c.return;var f=e2(c.alternate,c,Ts);if(f!==null){tt=f;return}if(c=c.sibling,c!==null){tt=c;return}tt=c=o}while(c!==null);dn===0&&(dn=5)}function BE(o,c){do{var f=t2(o.alternate,o);if(f!==null){f.flags&=32767,tt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){tt=o;return}tt=o=f}while(o!==null);dn=6,tt=null}function $E(o,c,f,g,v,S,T,M,z){o.cancelPendingCommit=null;do uh();while(Dn!==0);if((wt&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(S=c.lanes|c.childLanes,S|=zp,Ge(o,f,S,T,M,z),o===jt&&(tt=jt=null,st=0),Vl=c,ya=o,As=f,Yy=S,Qy=v,ME=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,h2(ye,function(){return YE(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=B.T,B.T=null,v=X.p,X.p=2,T=wt,wt|=4;try{n2(o,c,f)}finally{wt=T,X.p=v,B.T=g}}Dn=1,VE(),qE(),WE()}}function VE(){if(Dn===1){Dn=0;var o=ya,c=Vl,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=B.T,B.T=null;var g=X.p;X.p=2;var v=wt;wt|=4;try{EE(c,o);var S=uv,T=Dw(o.containerInfo),M=S.focusedElem,z=S.selectionRange;if(T!==M&&M&&M.ownerDocument&&Ow(M.ownerDocument.documentElement,M)){if(z!==null&&Pp(M)){var K=z.start,le=z.end;if(le===void 0&&(le=K),"selectionStart"in M)M.selectionStart=K,M.selectionEnd=Math.min(le,M.value.length);else{var de=M.ownerDocument||document,Z=de&&de.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),Ce=M.textContent.length,Pe=Math.min(z.start,Ce),Nt=z.end===void 0?Pe:Math.min(z.end,Ce);!te.extend&&Pe>Nt&&(T=Nt,Nt=Pe,Pe=T);var W=Aw(M,Pe),V=Aw(M,Nt);if(W&&V&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==V.node||te.focusOffset!==V.offset)){var Y=de.createRange();Y.setStart(W.node,W.offset),te.removeAllRanges(),Pe>Nt?(te.addRange(Y),te.extend(V.node,V.offset)):(Y.setEnd(V.node,V.offset),te.addRange(Y))}}}}for(de=[],te=M;te=te.parentNode;)te.nodeType===1&&de.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<de.length;M++){var ue=de[M];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}wh=!!cv,uv=cv=null}finally{wt=v,X.p=g,B.T=f}}o.current=c,Dn=2}}function qE(){if(Dn===2){Dn=0;var o=ya,c=Vl,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=B.T,B.T=null;var g=X.p;X.p=2;var v=wt;wt|=4;try{bE(o,c.alternate,c)}finally{wt=v,X.p=g,B.T=f}}Dn=3}}function WE(){if(Dn===4||Dn===3){Dn=0,Q();var o=ya,c=Vl,f=As,g=ME;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Dn=5:(Dn=0,Vl=ya=null,GE(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(pa=null),Gn(f),c=c.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(_n,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=B.T,v=X.p,X.p=2,B.T=null;try{for(var S=o.onRecoverableError,T=0;T<g.length;T++){var M=g[T];S(M.value,{componentStack:M.stack})}}finally{B.T=c,X.p=v}}(As&3)!==0&&uh(),Qr(o),v=o.pendingLanes,(f&261930)!==0&&(v&42)!==0?o===Ky?Tu++:(Tu=0,Ky=o):Tu=0,Au(0)}}function GE(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,lu(c)))}function uh(){return VE(),qE(),WE(),YE()}function YE(){if(Dn!==5)return!1;var o=ya,c=Yy;Yy=0;var f=Gn(As),g=B.T,v=X.p;try{X.p=32>f?32:f,B.T=null,f=Qy,Qy=null;var S=ya,T=As;if(Dn=0,Vl=ya=null,As=0,(wt&6)!==0)throw Error(i(331));var M=wt;if(wt|=4,OE(S.current),CE(S,S.current,T,f),wt=M,Au(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(_n,S)}catch{}return!0}finally{X.p=v,B.T=g,GE(o,c)}}function QE(o,c,f){c=ar(f,c),c=Ay(o.stateNode,c,2),o=ua(o,c,2),o!==null&&(gt(o,2),Qr(o))}function Ct(o,c,f){if(o.tag===3)QE(o,o,f);else for(;c!==null;){if(c.tag===3){QE(c,o,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(pa===null||!pa.has(g))){o=ar(f,o),f=Kx(2),g=ua(c,f,2),g!==null&&(Xx(f,g,c,o),gt(g,2),Qr(g));break}}c=c.return}}function Jy(o,c,f){var g=o.pingCache;if(g===null){g=o.pingCache=new s2;var v=new Set;g.set(c,v)}else v=g.get(c),v===void 0&&(v=new Set,g.set(c,v));v.has(f)||(qy=!0,v.add(f),o=u2.bind(null,o,c,f),c.then(o,o))}function u2(o,c,f){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,jt===o&&(st&f)===f&&(dn===4||dn===3&&(st&62914560)===st&&300>ce()-rh?(wt&2)===0&&ql(o,0):Wy|=f,$l===st&&($l=0)),Qr(o)}function KE(o,c){c===0&&(c=ht()),o=fo(o,c),o!==null&&(gt(o,c),Qr(o))}function d2(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),KE(o,f)}function f2(o,c){var f=0;switch(o.tag){case 31:case 13:var g=o.stateNode,v=o.memoizedState;v!==null&&(f=v.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(c),KE(o,f)}function h2(o,c){return P(o,c)}var dh=null,Gl=null,ev=!1,fh=!1,tv=!1,ba=0;function Qr(o){o!==Gl&&o.next===null&&(Gl===null?dh=Gl=o:Gl=Gl.next=o),fh=!0,ev||(ev=!0,m2())}function Au(o,c){if(!tv&&fh){tv=!0;do for(var f=!1,g=dh;g!==null;){if(o!==0){var v=g.pendingLanes;if(v===0)var S=0;else{var T=g.suspendedLanes,M=g.pingedLanes;S=(1<<31-rt(42|o)+1)-1,S&=v&~(T&~M),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,eR(g,S))}else S=st,S=xe(g,g===jt?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||He(g,S)||(f=!0,eR(g,S));g=g.next}while(f);tv=!1}}function g2(){XE()}function XE(){fh=ev=!1;var o=0;ba!==0&&R2()&&(o=ba);for(var c=ce(),f=null,g=dh;g!==null;){var v=g.next,S=ZE(g,c);S===0?(g.next=null,f===null?dh=v:f.next=v,v===null&&(Gl=f)):(f=g,(o!==0||(S&3)!==0)&&(fh=!0)),g=v}Dn!==0&&Dn!==5||Au(o),ba!==0&&(ba=0)}function ZE(o,c){for(var f=o.suspendedLanes,g=o.pingedLanes,v=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var T=31-rt(S),M=1<<T,z=v[T];z===-1?((M&f)===0||(M&g)!==0)&&(v[T]=lt(M,c)):z<=c&&(o.expiredLanes|=M),S&=~M}if(c=jt,f=st,f=xe(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,f===0||o===c&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&q(g),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||He(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(g!==null&&q(g),Gn(f)){case 2:case 8:f=Ee;break;case 32:f=ye;break;case 268435456:f=et;break;default:f=ye}return g=JE.bind(null,o),f=P(f,g),o.callbackPriority=c,o.callbackNode=f,c}return g!==null&&g!==null&&q(g),o.callbackPriority=2,o.callbackNode=null,2}function JE(o,c){if(Dn!==0&&Dn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(uh()&&o.callbackNode!==f)return null;var g=st;return g=xe(o,o===jt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(IE(o,g,c),ZE(o,ce()),o.callbackNode!=null&&o.callbackNode===f?JE.bind(null,o):null)}function eR(o,c){if(uh())return null;IE(o,c,!0)}function m2(){T2(function(){(wt&6)!==0?P(fe,g2):XE()})}function nv(){if(ba===0){var o=Ml;o===0&&(o=fi,fi<<=1,(fi&261888)===0&&(fi=256)),ba=o}return ba}function tR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:_f(""+o)}function nR(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function p2(o,c,f,g,v){if(c==="submit"&&f&&f.stateNode===v){var S=tR((v[_i]||null).action),T=g.submitter;T&&(c=(c=T[_i]||null)?tR(c.formAction):T.getAttribute("formAction"),c!==null&&(S=c,T=null));var M=new Ef("action","action",null,g,v);o.push({event:M,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ba!==0){var z=T?nR(v,T):new FormData(v);wy(f,{pending:!0,data:z,method:v.method,action:S},null,z)}}else typeof S=="function"&&(M.preventDefault(),z=T?nR(v,T):new FormData(v),wy(f,{pending:!0,data:z,method:v.method,action:S},S,z))},currentTarget:v}]})}}for(var iv=0;iv<Up.length;iv++){var rv=Up[iv],y2=rv.toLowerCase(),v2=rv[0].toUpperCase()+rv.slice(1);Tr(y2,"on"+v2)}Tr(Nw,"onAnimationEnd"),Tr(Iw,"onAnimationIteration"),Tr(Pw,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Ij,"onTransitionRun"),Tr(Pj,"onTransitionStart"),Tr(jj,"onTransitionCancel"),Tr(jw,"onTransitionEnd"),vl("onMouseEnter",["mouseout","mouseover"]),vl("onMouseLeave",["mouseout","mouseover"]),vl("onPointerEnter",["pointerout","pointerover"]),vl("onPointerLeave",["pointerout","pointerover"]),oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oo("onBeforeInput",["compositionend","keypress","textInput","paste"]),oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function iR(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],v=g.event;g=g.listeners;e:{var S=void 0;if(c)for(var T=g.length-1;0<=T;T--){var M=g[T],z=M.instance,K=M.currentTarget;if(M=M.listener,z!==S&&v.isPropagationStopped())break e;S=M,v.currentTarget=K;try{S(v)}catch(le){Tf(le)}v.currentTarget=null,S=z}else for(T=0;T<g.length;T++){if(M=g[T],z=M.instance,K=M.currentTarget,M=M.listener,z!==S&&v.isPropagationStopped())break e;S=M,v.currentTarget=K;try{S(v)}catch(le){Tf(le)}v.currentTarget=null,S=z}}}}function nt(o,c){var f=c[yp];f===void 0&&(f=c[yp]=new Set);var g=o+"__bubble";f.has(g)||(rR(c,o,2,!1),f.add(g))}function sv(o,c,f){var g=0;c&&(g|=4),rR(f,o,g,c)}var hh="_reactListening"+Math.random().toString(36).slice(2);function av(o){if(!o[hh]){o[hh]=!0,XS.forEach(function(f){f!=="selectionchange"&&(b2.has(f)||sv(f,!1,o),sv(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[hh]||(c[hh]=!0,sv("selectionchange",!1,c))}}function rR(o,c,f,g){switch(NR(c)){case 2:var v=G2;break;case 8:v=Y2;break;default:v=Sv}f=v.bind(null,c,f,o),v=void 0,!Cp||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),g?v!==void 0?o.addEventListener(c,f,{capture:!0,passive:v}):o.addEventListener(c,f,!0):v!==void 0?o.addEventListener(c,f,{passive:v}):o.addEventListener(c,f,!1)}function ov(o,c,f,g,v){var S=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var M=g.stateNode.containerInfo;if(M===v)break;if(T===4)for(T=g.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===v)return;T=T.return}for(;M!==null;){if(T=ml(M),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){g=S=T;continue e}M=M.parentNode}}g=g.return}cw(function(){var K=S,le=Ep(f),de=[];e:{var Z=Lw.get(o);if(Z!==void 0){var te=Ef,Ce=o;switch(o){case"keypress":if(wf(f)===0)break e;case"keydown":case"keyup":te=fj;break;case"focusin":Ce="focus",te=Dp;break;case"focusout":Ce="blur",te=Dp;break;case"beforeblur":case"afterblur":te=Dp;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=mj;break;case Nw:case Iw:case Pw:te=ij;break;case jw:te=yj;break;case"scroll":case"scrollend":te=ZP;break;case"wheel":te=bj;break;case"copy":case"cut":case"paste":te=sj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=gw;break;case"toggle":case"beforetoggle":te=Sj}var Pe=(c&4)!==0,Nt=!Pe&&(o==="scroll"||o==="scrollend"),W=Pe?Z!==null?Z+"Capture":null:Z;Pe=[];for(var V=K,Y;V!==null;){var ue=V;if(Y=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Y===null||W===null||(ue=Xc(V,W),ue!=null&&Pe.push(Du(V,ue,Y))),Nt)break;V=V.return}0<Pe.length&&(Z=new te(Z,Ce,null,f,le),de.push({event:Z,listeners:Pe}))}}if((c&7)===0){e:{if(Z=o==="mouseover"||o==="pointerover",te=o==="mouseout"||o==="pointerout",Z&&f!==xp&&(Ce=f.relatedTarget||f.fromElement)&&(ml(Ce)||Ce[gl]))break e;if((te||Z)&&(Z=le.window===le?le:(Z=le.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(Ce=f.relatedTarget||f.toElement,te=K,Ce=Ce?ml(Ce):null,Ce!==null&&(Nt=s(Ce),Pe=Ce.tag,Ce!==Nt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ce=null)):(te=null,Ce=K),te!==Ce)){if(Pe=fw,ue="onMouseLeave",W="onMouseEnter",V="mouse",(o==="pointerout"||o==="pointerover")&&(Pe=gw,ue="onPointerLeave",W="onPointerEnter",V="pointer"),Nt=te==null?Z:Kc(te),Y=Ce==null?Z:Kc(Ce),Z=new Pe(ue,V+"leave",te,f,le),Z.target=Nt,Z.relatedTarget=Y,ue=null,ml(le)===K&&(Pe=new Pe(W,V+"enter",Ce,f,le),Pe.target=Y,Pe.relatedTarget=Nt,ue=Pe),Nt=ue,te&&Ce)t:{for(Pe=_2,W=te,V=Ce,Y=0,ue=W;ue;ue=Pe(ue))Y++;ue=0;for(var De=V;De;De=Pe(De))ue++;for(;0<Y-ue;)W=Pe(W),Y--;for(;0<ue-Y;)V=Pe(V),ue--;for(;Y--;){if(W===V||V!==null&&W===V.alternate){Pe=W;break t}W=Pe(W),V=Pe(V)}Pe=null}else Pe=null;te!==null&&sR(de,Z,te,Pe,!1),Ce!==null&&Nt!==null&&sR(de,Nt,Ce,Pe,!0)}}e:{if(Z=K?Kc(K):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var bt=ww;else if(_w(Z))if(xw)bt=kj;else{bt=Oj;var Te=Aj}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&wp(K.elementType)&&(bt=ww):bt=Dj;if(bt&&(bt=bt(o,K))){Sw(de,bt,f,le);break e}Te&&Te(o,Z,K),o==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&Sp(Z,"number",Z.value)}switch(Te=K?Kc(K):window,o){case"focusin":(_w(Te)||Te.contentEditable==="true")&&(El=Te,jp=K,su=null);break;case"focusout":su=jp=El=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,kw(de,f,le);break;case"selectionchange":if(Nj)break;case"keydown":case"keyup":kw(de,f,le)}var Ye;if(Mp)e:{switch(o){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else xl?vw(o,f)&&(at="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(at="onCompositionStart");at&&(mw&&f.locale!=="ko"&&(xl||at!=="onCompositionStart"?at==="onCompositionEnd"&&xl&&(Ye=uw()):(ia=le,Tp="value"in ia?ia.value:ia.textContent,xl=!0)),Te=gh(K,at),0<Te.length&&(at=new hw(at,o,null,f,le),de.push({event:at,listeners:Te}),Ye?at.data=Ye:(Ye=bw(f),Ye!==null&&(at.data=Ye)))),(Ye=xj?Ej(o,f):Rj(o,f))&&(at=gh(K,"onBeforeInput"),0<at.length&&(Te=new hw("onBeforeInput","beforeinput",null,f,le),de.push({event:Te,listeners:at}),Te.data=Ye)),p2(de,o,K,f,le)}iR(de,c)})}function Du(o,c,f){return{instance:o,listener:c,currentTarget:f}}function gh(o,c){for(var f=c+"Capture",g=[];o!==null;){var v=o,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=Xc(o,f),v!=null&&g.unshift(Du(o,v,S)),v=Xc(o,c),v!=null&&g.push(Du(o,v,S))),o.tag===3)return g;o=o.return}return[]}function _2(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function sR(o,c,f,g,v){for(var S=c._reactName,T=[];f!==null&&f!==g;){var M=f,z=M.alternate,K=M.stateNode;if(M=M.tag,z!==null&&z===g)break;M!==5&&M!==26&&M!==27||K===null||(z=K,v?(K=Xc(f,S),K!=null&&T.unshift(Du(f,K,z))):v||(K=Xc(f,S),K!=null&&T.push(Du(f,K,z)))),f=f.return}T.length!==0&&o.push({event:c,listeners:T})}var S2=/\r\n?/g,w2=/\u0000|\uFFFD/g;function aR(o){return(typeof o=="string"?o:""+o).replace(S2,`
`).replace(w2,"")}function oR(o,c){return c=aR(c),aR(o)===c}function Mt(o,c,f,g,v,S){switch(f){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||_l(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&_l(o,""+g);break;case"className":vf(o,"class",g);break;case"tabIndex":vf(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":vf(o,f,g);break;case"style":ow(o,g,S);break;case"data":if(c!=="object"){vf(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=_f(""+g),o.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(c!=="input"&&Mt(o,c,"name",v.name,v,null),Mt(o,c,"formEncType",v.formEncType,v,null),Mt(o,c,"formMethod",v.formMethod,v,null),Mt(o,c,"formTarget",v.formTarget,v,null)):(Mt(o,c,"encType",v.encType,v,null),Mt(o,c,"method",v.method,v,null),Mt(o,c,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=_f(""+g),o.setAttribute(f,g);break;case"onClick":g!=null&&(o.onclick=hs);break;case"onScroll":g!=null&&nt("scroll",o);break;case"onScrollEnd":g!=null&&nt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=f}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}f=_f(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""+g):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":g===!0?o.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,g):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(f,g):o.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(f):o.setAttribute(f,g);break;case"popover":nt("beforetoggle",o),nt("toggle",o),yf(o,"popover",g);break;case"xlinkActuate":fs(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":fs(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":fs(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":fs(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":fs(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":fs(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":fs(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":fs(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":fs(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":yf(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=KP.get(f)||f,yf(o,f,g))}}function lv(o,c,f,g,v,S){switch(f){case"style":ow(o,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=f}}break;case"children":typeof g=="string"?_l(o,g):(typeof g=="number"||typeof g=="bigint")&&_l(o,""+g);break;case"onScroll":g!=null&&nt("scroll",o);break;case"onScrollEnd":g!=null&&nt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=hs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ZS.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),c=f.slice(2,v?f.length-7:void 0),S=o[_i]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(c,S,v),typeof g=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,g,v);break e}f in o?o[f]=g:g===!0?o.setAttribute(f,""):yf(o,f,g)}}}function Zn(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",o),nt("load",o);var g=!1,v=!1,S;for(S in f)if(f.hasOwnProperty(S)){var T=f[S];if(T!=null)switch(S){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Mt(o,c,S,T,f,null)}}v&&Mt(o,c,"srcSet",f.srcSet,f,null),g&&Mt(o,c,"src",f.src,f,null);return;case"input":nt("invalid",o);var M=S=T=v=null,z=null,K=null;for(g in f)if(f.hasOwnProperty(g)){var le=f[g];if(le!=null)switch(g){case"name":v=le;break;case"type":T=le;break;case"checked":z=le;break;case"defaultChecked":K=le;break;case"value":S=le;break;case"defaultValue":M=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,c));break;default:Mt(o,c,g,le,f,null)}}iw(o,S,M,z,K,T,v,!1);return;case"select":nt("invalid",o),g=T=S=null;for(v in f)if(f.hasOwnProperty(v)&&(M=f[v],M!=null))switch(v){case"value":S=M;break;case"defaultValue":T=M;break;case"multiple":g=M;default:Mt(o,c,v,M,f,null)}c=S,f=T,o.multiple=!!g,c!=null?bl(o,!!g,c,!1):f!=null&&bl(o,!!g,f,!0);return;case"textarea":nt("invalid",o),S=v=g=null;for(T in f)if(f.hasOwnProperty(T)&&(M=f[T],M!=null))switch(T){case"value":g=M;break;case"defaultValue":v=M;break;case"children":S=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:Mt(o,c,T,M,f,null)}sw(o,g,v,S);return;case"option":for(z in f)if(f.hasOwnProperty(z)&&(g=f[z],g!=null))switch(z){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Mt(o,c,z,g,f,null)}return;case"dialog":nt("beforetoggle",o),nt("toggle",o),nt("cancel",o),nt("close",o);break;case"iframe":case"object":nt("load",o);break;case"video":case"audio":for(g=0;g<Ou.length;g++)nt(Ou[g],o);break;case"image":nt("error",o),nt("load",o);break;case"details":nt("toggle",o);break;case"embed":case"source":case"link":nt("error",o),nt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in f)if(f.hasOwnProperty(K)&&(g=f[K],g!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Mt(o,c,K,g,f,null)}return;default:if(wp(c)){for(le in f)f.hasOwnProperty(le)&&(g=f[le],g!==void 0&&lv(o,c,le,g,f,void 0));return}}for(M in f)f.hasOwnProperty(M)&&(g=f[M],g!=null&&Mt(o,c,M,g,f,null))}function x2(o,c,f,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,T=null,M=null,z=null,K=null,le=null;for(te in f){var de=f[te];if(f.hasOwnProperty(te)&&de!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=de;default:g.hasOwnProperty(te)||Mt(o,c,te,null,g,de)}}for(var Z in g){var te=g[Z];if(de=f[Z],g.hasOwnProperty(Z)&&(te!=null||de!=null))switch(Z){case"type":S=te;break;case"name":v=te;break;case"checked":K=te;break;case"defaultChecked":le=te;break;case"value":T=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,c));break;default:te!==de&&Mt(o,c,Z,te,g,de)}}_p(o,T,M,z,K,le,S,v);return;case"select":te=T=M=Z=null;for(S in f)if(z=f[S],f.hasOwnProperty(S)&&z!=null)switch(S){case"value":break;case"multiple":te=z;default:g.hasOwnProperty(S)||Mt(o,c,S,null,g,z)}for(v in g)if(S=g[v],z=f[v],g.hasOwnProperty(v)&&(S!=null||z!=null))switch(v){case"value":Z=S;break;case"defaultValue":M=S;break;case"multiple":T=S;default:S!==z&&Mt(o,c,v,S,g,z)}c=M,f=T,g=te,Z!=null?bl(o,!!f,Z,!1):!!g!=!!f&&(c!=null?bl(o,!!f,c,!0):bl(o,!!f,f?[]:"",!1));return;case"textarea":te=Z=null;for(M in f)if(v=f[M],f.hasOwnProperty(M)&&v!=null&&!g.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Mt(o,c,M,null,g,v)}for(T in g)if(v=g[T],S=f[T],g.hasOwnProperty(T)&&(v!=null||S!=null))switch(T){case"value":Z=v;break;case"defaultValue":te=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==S&&Mt(o,c,T,v,g,S)}rw(o,Z,te);return;case"option":for(var Ce in f)if(Z=f[Ce],f.hasOwnProperty(Ce)&&Z!=null&&!g.hasOwnProperty(Ce))switch(Ce){case"selected":o.selected=!1;break;default:Mt(o,c,Ce,null,g,Z)}for(z in g)if(Z=g[z],te=f[z],g.hasOwnProperty(z)&&Z!==te&&(Z!=null||te!=null))switch(z){case"selected":o.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Mt(o,c,z,Z,g,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in f)Z=f[Pe],f.hasOwnProperty(Pe)&&Z!=null&&!g.hasOwnProperty(Pe)&&Mt(o,c,Pe,null,g,Z);for(K in g)if(Z=g[K],te=f[K],g.hasOwnProperty(K)&&Z!==te&&(Z!=null||te!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,c));break;default:Mt(o,c,K,Z,g,te)}return;default:if(wp(c)){for(var Nt in f)Z=f[Nt],f.hasOwnProperty(Nt)&&Z!==void 0&&!g.hasOwnProperty(Nt)&&lv(o,c,Nt,void 0,g,Z);for(le in g)Z=g[le],te=f[le],!g.hasOwnProperty(le)||Z===te||Z===void 0&&te===void 0||lv(o,c,le,Z,g,te);return}}for(var W in f)Z=f[W],f.hasOwnProperty(W)&&Z!=null&&!g.hasOwnProperty(W)&&Mt(o,c,W,null,g,Z);for(de in g)Z=g[de],te=f[de],!g.hasOwnProperty(de)||Z===te||Z==null&&te==null||Mt(o,c,de,Z,g,te)}function lR(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E2(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var v=f[g],S=v.transferSize,T=v.initiatorType,M=v.duration;if(S&&M&&lR(T)){for(T=0,M=v.responseEnd,g+=1;g<f.length;g++){var z=f[g],K=z.startTime;if(K>M)break;var le=z.transferSize,de=z.initiatorType;le&&lR(de)&&(z=z.responseEnd,T+=le*(z<M?1:(M-K)/(z-K)))}if(--g,c+=8*(S+T)/(v.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var cv=null,uv=null;function mh(o){return o.nodeType===9?o:o.ownerDocument}function cR(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uR(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function dv(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var fv=null;function R2(){var o=window.event;return o&&o.type==="popstate"?o===fv?!1:(fv=o,!0):(fv=null,!1)}var dR=typeof setTimeout=="function"?setTimeout:void 0,C2=typeof clearTimeout=="function"?clearTimeout:void 0,fR=typeof Promise=="function"?Promise:void 0,T2=typeof queueMicrotask=="function"?queueMicrotask:typeof fR<"u"?function(o){return fR.resolve(null).then(o).catch(A2)}:dR;function A2(o){setTimeout(function(){throw o})}function _a(o){return o==="head"}function hR(o,c){var f=c,g=0;do{var v=f.nextSibling;if(o.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"||f==="/&"){if(g===0){o.removeChild(v),Xl(c);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")ku(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,ku(f);for(var S=f.firstChild;S;){var T=S.nextSibling,M=S.nodeName;S[Qc]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=T}}else f==="body"&&ku(o.ownerDocument.body);f=v}while(f);Xl(c)}function gR(o,c){var f=o;o=0;do{var g=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=g}while(f)}function hv(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":hv(f),vp(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function O2(o,c,f,g){for(;o.nodeType===1;){var v=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Qc])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=dr(o.nextSibling),o===null)break}return null}function D2(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=dr(o.nextSibling),o===null))return null;return o}function mR(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=dr(o.nextSibling),o===null))return null;return o}function gv(o){return o.data==="$?"||o.data==="$~"}function mv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function k2(o,c){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||f.readyState!=="loading")c();else{var g=function(){c(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function dr(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var pv=null;function pR(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(c===0)return dr(o.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}o=o.nextSibling}return null}function yR(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return o;c--}else f!=="/$"&&f!=="/&"||c++}o=o.previousSibling}return null}function vR(o,c,f){switch(c=mh(f),o){case"html":if(o=c.documentElement,!o)throw Error(i(452));return o;case"head":if(o=c.head,!o)throw Error(i(453));return o;case"body":if(o=c.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function ku(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);vp(o)}var fr=new Map,bR=new Set;function ph(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Os=X.d;X.d={f:M2,r:N2,D:I2,C:P2,L:j2,m:L2,X:U2,S:F2,M:z2};function M2(){var o=Os.f(),c=oh();return o||c}function N2(o){var c=pl(o);c!==null&&c.tag===5&&c.type==="form"?jx(c):Os.r(o)}var Yl=typeof document>"u"?null:document;function _R(o,c,f){var g=Yl;if(g&&typeof c=="string"&&c){var v=rr(c);v='link[rel="'+o+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),bR.has(v)||(bR.add(v),o={rel:o,crossOrigin:f,href:c},g.querySelector(v)===null&&(c=g.createElement("link"),Zn(c,"link",o),zn(c),g.head.appendChild(c)))}}function I2(o){Os.D(o),_R("dns-prefetch",o,null)}function P2(o,c){Os.C(o,c),_R("preconnect",o,c)}function j2(o,c,f){Os.L(o,c,f);var g=Yl;if(g&&o&&c){var v='link[rel="preload"][as="'+rr(c)+'"]';c==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+rr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+rr(f.imageSizes)+'"]')):v+='[href="'+rr(o)+'"]';var S=v;switch(c){case"style":S=Ql(o);break;case"script":S=Kl(o)}fr.has(S)||(o=m({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),fr.set(S,o),g.querySelector(v)!==null||c==="style"&&g.querySelector(Mu(S))||c==="script"&&g.querySelector(Nu(S))||(c=g.createElement("link"),Zn(c,"link",o),zn(c),g.head.appendChild(c)))}}function L2(o,c){Os.m(o,c);var f=Yl;if(f&&o){var g=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+rr(g)+'"][href="'+rr(o)+'"]',S=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Kl(o)}if(!fr.has(S)&&(o=m({rel:"modulepreload",href:o},c),fr.set(S,o),f.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Nu(S)))return}g=f.createElement("link"),Zn(g,"link",o),zn(g),f.head.appendChild(g)}}}function F2(o,c,f){Os.S(o,c,f);var g=Yl;if(g&&o){var v=yl(g).hoistableStyles,S=Ql(o);c=c||"default";var T=v.get(S);if(!T){var M={loading:0,preload:null};if(T=g.querySelector(Mu(S)))M.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},f),(f=fr.get(S))&&yv(o,f);var z=T=g.createElement("link");zn(z),Zn(z,"link",o),z._p=new Promise(function(K,le){z.onload=K,z.onerror=le}),z.addEventListener("load",function(){M.loading|=1}),z.addEventListener("error",function(){M.loading|=2}),M.loading|=4,yh(T,c,g)}T={type:"stylesheet",instance:T,count:1,state:M},v.set(S,T)}}}function U2(o,c){Os.X(o,c);var f=Yl;if(f&&o){var g=yl(f).hoistableScripts,v=Kl(o),S=g.get(v);S||(S=f.querySelector(Nu(v)),S||(o=m({src:o,async:!0},c),(c=fr.get(v))&&vv(o,c),S=f.createElement("script"),zn(S),Zn(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(v,S))}}function z2(o,c){Os.M(o,c);var f=Yl;if(f&&o){var g=yl(f).hoistableScripts,v=Kl(o),S=g.get(v);S||(S=f.querySelector(Nu(v)),S||(o=m({src:o,async:!0,type:"module"},c),(c=fr.get(v))&&vv(o,c),S=f.createElement("script"),zn(S),Zn(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(v,S))}}function SR(o,c,f,g){var v=(v=ge.current)?ph(v):null;if(!v)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=Ql(f.href),f=yl(v).hoistableStyles,g=f.get(c),g||(g={type:"style",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Ql(f.href);var S=yl(v).hoistableStyles,T=S.get(o);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,T),(S=v.querySelector(Mu(o)))&&!S._p&&(T.instance=S,T.state.loading=5),fr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},fr.set(o,f),S||H2(v,o,f,T.state))),c&&g===null)throw Error(i(528,""));return T}if(c&&g!==null)throw Error(i(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Kl(f),f=yl(v).hoistableScripts,g=f.get(c),g||(g={type:"script",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Ql(o){return'href="'+rr(o)+'"'}function Mu(o){return'link[rel="stylesheet"]['+o+"]"}function wR(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function H2(o,c,f,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Zn(c,"link",f),zn(c),o.head.appendChild(c))}function Kl(o){return'[src="'+rr(o)+'"]'}function Nu(o){return"script[async]"+o}function xR(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+rr(f.href)+'"]');if(g)return c.instance=g,zn(g),g;var v=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),zn(g),Zn(g,"style",v),yh(g,f.precedence,o),c.instance=g;case"stylesheet":v=Ql(f.href);var S=o.querySelector(Mu(v));if(S)return c.state.loading|=4,c.instance=S,zn(S),S;g=wR(f),(v=fr.get(v))&&yv(g,v),S=(o.ownerDocument||o).createElement("link"),zn(S);var T=S;return T._p=new Promise(function(M,z){T.onload=M,T.onerror=z}),Zn(S,"link",g),c.state.loading|=4,yh(S,f.precedence,o),c.instance=S;case"script":return S=Kl(f.src),(v=o.querySelector(Nu(S)))?(c.instance=v,zn(v),v):(g=f,(v=fr.get(S))&&(g=m({},f),vv(g,v)),o=o.ownerDocument||o,v=o.createElement("script"),zn(v),Zn(v,"link",g),o.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,yh(g,f.precedence,o));return c.instance}function yh(o,c,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,S=v,T=0;T<g.length;T++){var M=g[T];if(M.dataset.precedence===c)S=M;else if(S!==v)break}S?S.parentNode.insertBefore(o,S.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function yv(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function vv(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var vh=null;function ER(o,c,f){if(vh===null){var g=new Map,v=vh=new Map;v.set(f,g)}else v=vh,g=v.get(f),g||(g=new Map,v.set(f,g));if(g.has(o))return g;for(g.set(o,null),f=f.getElementsByTagName(o),v=0;v<f.length;v++){var S=f[v];if(!(S[Qc]||S[Yn]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var T=S.getAttribute(c)||"";T=o+T;var M=g.get(T);M?M.push(S):g.set(T,[S])}}return g}function RR(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function B2(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function CR(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function $2(o,c,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var v=Ql(g.href),S=c.querySelector(Mu(v));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=bh.bind(o),c.then(o,o)),f.state.loading|=4,f.instance=S,zn(S);return}S=c.ownerDocument||c,g=wR(g),(v=fr.get(v))&&yv(g,v),S=S.createElement("link"),zn(S);var T=S;T._p=new Promise(function(M,z){T.onload=M,T.onerror=z}),Zn(S,"link",g),f.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=bh.bind(o),c.addEventListener("load",f),c.addEventListener("error",f))}}var bv=0;function V2(o,c){return o.stylesheets&&o.count===0&&Sh(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var g=setTimeout(function(){if(o.stylesheets&&Sh(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+c);0<o.imgBytes&&bv===0&&(bv=62500*E2());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Sh(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>bv?50:800)+c);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var _h=null;function Sh(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,_h=new Map,c.forEach(q2,o),_h=null,bh.call(o))}function q2(o,c){if(!(c.state.loading&4)){var f=_h.get(o);if(f)var g=f.get(null);else{f=new Map,_h.set(o,f);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var T=v[S];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(f.set(T.dataset.precedence,T),g=T)}g&&f.set(null,g)}v=c.instance,T=v.getAttribute("data-precedence"),S=f.get(T)||g,S===g&&f.set(null,v),f.set(T,v),this.count++,g=bh.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),S?S.parentNode.insertBefore(v,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),c.state.loading|=4}}var Iu={$$typeof:C,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function W2(o,c,f,g,v,S,T,M,z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cn(0),this.hiddenUpdates=cn(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function TR(o,c,f,g,v,S,T,M,z,K,le,de){return o=new W2(o,c,f,T,z,K,le,de,M),c=1,S===!0&&(c|=24),S=Ui(3,null,null,c),o.current=S,S.stateNode=o,c=Zp(),c.refCount++,o.pooledCache=c,c.refCount++,S.memoizedState={element:g,isDehydrated:f,cache:c},ny(S),o}function AR(o){return o?(o=Tl,o):Tl}function OR(o,c,f,g,v,S){v=AR(v),g.context===null?g.context=v:g.pendingContext=v,g=ca(c),g.payload={element:f},S=S===void 0?null:S,S!==null&&(g.callback=S),f=ua(o,g,c),f!==null&&(Ci(f,o,c),fu(f,o,c))}function DR(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function _v(o,c){DR(o,c),(o=o.alternate)&&DR(o,c)}function kR(o){if(o.tag===13||o.tag===31){var c=fo(o,67108864);c!==null&&Ci(c,o,67108864),_v(o,67108864)}}function MR(o){if(o.tag===13||o.tag===31){var c=Vi();c=er(c);var f=fo(o,c);f!==null&&Ci(f,o,c),_v(o,c)}}var wh=!0;function G2(o,c,f,g){var v=B.T;B.T=null;var S=X.p;try{X.p=2,Sv(o,c,f,g)}finally{X.p=S,B.T=v}}function Y2(o,c,f,g){var v=B.T;B.T=null;var S=X.p;try{X.p=8,Sv(o,c,f,g)}finally{X.p=S,B.T=v}}function Sv(o,c,f,g){if(wh){var v=wv(g);if(v===null)ov(o,c,g,xh,f),IR(o,g);else if(K2(v,o,c,f,g))g.stopPropagation();else if(IR(o,g),c&4&&-1<Q2.indexOf(o)){for(;v!==null;){var S=pl(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var T=zt(S.pendingLanes);if(T!==0){var M=S;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var z=1<<31-rt(T);M.entanglements[1]|=z,T&=~z}Qr(S),(wt&6)===0&&(sh=ce()+500,Au(0))}}break;case 31:case 13:M=fo(S,2),M!==null&&Ci(M,S,2),oh(),_v(S,2)}if(S=wv(g),S===null&&ov(o,c,g,xh,f),S===v)break;v=S}v!==null&&g.stopPropagation()}else ov(o,c,g,null,f)}}function wv(o){return o=Ep(o),xv(o)}var xh=null;function xv(o){if(xh=null,o=ml(o),o!==null){var c=s(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=a(c),o!==null)return o;o=null}else if(f===31){if(o=l(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return xh=o,null}function NR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case fe:return 2;case Ee:return 8;case ye:case Fe:return 32;case et:return 268435456;default:return 32}default:return 32}}var Ev=!1,Sa=null,wa=null,xa=null,Pu=new Map,ju=new Map,Ea=[],Q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IR(o,c){switch(o){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Pu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(c.pointerId)}}function Lu(o,c,f,g,v,S){return o===null||o.nativeEvent!==S?(o={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:S,targetContainers:[v]},c!==null&&(c=pl(c),c!==null&&kR(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),o)}function K2(o,c,f,g,v){switch(c){case"focusin":return Sa=Lu(Sa,o,c,f,g,v),!0;case"dragenter":return wa=Lu(wa,o,c,f,g,v),!0;case"mouseover":return xa=Lu(xa,o,c,f,g,v),!0;case"pointerover":var S=v.pointerId;return Pu.set(S,Lu(Pu.get(S)||null,o,c,f,g,v)),!0;case"gotpointercapture":return S=v.pointerId,ju.set(S,Lu(ju.get(S)||null,o,c,f,g,v)),!0}return!1}function PR(o){var c=ml(o.target);if(c!==null){var f=s(c);if(f!==null){if(c=f.tag,c===13){if(c=a(f),c!==null){o.blockedOn=c,na(o.priority,function(){MR(f)});return}}else if(c===31){if(c=l(f),c!==null){o.blockedOn=c,na(o.priority,function(){MR(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Eh(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=wv(o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);xp=g,f.target.dispatchEvent(g),xp=null}else return c=pl(f),c!==null&&kR(c),o.blockedOn=f,!1;c.shift()}return!0}function jR(o,c,f){Eh(o)&&f.delete(c)}function X2(){Ev=!1,Sa!==null&&Eh(Sa)&&(Sa=null),wa!==null&&Eh(wa)&&(wa=null),xa!==null&&Eh(xa)&&(xa=null),Pu.forEach(jR),ju.forEach(jR)}function Rh(o,c){o.blockedOn===c&&(o.blockedOn=null,Ev||(Ev=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,X2)))}var Ch=null;function LR(o){Ch!==o&&(Ch=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ch===o&&(Ch=null);for(var c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],v=o[c+2];if(typeof g!="function"){if(xv(g||f)===null)continue;break}var S=pl(f);S!==null&&(o.splice(c,3),c-=3,wy(S,{pending:!0,data:v,method:f.method,action:g},g,v))}}))}function Xl(o){function c(z){return Rh(z,o)}Sa!==null&&Rh(Sa,o),wa!==null&&Rh(wa,o),xa!==null&&Rh(xa,o),Pu.forEach(c),ju.forEach(c);for(var f=0;f<Ea.length;f++){var g=Ea[f];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Ea.length&&(f=Ea[0],f.blockedOn===null);)PR(f),f.blockedOn===null&&Ea.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var v=f[g],S=f[g+1],T=v[_i]||null;if(typeof S=="function")T||LR(f);else if(T){var M=null;if(S&&S.hasAttribute("formAction")){if(v=S,T=S[_i]||null)M=T.formAction;else if(xv(v)!==null)continue}else M=T.action;typeof M=="function"?f[g+1]=M:(f.splice(g,3),g-=3),LR(f)}}}function FR(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(T){return v=T})},focusReset:"manual",scroll:"manual"})}function c(){v!==null&&(v(),v=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),v!==null&&(v(),v=null)}}}function Rv(o){this._internalRoot=o}Th.prototype.render=Rv.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(i(409));var f=c.current,g=Vi();OR(f,g,o,c,null,null)},Th.prototype.unmount=Rv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;OR(o.current,2,null,o,null,null),oh(),c[gl]=null}};function Th(o){this._internalRoot=o}Th.prototype.unstable_scheduleHydration=function(o){if(o){var c=tr();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Ea.length&&c!==0&&c<Ea[f].priority;f++);Ea.splice(f,0,o),f===0&&PR(o)}};var UR=e.version;if(UR!=="19.2.0")throw Error(i(527,UR,"19.2.0"));X.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=d(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var Z2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{_n=Ah.inject(Z2),Et=Ah}catch{}}return Uu.createRoot=function(o,c){if(!r(o))throw Error(i(299));var f=!1,g="",v=Wx,S=Gx,T=Yx;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),c=TR(o,1,!1,null,null,f,g,null,v,S,T,FR),o[gl]=c.current,av(o),new Rv(c)},Uu.hydrateRoot=function(o,c,f){if(!r(o))throw Error(i(299));var g=!1,v="",S=Wx,T=Gx,M=Yx,z=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(T=f.onCaughtError),f.onRecoverableError!==void 0&&(M=f.onRecoverableError),f.formState!==void 0&&(z=f.formState)),c=TR(o,1,!0,c,f??null,g,v,z,S,T,M,FR),c.context=AR(null),f=c.current,g=Vi(),g=er(g),v=ca(g),v.callback=null,ua(f,v,g),f=g,c.current.lanes=f,gt(c,f),Qr(c),o[gl]=c.current,av(o),new Th(c)},Uu.version="19.2.0",Uu}var QR;function oL(){if(QR)return Av.exports;QR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Av.exports=aL(),Av.exports}var lL=oL();const cL=jc(lL);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KR="popstate";function uL(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return Gb("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Ad(r)}return fL(e,n,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dL(){return Math.random().toString(36).substring(2,10)}function XR(t,e){return{usr:t.state,key:t.key,idx:e}}function Gb(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lc(e):e,state:n,key:e&&e.key||i||dL()}}function Ad({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function fL(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,d=h();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function h(){return(a.state||{idx:null}).idx}function m(){l="POP";let w=h(),x=w==null?null:w-d;d=w,u&&u({action:l,location:_.location,delta:x})}function p(w,x){l="PUSH";let E=Gb(_.location,w,x);d=h()+1;let C=XR(E,d),D=_.createHref(E);try{a.pushState(C,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(D)}s&&u&&u({action:l,location:_.location,delta:1})}function y(w,x){l="REPLACE";let E=Gb(_.location,w,x);d=h();let C=XR(E,d),D=_.createHref(E);a.replaceState(C,"",D),s&&u&&u({action:l,location:_.location,delta:0})}function b(w){return hL(w)}let _={get action(){return l},get location(){return t(r,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(KR,m),u=w,()=>{r.removeEventListener(KR,m),u=null}},createHref(w){return e(r,w)},createURL:b,encodeLocation(w){let x=b(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:y,go(w){return a.go(w)}};return _}function hL(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tn(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ad(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function XD(t,e,n="/"){return gL(t,e,n,!1)}function gL(t,e,n,i){let r=typeof e=="string"?Lc(e):e,s=Qs(r.pathname||"/",n);if(s==null)return null;let a=ZD(t);mL(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=CL(s);l=EL(a[u],d,i)}return l}function ZD(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&u)return;tn(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let m=qs([i,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(tn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ZD(a.children,e,p,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:wL(m,a.index),routesMeta:p})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of JD(a.path))s(a,l,!0,u)}),e}function JD(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=JD(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function mL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xL(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var pL=/^:[\w-]+$/,yL=3,vL=2,bL=1,_L=10,SL=-2,ZR=t=>t==="*";function wL(t,e){let n=t.split("/"),i=n.length;return n.some(ZR)&&(i+=SL),e&&(i+=vL),n.filter(r=>!ZR(r)).reduce((r,s)=>r+(pL.test(s)?yL:s===""?bL:_L),i)}function xL(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function EL(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],d=l===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",m=Lg({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),p=u.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=Lg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:qs([s,m.pathname]),pathnameBase:DL(qs([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=qs([s,m.pathnameBase]))}return a}function Lg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=RL(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((d,{paramName:h,isOptional:m},p)=>{if(h==="*"){let b=l[p]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[p];return m&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function RL(t,e=!1,n=!0){zr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function CL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function TL(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Lc(t):t;return{pathname:n?n.startsWith("/")?n:AL(n,e):e,search:kL(i),hash:ML(r)}}function AL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Mv(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function c_(t){let e=OL(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function u_(t,e,n,i=!1){let r;typeof t=="string"?r=Lc(t):(r={...t},tn(!r.pathname||!r.pathname.includes("?"),Mv("?","pathname","search",r)),tn(!r.pathname||!r.pathname.includes("#"),Mv("#","pathname","hash",r)),tn(!r.search||!r.search.includes("#"),Mv("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}l=m>=0?e[m]:"/"}let u=TL(r,l),d=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var qs=t=>t.join("/").replace(/\/\/+/g,"/"),DL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ML=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e1=["POST","PUT","PATCH","DELETE"];new Set(e1);var IL=["GET",...e1];new Set(IL);var Fc=A.createContext(null);Fc.displayName="DataRouter";var Am=A.createContext(null);Am.displayName="DataRouterState";A.createContext(!1);var t1=A.createContext({isTransitioning:!1});t1.displayName="ViewTransition";var PL=A.createContext(new Map);PL.displayName="Fetchers";var jL=A.createContext(null);jL.displayName="Await";var Vr=A.createContext(null);Vr.displayName="Navigation";var Jd=A.createContext(null);Jd.displayName="Location";var Cr=A.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var d_=A.createContext(null);d_.displayName="RouteError";function LL(t,{relative:e}={}){tn(Uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=A.useContext(Vr),{hash:r,pathname:s,search:a}=ef(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:qs([n,s])),i.createHref({pathname:l,search:a,hash:r})}function Uc(){return A.useContext(Jd)!=null}function Js(){return tn(Uc(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Jd).location}var n1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i1(t){A.useContext(Vr).static||A.useLayoutEffect(t)}function cs(){let{isDataRoute:t}=A.useContext(Cr);return t?ZL():FL()}function FL(){tn(Uc(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Fc),{basename:e,navigator:n}=A.useContext(Vr),{matches:i}=A.useContext(Cr),{pathname:r}=Js(),s=JSON.stringify(c_(i)),a=A.useRef(!1);return i1(()=>{a.current=!0}),A.useCallback((u,d={})=>{if(zr(a.current,n1),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=u_(u,JSON.parse(s),r,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qs([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,r,t])}var UL=A.createContext(null);function zL(t){let e=A.useContext(Cr).outlet;return A.useMemo(()=>e&&A.createElement(UL.Provider,{value:t},e),[e,t])}function Om(){let{matches:t}=A.useContext(Cr),e=t[t.length-1];return e?e.params:{}}function ef(t,{relative:e}={}){let{matches:n}=A.useContext(Cr),{pathname:i}=Js(),r=JSON.stringify(c_(n));return A.useMemo(()=>u_(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function HL(t,e){return r1(t,e)}function r1(t,e,n,i,r){tn(Uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=A.useContext(Vr),{matches:a}=A.useContext(Cr),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let E=m&&m.path||"";s1(d,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Js(),y;if(e){let E=typeof e=="string"?Lc(e):e;tn(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=p;let b=y.pathname||"/",_=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=XD(t,{pathname:_});zr(m||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),zr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=WL(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:qs([h,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:qs([h,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),a,n,i,r);return e&&x?A.createElement(Jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},x):x}function BL(){let t=XL(),e=NL(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:r},n):null,a)}var $L=A.createElement(BL,null),VL=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(Cr.Provider,{value:this.props.routeContext},A.createElement(d_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qL({routeContext:t,match:e,children:n}){let i=A.useContext(Fc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Cr.Provider,{value:t},n)}function WL(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);tn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=n,y=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let p,y=!1,b=null,_=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||$L,l&&(u<0&&m===0?(s1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):u===m&&(y=!0,_=h.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,m+1)),x=()=>{let E;return p?E=b:y?E=_:h.route.Component?E=A.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,A.createElement(qL,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?A.createElement(VL,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:i}):x()},null)}function f_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GL(t){let e=A.useContext(Fc);return tn(e,f_(t)),e}function YL(t){let e=A.useContext(Am);return tn(e,f_(t)),e}function QL(t){let e=A.useContext(Cr);return tn(e,f_(t)),e}function h_(t){let e=QL(t),n=e.matches[e.matches.length-1];return tn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function KL(){return h_("useRouteId")}function XL(){let t=A.useContext(d_),e=YL("useRouteError"),n=h_("useRouteError");return t!==void 0?t:e.errors?.[n]}function ZL(){let{router:t}=GL("useNavigate"),e=h_("useNavigate"),n=A.useRef(!1);return i1(()=>{n.current=!0}),A.useCallback(async(r,s={})=>{zr(n.current,n1),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var JR={};function s1(t,e,n){!e&&!JR[t]&&(JR[t]=!0,zr(!1,n))}A.memo(JL);function JL({routes:t,future:e,state:n,unstable_onError:i}){return r1(t,void 0,n,i,e)}function a1({to:t,replace:e,state:n,relative:i}){tn(Uc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=A.useContext(Vr);zr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(Cr),{pathname:a}=Js(),l=cs(),u=u_(t,c_(s),a,i==="path"),d=JSON.stringify(u);return A.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:i})},[l,d,i,e,n]),null}function o1(t){return zL(t.context)}function Mn(t){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eF({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){tn(!Uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof n=="string"&&(n=Lc(n));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:p="default"}=n,y=A.useMemo(()=>{let b=Qs(u,a);return b==null?null:{location:{pathname:b,search:d,hash:h,state:m,key:p},navigationType:i}},[a,u,d,h,m,p,i]);return zr(y!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:A.createElement(Vr.Provider,{value:l},A.createElement(Jd.Provider,{children:e,value:y}))}function tF({children:t,location:e}){return HL(Yb(t),e)}function Yb(t,e=[]){let n=[];return A.Children.forEach(t,(i,r)=>{if(!A.isValidElement(i))return;let s=[...e,r];if(i.type===A.Fragment){n.push.apply(n,Yb(i.props.children,s));return}tn(i.type===Mn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Yb(i.props.children,s)),n.push(a)}),n}var wg="get",xg="application/x-www-form-urlencoded";function Dm(t){return t!=null&&typeof t.tagName=="string"}function nF(t){return Dm(t)&&t.tagName.toLowerCase()==="button"}function iF(t){return Dm(t)&&t.tagName.toLowerCase()==="form"}function rF(t){return Dm(t)&&t.tagName.toLowerCase()==="input"}function sF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aF(t,e){return t.button===0&&(!e||e==="_self")&&!sF(t)}var Oh=null;function oF(){if(Oh===null)try{new FormData(document.createElement("form"),0),Oh=!1}catch{Oh=!0}return Oh}var lF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nv(t){return t!=null&&!lF.has(t)?(zr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xg}"`),null):t}function cF(t,e){let n,i,r,s,a;if(iF(t)){let l=t.getAttribute("action");i=l?Qs(l,e):null,n=t.getAttribute("method")||wg,r=Nv(t.getAttribute("enctype"))||xg,s=new FormData(t)}else if(nF(t)||rF(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?Qs(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||wg,r=Nv(t.getAttribute("formenctype"))||Nv(l.getAttribute("enctype"))||xg,s=new FormData(l,t),!oF()){let{name:d,type:h,value:m}=t;if(h==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,m)}}else{if(Dm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wg,i=null,r=xg,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uF(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Qs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function dF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hF(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await dF(s,n);return a.links?a.links():[]}return[]}));return yF(i.flat(1).filter(fF).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function eC(t,e,n,i,r,s){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{let h=i.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function gF(t,e,{includeHydrateFallback:n}={}){return mF(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function mF(t){return[...new Set(t)]}function pF(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function yF(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(pF(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function l1(){let t=A.useContext(Fc);return g_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vF(){let t=A.useContext(Am);return g_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var m_=A.createContext(void 0);m_.displayName="FrameworkContext";function c1(){let t=A.useContext(m_);return g_(t,"You must render this element inside a <HydratedRouter> element"),t}function bF(t,e){let n=A.useContext(m_),[i,r]=A.useState(!1),[s,a]=A.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=e,p=A.useRef(null);A.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let _=x=>{x.forEach(E=>{a(E.isIntersecting)})},w=new IntersectionObserver(_,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[t]),A.useEffect(()=>{if(i){let _=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(_)}}},[i]);let y=()=>{r(!0)},b=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:zu(l,y),onBlur:zu(u,b),onMouseEnter:zu(d,y),onMouseLeave:zu(h,b),onTouchStart:zu(m,y)}]:[!1,p,{}]}function zu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _F({page:t,...e}){let{router:n}=l1(),i=A.useMemo(()=>XD(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?A.createElement(wF,{page:t,matches:i,...e}):null}function SF(t){let{manifest:e,routeModules:n}=c1(),[i,r]=A.useState([]);return A.useEffect(()=>{let s=!1;return hF(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function wF({page:t,matches:e,...n}){let i=Js(),{manifest:r,routeModules:s}=c1(),{basename:a}=l1(),{loaderData:l,matches:u}=vF(),d=A.useMemo(()=>eC(t,e,u,r,i,"data"),[t,e,u,r,i]),h=A.useMemo(()=>eC(t,e,u,r,i,"assets"),[t,e,u,r,i]),m=A.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let b=new Set,_=!1;if(e.forEach(x=>{let E=r.routes[x.route.id];!E||!E.hasLoader||(!d.some(C=>C.route.id===x.route.id)&&x.route.id in l&&s[x.route.id]?.shouldRevalidate||E.hasClientLoader?_=!0:b.add(x.route.id))}),b.size===0)return[];let w=uF(t,a,"data");return _&&b.size>0&&w.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[a,l,i,r,d,e,t,s]),p=A.useMemo(()=>gF(h,r),[h,r]),y=SF(h);return A.createElement(A.Fragment,null,m.map(b=>A.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),p.map(b=>A.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),y.map(({key:b,link:_})=>A.createElement("link",{key:b,nonce:n.nonce,..._})))}function xF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u1&&(window.__reactRouterVersion="7.9.5")}catch{}function EF({basename:t,children:e,window:n}){let i=A.useRef();i.current==null&&(i.current=uL({window:n,v5Compat:!0}));let r=i.current,[s,a]=A.useState({action:r.action,location:r.location}),l=A.useCallback(u=>{A.startTransition(()=>a(u))},[a]);return A.useLayoutEffect(()=>r.listen(l),[r,l]),A.createElement(eF,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=A.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m,...p},y){let{basename:b}=A.useContext(Vr),_=typeof d=="string"&&d1.test(d),w,x=!1;if(typeof d=="string"&&_&&(w=d,u1))try{let j=new URL(window.location.href),H=d.startsWith("//")?new URL(j.protocol+d):new URL(d),$=Qs(H.pathname,b);H.origin===j.origin&&$!=null?d=$+H.search+H.hash:x=!0}catch{zr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=LL(d,{relative:r}),[C,D,O]=bF(i,p),N=AF(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:r,viewTransition:m});function I(j){e&&e(j),j.defaultPrevented||N(j)}let k=A.createElement("a",{...p,...O,href:w||E,onClick:x||s?e:I,ref:xF(y,D),target:u,"data-discover":!_&&n==="render"?"true":void 0});return C&&!_?A.createElement(A.Fragment,null,k,A.createElement(_F,{page:E})):k});Pn.displayName="Link";var RF=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...d},h){let m=ef(a,{relative:d.relative}),p=Js(),y=A.useContext(Am),{navigator:b,basename:_}=A.useContext(Vr),w=y!=null&&NF(m)&&l===!0,x=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=p.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(E=E.toLowerCase(),C=C?C.toLowerCase():null,x=x.toLowerCase()),C&&_&&(C=Qs(C,_)||C);const D=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=E===x||!r&&E.startsWith(x)&&E.charAt(D)==="/",N=C!=null&&(C===x||!r&&C.startsWith(x)&&C.charAt(x.length)==="/"),I={isActive:O,isPending:N,isTransitioning:w},k=O?e:void 0,j;typeof i=="function"?j=i(I):j=[i,O?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(I):s;return A.createElement(Pn,{...d,"aria-current":k,className:j,ref:h,style:H,to:a,viewTransition:l},typeof u=="function"?u(I):u)});RF.displayName="NavLink";var CF=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=wg,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:m,...p},y)=>{let b=kF(),_=MF(l,{relative:d}),w=a.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&d1.test(l),E=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,O=D?.getAttribute("formmethod")||a;b(D||C.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:r,state:s,relative:d,preventScrollReset:h,viewTransition:m})};return A.createElement("form",{ref:y,method:w,action:_,onSubmit:i?u:E,...p,"data-discover":!x&&t==="render"?"true":void 0})});CF.displayName="Form";function TF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f1(t){let e=A.useContext(Fc);return tn(e,TF(t)),e}function AF(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let l=cs(),u=Js(),d=ef(t,{relative:s});return A.useCallback(h=>{if(aF(h,e)){h.preventDefault();let m=n!==void 0?n:Ad(u)===Ad(d);l(t,{replace:m,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[u,l,d,n,i,e,t,r,s,a])}var OF=0,DF=()=>`__${String(++OF)}__`;function kF(){let{router:t}=f1("useSubmit"),{basename:e}=A.useContext(Vr),n=KL();return A.useCallback(async(i,r={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=cF(i,e);if(r.navigate===!1){let h=r.fetcherKey||DF();await t.fetch(h,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function MF(t,{relative:e}={}){let{basename:n}=A.useContext(Vr),i=A.useContext(Cr);tn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...ef(t||".",{relative:e})},a=Js();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:qs([n,s.pathname])),Ad(s)}function NF(t,{relative:e}={}){let n=A.useContext(t1);tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=f1("useViewTransitionState"),r=ef(t,{relative:e});if(!n.isTransitioning)return!1;let s=Qs(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Qs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Lg(r.pathname,a)!=null||Lg(r.pathname,s)!=null}var zs=KD();const IF=jc(zs);var zc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},PF={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},jF=class{#t=PF;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,n){return this.#t.setTimeout(e,n)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,n){return this.#t.setInterval(e,n)}clearInterval(e){this.#t.clearInterval(e)}},$o=new jF;function LF(t){setTimeout(t,0)}var Jo=typeof window>"u"||"Deno"in globalThis;function mi(){}function FF(t,e){return typeof t=="function"?t(e):t}function Qb(t){return typeof t=="number"&&t>=0&&t!==1/0}function h1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Va(t,e){return typeof t=="function"?t(e):t}function Sr(t,e){return typeof t=="function"?t(e):t}function tC(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:a,stale:l}=t;if(a){if(i){if(e.queryHash!==p_(a,e.options))return!1}else if(!Od(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||s&&!s(e))}function nC(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(el(e.options.mutationKey)!==el(s))return!1}else if(!Od(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function p_(t,e){return(e?.queryKeyHashFn||el)(t)}function el(t){return JSON.stringify(t,(e,n)=>Kb(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Od(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Od(t[n],e[n])):!1}var UF=Object.prototype.hasOwnProperty;function g1(t,e){if(t===e)return t;const n=iC(t)&&iC(e);if(!n&&!(Kb(t)&&Kb(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=n?d:s[d],m=t[h],p=e[h];if(m===p){l[h]=m,(n?d<r:UF.call(t,h))&&u++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[h]=p;continue}const y=g1(m,p);l[h]=y,y===m&&u++}return r===a&&u===r?t:l}function Fg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function iC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Kb(t){if(!rC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!rC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rC(t){return Object.prototype.toString.call(t)==="[object Object]"}function zF(t){return new Promise(e=>{$o.setTimeout(e,t)})}function Xb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?g1(t,e):e}function HF(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function BF(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var y_=Symbol();function m1(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===y_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function p1(t,e){return typeof t=="function"?t(...e):!!t}var $F=class extends zc{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!Jo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},v_=new $F;function Zb(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}var VF=LF;function qF(){let t=[],e=0,n=l=>{l()},i=l=>{l()},r=VF;const s=l=>{e?t.push(l):r(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&r(()=>{i(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{r=l}}}var Ln=qF(),WF=class extends zc{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!Jo&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(i=>{i(e)}))}isOnline(){return this.#t}},Ug=new WF;function GF(t){return Math.min(1e3*2**t,3e4)}function y1(t){return(t??"online")==="online"?Ug.isOnline():!0}var Jb=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function v1(t){let e=!1,n=0,i;const r=Zb(),s=()=>r.status!=="pending",a=_=>{if(!s()){const w=new Jb(_);p(w),t.onCancel?.(w)}},l=()=>{e=!0},u=()=>{e=!1},d=()=>v_.isFocused()&&(t.networkMode==="always"||Ug.isOnline())&&t.canRun(),h=()=>y1(t.networkMode)&&t.canRun(),m=_=>{s()||(i?.(),r.resolve(_))},p=_=>{s()||(i?.(),r.reject(_))},y=()=>new Promise(_=>{i=w=>{(s()||d())&&_(w)},t.onPause?.()}).then(()=>{i=void 0,s()||t.onContinue?.()}),b=()=>{if(s())return;let _;const w=n===0?t.initialPromise:void 0;try{_=w??t.fn()}catch(x){_=Promise.reject(x)}Promise.resolve(_).then(m).catch(x=>{if(s())return;const E=t.retry??(Jo?0:3),C=t.retryDelay??GF,D=typeof C=="function"?C(n,x):C,O=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,x);if(e||!O){p(x);return}n++,t.onFail?.(n,x),zF(D).then(()=>d()?void 0:y()).then(()=>{e?p(x):b()})})};return{promise:r,status:()=>r.status,cancel:a,continue:()=>(i?.(),r),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?b():y().then(b),r)}}var b1=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qb(this.gcTime)&&(this.#t=$o.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jo?1/0:300*1e3))}clearGcTimeout(){this.#t&&($o.clearTimeout(this.#t),this.#t=void 0)}},YF=class extends b1{#t;#e;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=sC(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=sC(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Xb(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(mi).catch(mi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Sr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===y_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Va(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!h1(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,i=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},r=()=>{const l=m1(this.options,e),d=(()=>{const h={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(h),h})();return this.#o=!1,this.options.persister?this.options.persister(l,d,this):l(d)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:r};return i(l),l})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=v1({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof Jb&&l.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Jb){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,..._1(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?i:void 0,i;case"error":const r=t.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Ln.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function _1(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:y1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var QF=class extends zc{constructor(e,n){super(),this.options=n,this.#t=e,this.#s=null,this.#o=Zb(),this.bindMethods(),this.setOptions(n)}#t;#e=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#m;#f;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),aC(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return e0(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return e0(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#S(),this.#e.removeObserver(this)}setOptions(e){const n=this.options,i=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),n._defaulted&&!Fg(this.options,n)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&oC(this.#e,i,this.options,n)&&this.#d(),this.updateResult(),r&&(this.#e!==i||Sr(this.options.enabled,this.#e)!==Sr(n.enabled,this.#e)||Va(this.options.staleTime,this.#e)!==Va(n.staleTime,this.#e))&&this.#p();const s=this.#y();r&&(this.#e!==i||Sr(this.options.enabled,this.#e)!==Sr(n.enabled,this.#e)||s!==this.#l)&&this.#v(s)}getOptimisticResult(e){const n=this.#t.getQueryCache().build(this.#t,e),i=this.createResult(n,e);return XF(this,i)&&(this.#i=i,this.#a=this.options,this.#r=this.#e.state),i}getCurrentResult(){return this.#i}trackResult(e,n){return new Proxy(e,{get:(i,r)=>(this.trackProp(r),n?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,r))})}trackProp(e){this.#g.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#t.defaultQueryOptions(e),i=this.#t.getQueryCache().build(this.#t,n);return i.fetch().then(()=>this.createResult(i,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(e){this.#w();let n=this.#e.fetch(this.options,e);return e?.throwOnError||(n=n.catch(mi)),n}#p(){this.#_();const e=Va(this.options.staleTime,this.#e);if(Jo||this.#i.isStale||!Qb(e))return;const i=h1(this.#i.dataUpdatedAt,e)+1;this.#c=$o.setTimeout(()=>{this.#i.isStale||this.updateResult()},i)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#S(),this.#l=e,!(Jo||Sr(this.options.enabled,this.#e)===!1||!Qb(this.#l)||this.#l===0)&&(this.#u=$o.setInterval(()=>{(this.options.refetchIntervalInBackground||v_.isFocused())&&this.#d()},this.#l))}#b(){this.#p(),this.#v(this.#y())}#_(){this.#c&&($o.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&($o.clearInterval(this.#u),this.#u=void 0)}createResult(e,n){const i=this.#e,r=this.options,s=this.#i,a=this.#r,l=this.#a,d=e!==i?e.state:this.#n,{state:h}=e;let m={...h},p=!1,y;if(n._optimisticResults){const j=this.hasListeners(),H=!j&&aC(e,n),$=j&&oC(e,i,n,r);(H||$)&&(m={...m,..._1(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:_,status:w}=m;y=m.data;let x=!1;if(n.placeholderData!==void 0&&y===void 0&&w==="pending"){let j;s?.isPlaceholderData&&n.placeholderData===l?.placeholderData?(j=s.data,x=!0):j=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,j!==void 0&&(w="success",y=Xb(s?.data,j,n),p=!0)}if(n.select&&y!==void 0&&!x)if(s&&y===a?.data&&n.select===this.#m)y=this.#f;else try{this.#m=n.select,y=n.select(y),y=Xb(s?.data,y,n),this.#f=y,this.#s=null}catch(j){this.#s=j}this.#s&&(b=this.#s,y=this.#f,_=Date.now(),w="error");const E=m.fetchStatus==="fetching",C=w==="pending",D=w==="error",O=C&&E,N=y!==void 0,k={status:w,fetchStatus:m.fetchStatus,isPending:C,isSuccess:w==="success",isError:D,isInitialLoading:O,isLoading:O,data:y,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:_,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:E,isRefetching:E&&!C,isLoadingError:D&&!N,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:D&&N,isStale:b_(e,n),refetch:this.refetch,promise:this.#o,isEnabled:Sr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const j=G=>{k.status==="error"?G.reject(k.error):k.data!==void 0&&G.resolve(k.data)},H=()=>{const G=this.#o=k.promise=Zb();j(G)},$=this.#o;switch($.status){case"pending":e.queryHash===i.queryHash&&j($);break;case"fulfilled":(k.status==="error"||k.data!==$.value)&&H();break;case"rejected":(k.status!=="error"||k.error!==$.reason)&&H();break}}return k}updateResult(){const e=this.#i,n=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#e),Fg(n,e))return;this.#i=n;const i=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#g.size)return!0;const a=new Set(s??this.#g);return this.options.throwOnError&&a.add("error"),Object.keys(this.#i).some(l=>{const u=l;return this.#i[u]!==e[u]&&a.has(u)})};this.#x({listeners:i()})}#w(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const n=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(e){Ln.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function KF(t,e){return Sr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function aC(t,e){return KF(t,e)||t.state.data!==void 0&&e0(t,e,e.refetchOnMount)}function e0(t,e,n){if(Sr(e.enabled,t)!==!1&&Va(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&b_(t,e)}return!1}function oC(t,e,n,i){return(t!==e||Sr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&b_(t,n)}function b_(t,e){return Sr(e.enabled,t)!==!1&&t.isStaleByTime(Va(e.staleTime,t))}function XF(t,e){return!Fg(t.getCurrentResult(),e)}function lC(t){return{onFetch:(e,n)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},p=m1(e.options,e.fetchOptions),y=async(b,_,w)=>{if(h)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:_,direction:w?"backward":"forward",meta:e.options.meta};return m(N),N})(),C=await p(E),{maxPages:D}=e.options,O=w?BF:HF;return{pages:O(b.pages,C,D),pageParams:O(b.pageParams,_,D)}};if(r&&s.length){const b=r==="backward",_=b?ZF:cC,w={pages:s,pageParams:a},x=_(i,w);l=await y(w,x,b)}else{const b=t??s.length;do{const _=u===0?a[0]??i.initialPageParam:cC(i,l);if(u>0&&_==null)break;l=await y(l,_),u++}while(u<b)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function cC(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function ZF(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var JF=class extends b1{#t;#e;#n;#i;constructor(t){super(),this.#t=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#e=[],this.state=t.state||S1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=v1({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#r({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",r=!this.#i.canStart();try{if(i)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:r})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#r({type:"error",error:s})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ln.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function S1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var eU=class extends zc{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const i=new JF({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#t.add(t);const e=Dh(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Dh(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Dh(t);if(typeof e=="string"){const i=this.#e.get(e)?.find(r=>r.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=Dh(t);return typeof e=="string"?this.#e.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ln.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>nC(e,n))}findAll(t={}){return this.getAll().filter(e=>nC(t,e))}notify(t){Ln.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ln.batch(()=>Promise.all(t.map(e=>e.continue().catch(mi))))}};function Dh(t){return t.options.scope?.id}var tU=class extends zc{#t;#e=void 0;#n;#i;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),Fg(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&el(n.mutationKey)!==el(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??S1();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Ln.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#e.variables,i=this.#e.context,r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,i,r),this.#i.onSettled?.(e.data,null,n,i,r)):e?.type==="error"&&(this.#i.onError?.(e.error,n,i,r),this.#i.onSettled?.(void 0,e.error,n,i,r))}this.listeners.forEach(n=>{n(this.#e)})})}},nU=class extends zc{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const i=e.queryKey,r=e.queryHash??p_(i,e);let s=this.get(r);return s||(s=new YF({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ln.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>tC(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>tC(t,n)):e}notify(t){Ln.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ln.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ln.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},iU=class{#t;#e;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#t=t.queryCache||new nU,this.#e=t.mutationCache||new eU,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=v_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Ug.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Va(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(i.queryHash)?.state.data,a=FF(e,s);if(a!==void 0)return this.#t.build(this,i).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Ln.batch(()=>this.#t.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;Ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return Ln.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Ln.batch(()=>this.#t.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(mi).catch(mi)}invalidateQueries(t,e={}){return Ln.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Ln.batch(()=>this.#t.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(mi)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(mi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(Va(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mi).catch(mi)}fetchInfiniteQuery(t){return t.behavior=lC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mi).catch(mi)}ensureInfiniteQueryData(t){return t.behavior=lC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ug.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(el(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Od(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(el(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Od(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=p_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===y_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},w1=A.createContext(void 0),ji=t=>{const e=A.useContext(w1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rU=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),R.jsx(w1.Provider,{value:t,children:e})),x1=A.createContext(!1),sU=()=>A.useContext(x1);x1.Provider;function aU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var oU=A.createContext(aU()),lU=()=>A.useContext(oU),cU=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},uU=t=>{A.useEffect(()=>{t.clearReset()},[t])},dU=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||p1(n,[t.error,i])),fU=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>n(i(...r)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},hU=(t,e)=>t.isLoading&&t.isFetching&&!e,gU=(t,e)=>t?.suspense&&e.isPending,uC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function mU(t,e,n){const i=sU(),r=lU(),s=ji(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",fU(a),cU(a,r),uU(r);const l=!s.getQueryCache().get(a.queryHash),[u]=A.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!i&&t.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(m=>{const p=h?u.subscribe(Ln.batchCalls(m)):mi;return u.updateResult(),p},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),A.useEffect(()=>{u.setOptions(a)},[a,u]),gU(a,d))throw uC(a,u,r);if(dU({result:d,errorResetBoundary:r,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Jo&&hU(d,i)&&(l?uC(a,u,r):s.getQueryCache().get(a.queryHash)?.promise)?.catch(mi).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function sl(t,e){return mU(t,QF)}function ea(t,e){const n=ji(),[i]=A.useState(()=>new tU(n,t));A.useEffect(()=>{i.setOptions(t)},[i,t]);const r=A.useSyncExternalStore(A.useCallback(a=>i.subscribe(Ln.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=A.useCallback((a,l)=>{i.mutate(a,l).catch(mi)},[i]);if(r.error&&p1(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}function pU(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const yU=t=>{switch(t){case"success":return _U;case"info":return wU;case"warning":return SU;case"error":return xU;default:return null}},vU=Array(12).fill(0),bU=({visible:t,className:e})=>re.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},re.createElement("div",{className:"sonner-spinner"},vU.map((n,i)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),_U=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),SU=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wU=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),xU=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EU=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),RU=()=>{const[t,e]=re.useState(document.hidden);return re.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let t0=1,CU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...r}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:t0++,a=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:i}),{...u,...e,id:s,dismissible:l,title:i}):u):this.addToast({title:i,...r,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s=i!==void 0,a;const l=r.then(async d=>{if(a=["resolve",d],re.isValidElement(d))s=!1,this.create({id:i,type:"default",message:d});else if(AU(d)&&!d.ok){s=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,b=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:p,...b})}else if(d instanceof Error){s=!1;const m=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,b=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:p,...b})}else if(n.success!==void 0){s=!1;const m=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,b=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:i,type:"success",description:p,...b})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,y=typeof h=="object"&&!re.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:m,...y})}}).finally(()=>{s&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>l.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof i!="string"&&typeof i!="number"?{unwrap:u}:Object.assign(i,{unwrap:u})},this.custom=(e,n)=>{const i=n?.id||t0++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}};const ki=new CU,TU=(t,e)=>{const n=e?.id||t0++;return ki.addToast({title:t,...e,id:n}),n},AU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",OU=TU,DU=()=>ki.toasts,kU=()=>ki.getActiveToasts();Object.assign(OU,{success:ki.success,info:ki.info,warning:ki.warning,error:ki.error,custom:ki.custom,message:ki.message,promise:ki.promise,dismiss:ki.dismiss,loading:ki.loading},{getHistory:DU,getToasts:kU});pU("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function kh(t){return t.label!==void 0}const MU=3,NU="24px",IU="16px",dC=4e3,PU=356,jU=14,LU=45,FU=200;function Kr(...t){return t.filter(Boolean).join(" ")}function UU(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}const zU=t=>{var e,n,i,r,s,a,l,u,d;const{invert:h,toast:m,unstyled:p,interacting:y,setHeights:b,visibleToasts:_,heights:w,index:x,toasts:E,expanded:C,removeToast:D,defaultRichColors:O,closeButton:N,style:I,cancelButtonStyle:k,actionButtonStyle:j,className:H="",descriptionClassName:$="",duration:G,position:se,gap:pe,expandByDefault:ve,classNames:B,icons:X,closeButtonAriaLabel:me="Close toast"}=t,[ae,be]=re.useState(null),[L,J]=re.useState(null),[ne,ie]=re.useState(!1),[he,ge]=re.useState(!1),[Re,Se]=re.useState(!1),[ke,Xe]=re.useState(!1),[nn,Ut]=re.useState(!1),[Li,we]=re.useState(0),[Ue,ot]=re.useState(0),Pt=re.useRef(m.duration||G||dC),hn=re.useRef(null),Je=re.useRef(null),P=x===0,q=x+1<=_,U=m.type,Q=m.dismissible!==!1,ce=m.className||"",oe=m.descriptionClassName||"",fe=re.useMemo(()=>w.findIndex(xe=>xe.toastId===m.id)||0,[w,m.id]),Ee=re.useMemo(()=>{var xe;return(xe=m.closeButton)!=null?xe:N},[m.closeButton,N]),ye=re.useMemo(()=>m.duration||G||dC,[m.duration,G]),Fe=re.useRef(0),et=re.useRef(0),Be=re.useRef(0),qe=re.useRef(null),[_n,Et]=se.split("-"),ze=re.useMemo(()=>w.reduce((xe,He,lt)=>lt>=fe?xe:xe+He.height,0),[w,fe]),rt=RU(),gn=m.invert||h,Ze=U==="loading";et.current=re.useMemo(()=>fe*pe+ze,[fe,ze]),re.useEffect(()=>{Pt.current=ye},[ye]),re.useEffect(()=>{ie(!0)},[]),re.useEffect(()=>{const xe=Je.current;if(xe){const He=xe.getBoundingClientRect().height;return ot(He),b(lt=>[{toastId:m.id,height:He,position:m.position},...lt]),()=>b(lt=>lt.filter(ht=>ht.toastId!==m.id))}},[b,m.id]),re.useLayoutEffect(()=>{if(!ne)return;const xe=Je.current,He=xe.style.height;xe.style.height="auto";const lt=xe.getBoundingClientRect().height;xe.style.height=He,ot(lt),b(ht=>ht.find(gt=>gt.toastId===m.id)?ht.map(gt=>gt.toastId===m.id?{...gt,height:lt}:gt):[{toastId:m.id,height:lt,position:m.position},...ht])},[ne,m.title,m.description,b,m.id,m.jsx,m.action,m.cancel]);const ft=re.useCallback(()=>{ge(!0),we(et.current),b(xe=>xe.filter(He=>He.toastId!==m.id)),setTimeout(()=>{D(m)},FU)},[m,D,b,et]);re.useEffect(()=>{if(m.promise&&U==="loading"||m.duration===1/0||m.type==="loading")return;let xe;return C||y||rt?(()=>{if(Be.current<Fe.current){const ht=new Date().getTime()-Fe.current;Pt.current=Pt.current-ht}Be.current=new Date().getTime()})():(()=>{Pt.current!==1/0&&(Fe.current=new Date().getTime(),xe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),ft()},Pt.current))})(),()=>clearTimeout(xe)},[C,y,m,U,rt,ft]),re.useEffect(()=>{m.delete&&(ft(),m.onDismiss==null||m.onDismiss.call(m,m))},[ft,m.delete]);function fi(){var xe;if(X?.loading){var He;return re.createElement("div",{className:Kr(B?.loader,m==null||(He=m.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":U==="loading"},X.loading)}return re.createElement(bU,{className:Kr(B?.loader,m==null||(xe=m.classNames)==null?void 0:xe.loader),visible:U==="loading"})}const hi=m.icon||X?.[U]||yU(U);var vt,zt;return re.createElement("li",{tabIndex:0,ref:Je,className:Kr(H,ce,B?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,B?.default,B?.[U],m==null||(n=m.classNames)==null?void 0:n[U]),"data-sonner-toast":"","data-rich-colors":(vt=m.richColors)!=null?vt:O,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":ne,"data-promise":!!m.promise,"data-swiped":nn,"data-removed":he,"data-visible":q,"data-y-position":_n,"data-x-position":Et,"data-index":x,"data-front":P,"data-swiping":Re,"data-dismissible":Q,"data-type":U,"data-invert":gn,"data-swipe-out":ke,"data-swipe-direction":L,"data-expanded":!!(C||ve&&ne),"data-testid":m.testId,style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${he?Li:et.current}px`,"--initial-height":ve?"auto":`${Ue}px`,...I,...m.style},onDragEnd:()=>{Se(!1),be(null),qe.current=null},onPointerDown:xe=>{xe.button!==2&&(Ze||!Q||(hn.current=new Date,we(et.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(Se(!0),qe.current={x:xe.clientX,y:xe.clientY})))},onPointerUp:()=>{var xe,He,lt;if(ke||!Q)return;qe.current=null;const ht=Number(((xe=Je.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),cn=Number(((He=Je.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((lt=hn.current)==null?void 0:lt.getTime()),Ge=ae==="x"?ht:cn,Sn=Math.abs(Ge)/gt;if(Math.abs(Ge)>=LU||Sn>.11){we(et.current),m.onDismiss==null||m.onDismiss.call(m,m),J(ae==="x"?ht>0?"right":"left":cn>0?"down":"up"),ft(),Xe(!0);return}else{var $t,Kt;($t=Je.current)==null||$t.style.setProperty("--swipe-amount-x","0px"),(Kt=Je.current)==null||Kt.style.setProperty("--swipe-amount-y","0px")}Ut(!1),Se(!1),be(null)},onPointerMove:xe=>{var He,lt,ht;if(!qe.current||!Q||((He=window.getSelection())==null?void 0:He.toString().length)>0)return;const gt=xe.clientY-qe.current.y,Ge=xe.clientX-qe.current.x;var Sn;const $t=(Sn=t.swipeDirections)!=null?Sn:UU(se);!ae&&(Math.abs(Ge)>1||Math.abs(gt)>1)&&be(Math.abs(Ge)>Math.abs(gt)?"x":"y");let Kt={x:0,y:0};const er=Gn=>1/(1.5+Math.abs(Gn)/20);if(ae==="y"){if($t.includes("top")||$t.includes("bottom"))if($t.includes("top")&&gt<0||$t.includes("bottom")&&gt>0)Kt.y=gt;else{const Gn=gt*er(gt);Kt.y=Math.abs(Gn)<Math.abs(gt)?Gn:gt}}else if(ae==="x"&&($t.includes("left")||$t.includes("right")))if($t.includes("left")&&Ge<0||$t.includes("right")&&Ge>0)Kt.x=Ge;else{const Gn=Ge*er(Ge);Kt.x=Math.abs(Gn)<Math.abs(Ge)?Gn:Ge}(Math.abs(Kt.x)>0||Math.abs(Kt.y)>0)&&Ut(!0),(lt=Je.current)==null||lt.style.setProperty("--swipe-amount-x",`${Kt.x}px`),(ht=Je.current)==null||ht.style.setProperty("--swipe-amount-y",`${Kt.y}px`)}},Ee&&!m.jsx&&U!=="loading"?re.createElement("button",{"aria-label":me,"data-disabled":Ze,"data-close-button":!0,onClick:Ze||!Q?()=>{}:()=>{ft(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Kr(B?.closeButton,m==null||(i=m.classNames)==null?void 0:i.closeButton)},(zt=X?.close)!=null?zt:EU):null,(U||m.icon||m.promise)&&m.icon!==null&&(X?.[U]!==null||m.icon)?re.createElement("div",{"data-icon":"",className:Kr(B?.icon,m==null||(r=m.classNames)==null?void 0:r.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||fi():null,m.type!=="loading"?hi:null):null,re.createElement("div",{"data-content":"",className:Kr(B?.content,m==null||(s=m.classNames)==null?void 0:s.content)},re.createElement("div",{"data-title":"",className:Kr(B?.title,m==null||(a=m.classNames)==null?void 0:a.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?re.createElement("div",{"data-description":"",className:Kr($,oe,B?.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),re.isValidElement(m.cancel)?m.cancel:m.cancel&&kh(m.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||k,onClick:xe=>{kh(m.cancel)&&Q&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,xe),ft())},className:Kr(B?.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,re.isValidElement(m.action)?m.action:m.action&&kh(m.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||j,onClick:xe=>{kh(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,xe),!xe.defaultPrevented&&ft())},className:Kr(B?.actionButton,m==null||(d=m.classNames)==null?void 0:d.actionButton)},m.action.label):null)};function fC(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function HU(t,e){const n={};return[t,e].forEach((i,r)=>{const s=r===1,a=s?"--mobile-offset":"--offset",l=s?IU:NU;function u(d){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?u(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?n[`${a}-${d}`]=l:n[`${a}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):u(l)}),n}const BU=re.forwardRef(function(e,n){const{id:i,invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:h,mobileOffset:m,theme:p="light",richColors:y,duration:b,style:_,visibleToasts:w=MU,toastOptions:x,dir:E=fC(),gap:C=jU,icons:D,containerAriaLabel:O="Notifications"}=e,[N,I]=re.useState([]),k=re.useMemo(()=>i?N.filter(ne=>ne.toasterId===i):N.filter(ne=>!ne.toasterId),[N,i]),j=re.useMemo(()=>Array.from(new Set([s].concat(k.filter(ne=>ne.position).map(ne=>ne.position)))),[k,s]),[H,$]=re.useState([]),[G,se]=re.useState(!1),[pe,ve]=re.useState(!1),[B,X]=re.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),me=re.useRef(null),ae=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),be=re.useRef(null),L=re.useRef(!1),J=re.useCallback(ne=>{I(ie=>{var he;return(he=ie.find(ge=>ge.id===ne.id))!=null&&he.delete||ki.dismiss(ne.id),ie.filter(({id:ge})=>ge!==ne.id)})},[]);return re.useEffect(()=>ki.subscribe(ne=>{if(ne.dismiss){requestAnimationFrame(()=>{I(ie=>ie.map(he=>he.id===ne.id?{...he,delete:!0}:he))});return}setTimeout(()=>{IF.flushSync(()=>{I(ie=>{const he=ie.findIndex(ge=>ge.id===ne.id);return he!==-1?[...ie.slice(0,he),{...ie[he],...ne},...ie.slice(he+1)]:[ne,...ie]})})})}),[N]),re.useEffect(()=>{if(p!=="system"){X(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;const ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:ie})=>{X(ie?"dark":"light")})}catch{ne.addListener(({matches:he})=>{try{X(he?"dark":"light")}catch(ge){console.error(ge)}})}},[p]),re.useEffect(()=>{N.length<=1&&se(!1)},[N]),re.useEffect(()=>{const ne=ie=>{var he;if(a.every(Se=>ie[Se]||ie.code===Se)){var Re;se(!0),(Re=me.current)==null||Re.focus()}ie.code==="Escape"&&(document.activeElement===me.current||(he=me.current)!=null&&he.contains(document.activeElement))&&se(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[a]),re.useEffect(()=>{if(me.current)return()=>{be.current&&(be.current.focus({preventScroll:!0}),be.current=null,L.current=!1)}},[me.current]),re.createElement("section",{ref:n,"aria-label":`${O} ${ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((ne,ie)=>{var he;const[ge,Re]=ne.split("-");return k.length?re.createElement("ol",{key:ne,dir:E==="auto"?fC():E,tabIndex:-1,ref:me,className:d,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":ge,"data-x-position":Re,style:{"--front-toast-height":`${((he=H[0])==null?void 0:he.height)||0}px`,"--width":`${PU}px`,"--gap":`${C}px`,..._,...HU(h,m)},onBlur:Se=>{L.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(L.current=!1,be.current&&(be.current.focus({preventScroll:!0}),be.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||L.current||(L.current=!0,be.current=Se.relatedTarget)},onMouseEnter:()=>se(!0),onMouseMove:()=>se(!0),onMouseLeave:()=>{pe||se(!1)},onDragEnd:()=>se(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||ve(!0)},onPointerUp:()=>ve(!1)},k.filter(Se=>!Se.position&&ie===0||Se.position===ne).map((Se,ke)=>{var Xe,nn;return re.createElement(zU,{key:Se.id,icons:D,index:ke,toast:Se,defaultRichColors:y,duration:(Xe=x?.duration)!=null?Xe:b,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:r,visibleToasts:w,closeButton:(nn=x?.closeButton)!=null?nn:u,interacting:pe,position:ne,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,closeButtonAriaLabel:x?.closeButtonAriaLabel,removeToast:J,toasts:k.filter(Ut=>Ut.position==Se.position),heights:H.filter(Ut=>Ut.position==Se.position),setHeights:$,expandByDefault:l,gap:C,expanded:G,swipeDirections:e.swipeDirections})})):null}))});var hC={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},Mh={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",SERVER_ERROR:"SERVER_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR"},gC={PAGE_SIZE:10,PAGE_SIZE_OPTIONS:[10,25,50,100]},sn={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},yt={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},Hs={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},Zl={CREMA:"CREMA",LIQUIDO:"LIQUIDO",POLVERI:"POLVERI"},Jl={T1:"T1",T2:"T2",T3:"T3"};function mC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $U(...t){return e=>{let n=!1;const i=t.map(r=>{const s=mC(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():mC(t[r],null)}}}}function VU(t){const e=WU(t),n=A.forwardRef((i,r)=>{const{children:s,...a}=i,l=A.Children.toArray(s),u=l.find(YU);if(u){const d=u.props.children,h=l.map(m=>m===u?A.Children.count(d)>1?A.Children.only(null):A.isValidElement(d)?d.props.children:null:m);return R.jsx(e,{...a,ref:r,children:A.isValidElement(d)?A.cloneElement(d,void 0,h):null})}return R.jsx(e,{...a,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}var qU=VU("Slot");function WU(t){const e=A.forwardRef((n,i)=>{const{children:r,...s}=n;if(A.isValidElement(r)){const a=KU(r),l=QU(s,r.props);return r.type!==A.Fragment&&(l.ref=i?$U(i,a):a),A.cloneElement(r,l)}return A.Children.count(r)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var GU=Symbol("radix.slottable");function YU(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===GU}function QU(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const u=s(...l);return r(...l),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function KU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function E1(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=E1(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function R1(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=E1(t))&&(i&&(i+=" "),i+=e);return i}const __="-",XU=t=>{const e=JU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:a=>{const l=a.split(__);return l[0]===""&&l.length!==1&&l.shift(),C1(l,e)||ZU(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&i[a]?[...u,...i[a]]:u}}},C1=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?C1(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(__);return e.validators.find(({validator:a})=>a(s))?.classGroupId},pC=/^\[(.+)\]$/,ZU=t=>{if(pC.test(t)){const e=pC.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},JU=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return tz(Object.entries(t.classGroups),n).forEach(([s,a])=>{n0(a,i,s,e)}),i},n0=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:yC(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(ez(r)){n0(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,a])=>{n0(a,yC(e,s),n,i)})})},yC=(t,e)=>{let n=t;return e.split(__).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},ez=t=>t.isThemeGetter,tz=(t,e)=>e?t.map(([n,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,r]}):t,nz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=i.get(s))!==void 0)return r(s,a),a},set(s,a){n.has(s)?n.set(s,a):r(s,a)}}},T1="!",iz=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,r=e[0],s=e.length,a=l=>{const u=[];let d=0,h=0,m;for(let w=0;w<l.length;w++){let x=l[w];if(d===0){if(x===r&&(i||l.slice(w,w+s)===e)){u.push(l.slice(h,w)),h=w+s;continue}if(x==="/"){m=w;continue}}x==="["?d++:x==="]"&&d--}const p=u.length===0?l:l.substring(h),y=p.startsWith(T1),b=y?p.substring(1):p,_=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:_}};return n?l=>n({className:l,parseClassName:a}):a},rz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},sz=t=>({cache:nz(t.cacheSize),parseClassName:iz(t),...XU(t)}),az=/\s+/,oz=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],a=t.trim().split(az);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:y}=n(d);let b=!!y,_=i(b?p.substring(0,y):p);if(!_){if(!b){l=d+(l.length>0?" "+l:l);continue}if(_=i(p),!_){l=d+(l.length>0?" "+l:l);continue}b=!1}const w=rz(h).join(":"),x=m?w+T1:w,E=x+_;if(s.includes(E))continue;s.push(E);const C=r(_,b);for(let D=0;D<C.length;++D){const O=C[D];s.push(x+O)}l=d+(l.length>0?" "+l:l)}return l};function lz(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=A1(e))&&(i&&(i+=" "),i+=n);return i}const A1=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=A1(t[i]))&&(n&&(n+=" "),n+=e);return n};function cz(t,...e){let n,i,r,s=a;function a(u){const d=e.reduce((h,m)=>m(h),t());return n=sz(d),i=n.cache.get,r=n.cache.set,s=l,l(u)}function l(u){const d=i(u);if(d)return d;const h=oz(u,n);return r(u,h),h}return function(){return s(lz.apply(null,arguments))}}const Wt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},O1=/^\[(?:([a-z-]+):)?(.+)\]$/i,uz=/^\d+\/\d+$/,dz=new Set(["px","full","screen"]),fz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ds=t=>vc(t)||dz.has(t)||uz.test(t),Ca=t=>Hc(t,"length",Ez),vc=t=>!!t&&!Number.isNaN(Number(t)),Iv=t=>Hc(t,"number",vc),Hu=t=>!!t&&Number.isInteger(Number(t)),yz=t=>t.endsWith("%")&&vc(t.slice(0,-1)),Qe=t=>O1.test(t),Ta=t=>fz.test(t),vz=new Set(["length","size","percentage"]),bz=t=>Hc(t,vz,D1),_z=t=>Hc(t,"position",D1),Sz=new Set(["image","url"]),wz=t=>Hc(t,Sz,Cz),xz=t=>Hc(t,"",Rz),Bu=()=>!0,Hc=(t,e,n)=>{const i=O1.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},Ez=t=>hz.test(t)&&!gz.test(t),D1=()=>!1,Rz=t=>mz.test(t),Cz=t=>pz.test(t),Tz=()=>{const t=Wt("colors"),e=Wt("spacing"),n=Wt("blur"),i=Wt("brightness"),r=Wt("borderColor"),s=Wt("borderRadius"),a=Wt("borderSpacing"),l=Wt("borderWidth"),u=Wt("contrast"),d=Wt("grayscale"),h=Wt("hueRotate"),m=Wt("invert"),p=Wt("gap"),y=Wt("gradientColorStops"),b=Wt("gradientColorStopPositions"),_=Wt("inset"),w=Wt("margin"),x=Wt("opacity"),E=Wt("padding"),C=Wt("saturate"),D=Wt("scale"),O=Wt("sepia"),N=Wt("skew"),I=Wt("space"),k=Wt("translate"),j=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Qe,e],G=()=>[Qe,e],se=()=>["",Ds,Ca],pe=()=>["auto",vc,Qe],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Qe],be=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[vc,Qe];return{cacheSize:500,separator:":",theme:{colors:[Bu],spacing:[Ds,Ca],blur:["none","",Ta,Qe],brightness:L(),borderColor:[t],borderRadius:["none","","full",Ta,Qe],borderSpacing:G(),borderWidth:se(),contrast:L(),grayscale:ae(),hueRotate:L(),invert:ae(),gap:G(),gradientColorStops:[t],gradientColorStopPositions:[yz,Ca],inset:$(),margin:$(),opacity:L(),padding:G(),saturate:L(),scale:L(),sepia:ae(),skew:L(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[Ta]}],"break-after":[{"break-after":be()}],"break-before":[{"break-before":be()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),Qe]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hu,Qe]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",Hu,Qe]}],"grid-cols":[{"grid-cols":[Bu]}],"col-start-end":[{col:["auto",{span:["full",Hu,Qe]},Qe]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[Bu]}],"row-start-end":[{row:["auto",{span:[Hu,Qe]},Qe]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...me()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...me(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...me(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[Ta]},Ta]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ta,Ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Iv]}],"font-family":[{font:[Bu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",vc,Iv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ds,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ds,Ca]}],"underline-offset":[{"underline-offset":["auto",Ds,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),_z]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Ds,Qe]}],"outline-w":[{outline:[Ds,Ca]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ds,Ca]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ta,xz]}],"shadow-color":[{shadow:[Bu]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Ta,Qe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[C]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Hu,Qe]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ds,Ca,Iv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Az=cz(Tz);function Oz(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let i0=1;class Dz{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...r}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:i0++,a=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:i}),{...u,...e,id:s,dismissible:l,title:i}):u):this.addToast({title:i,...r,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s=i!==void 0,a;const l=r.then(async d=>{if(a=["resolve",d],re.isValidElement(d))s=!1,this.create({id:i,type:"default",message:d});else if(Mz(d)&&!d.ok){s=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,b=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:p,...b})}else if(d instanceof Error){s=!1;const m=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,b=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:p,...b})}else if(n.success!==void 0){s=!1;const m=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,b=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:i,type:"success",description:p,...b})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,y=typeof h=="object"&&!re.isValidElement(h)?h:{message:h};this.create({id:i,type:"error",description:m,...y})}}).finally(()=>{s&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>l.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof i!="string"&&typeof i!="number"?{unwrap:u}:Object.assign(i,{unwrap:u})},this.custom=(e,n)=>{const i=n?.id||i0++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const _r=new Dz,kz=(t,e)=>{const n=e?.id||i0++;return _r.addToast({title:t,...e,id:n}),n},Mz=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Nz=kz,Iz=()=>_r.toasts,Pz=()=>_r.getActiveToasts(),tf=Object.assign(Nz,{success:_r.success,info:_r.info,warning:_r.warning,error:_r.error,custom:_r.custom,message:_r.message,promise:_r.promise,dismiss:_r.dismiss,loading:_r.loading},{getHistory:Iz,getToasts:Pz});Oz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const k1=6048e5,jz=864e5,M1=6e4,N1=36e5,vC=Symbol.for("constructDateFrom");function Ks(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&vC in t?t[vC](e):t instanceof Date?new t.constructor(e):new Date(e)}function Zi(t,e){return Ks(e||t,t)}let Lz={};function km(){return Lz}function Dd(t,e){const n=km(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Zi(t,e?.in),s=r.getDay(),a=(s<i?7:0)+s-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function zg(t,e){return Dd(t,{...e,weekStartsOn:1})}function I1(t,e){const n=Zi(t,e?.in),i=n.getFullYear(),r=Ks(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=zg(r),a=Ks(n,0);a.setFullYear(i,0,4),a.setHours(0,0,0,0);const l=zg(a);return n.getTime()>=s.getTime()?i+1:n.getTime()>=l.getTime()?i:i-1}function bC(t){const e=Zi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Fz(t,...e){const n=Ks.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function _C(t,e){const n=Zi(t,e?.in);return n.setHours(0,0,0,0),n}function Uz(t,e,n){const[i,r]=Fz(n?.in,t,e),s=_C(i),a=_C(r),l=+s-bC(s),u=+a-bC(a);return Math.round((l-u)/jz)}function zz(t,e){const n=I1(t,e),i=Ks(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),zg(i)}function Hz(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function P1(t){return!(!Hz(t)&&typeof t!="number"||isNaN(+Zi(t)))}function Bz(t,e){const n=Zi(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const $z={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vz=(t,e,n)=>{let i;const r=$z[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Pv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const qz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yz={date:Pv({formats:qz,defaultWidth:"full"}),time:Pv({formats:Wz,defaultWidth:"full"}),dateTime:Pv({formats:Gz,defaultWidth:"full"})},Qz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kz=(t,e,n,i)=>Qz[t];function $u(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;r=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const Xz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iH=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},rH={ordinalNumber:iH,era:$u({values:Xz,defaultWidth:"wide"}),quarter:$u({values:Zz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$u({values:Jz,defaultWidth:"wide"}),day:$u({values:eH,defaultWidth:"wide"}),dayPeriod:$u({values:tH,defaultWidth:"wide",formattingValues:nH,defaultFormattingWidth:"wide"})};function Vu(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const a=s[0],l=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?aH(l,m=>m.test(a)):sH(l,m=>m.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function sH(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function aH(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function oH(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(r.length);return{value:a,rest:l}}}const lH=/^(\d+)(th|st|nd|rd)?/i,cH=/\d+/i,uH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dH={any:[/^b/i,/^(a|c)/i]},fH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hH={any:[/1/i,/2/i,/3/i,/4/i]},gH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_H={ordinalNumber:oH({matchPattern:lH,parsePattern:cH,valueCallback:t=>parseInt(t,10)}),era:Vu({matchPatterns:uH,defaultMatchWidth:"wide",parsePatterns:dH,defaultParseWidth:"any"}),quarter:Vu({matchPatterns:fH,defaultMatchWidth:"wide",parsePatterns:hH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vu({matchPatterns:gH,defaultMatchWidth:"wide",parsePatterns:mH,defaultParseWidth:"any"}),day:Vu({matchPatterns:pH,defaultMatchWidth:"wide",parsePatterns:yH,defaultParseWidth:"any"}),dayPeriod:Vu({matchPatterns:vH,defaultMatchWidth:"any",parsePatterns:bH,defaultParseWidth:"any"})},SH={code:"en-US",formatDistance:Vz,formatLong:Yz,formatRelative:Kz,localize:rH,match:_H,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wH(t,e){const n=Zi(t,e?.in);return Uz(n,Bz(n))+1}function xH(t,e){const n=Zi(t,e?.in),i=+zg(n)-+zz(n);return Math.round(i/k1)+1}function j1(t,e){const n=Zi(t,e?.in),i=n.getFullYear(),r=km(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Ks(e?.in||t,0);a.setFullYear(i+1,0,s),a.setHours(0,0,0,0);const l=Dd(a,e),u=Ks(e?.in||t,0);u.setFullYear(i,0,s),u.setHours(0,0,0,0);const d=Dd(u,e);return+n>=+l?i+1:+n>=+d?i:i-1}function EH(t,e){const n=km(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=j1(t,e),s=Ks(e?.in||t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),Dd(s,e)}function RH(t,e){const n=Zi(t,e?.in),i=+Dd(n,e)-+EH(n,e);return Math.round(i/k1)+1}function Tt(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Aa={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Tt(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tt(n+1,2)},d(t,e){return Tt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tt(t.getHours()%12||12,e.length)},H(t,e){return Tt(t.getHours(),e.length)},m(t,e){return Tt(t.getMinutes(),e.length)},s(t,e){return Tt(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return Tt(r,e.length)}},ec={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SC={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Aa.y(t,e)},Y:function(t,e,n,i){const r=j1(t,i),s=r>0?r:1-r;if(e==="YY"){const a=s%100;return Tt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Tt(s,e.length)},R:function(t,e){const n=I1(t);return Tt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tt(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Tt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Tt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Aa.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Tt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=RH(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Tt(r,e.length)},I:function(t,e,n){const i=xH(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Tt(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Aa.d(t,e)},D:function(t,e,n){const i=wH(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Tt(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Tt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Tt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return Tt(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=ec.noon:i===0?r=ec.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=ec.evening:i>=12?r=ec.afternoon:i>=4?r=ec.morning:r=ec.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Aa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Aa.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Tt(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Tt(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Aa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Aa.s(t,e)},S:function(t,e){return Aa.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return xC(i);case"XXXX":case"XX":return Mo(i);case"XXXXX":case"XXX":default:return Mo(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return xC(i);case"xxxx":case"xx":return Mo(i);case"xxxxx":case"xxx":default:return Mo(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+wC(i,":");case"OOOO":default:return"GMT"+Mo(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+wC(i,":");case"zzzz":default:return"GMT"+Mo(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return Tt(i,e.length)},T:function(t,e,n){return Tt(+t,e.length)}};function wC(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+Tt(s,2)}function xC(t,e){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):Mo(t,e)}function Mo(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Tt(Math.trunc(i/60),2),s=Tt(i%60,2);return n+r+e+s}const EC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},L1=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},CH=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return EC(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",EC(i,e)).replace("{{time}}",L1(r,e))},TH={p:L1,P:CH},AH=/^D+$/,OH=/^Y+$/,DH=["D","DD","YY","YYYY"];function kH(t){return AH.test(t)}function MH(t){return OH.test(t)}function NH(t,e,n){const i=IH(t,e,n);if(console.warn(i),DH.includes(t))throw new RangeError(i)}function IH(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LH=/^'([^]*?)'?$/,FH=/''/g,UH=/[a-zA-Z]/;function zH(t,e,n){const i=km(),r=i.locale??SH,s=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,l=Zi(t,n?.in);if(!P1(l))throw new RangeError("Invalid time value");let u=e.match(jH).map(h=>{const m=h[0];if(m==="p"||m==="P"){const p=TH[m];return p(h,r.formatLong)}return h}).join("").match(PH).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const m=h[0];if(m==="'")return{isToken:!1,value:HH(h)};if(SC[m])return{isToken:!0,value:h};if(m.match(UH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:r};return u.map(h=>{if(!h.isToken)return h.value;const m=h.value;(MH(m)||kH(m))&&NH(m,e,String(t));const p=SC[m[0]];return p(l,m,r.localize,d)}).join("")}function HH(t){const e=t.match(LH);return e?e[1].replace(FH,"'"):t}function BH(t,e){const n=()=>Ks(e?.in,NaN),r=WH(t);let s;if(r.date){const d=GH(r.date,2);s=YH(d.restDateString,d.year)}if(!s||isNaN(+s))return n();const a=+s;let l=0,u;if(r.time&&(l=QH(r.time),isNaN(l)))return n();if(r.timezone){if(u=KH(r.timezone),isNaN(u))return n()}else{const d=new Date(a+l),h=Zi(0,e?.in);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return Zi(a+l+u,e?.in)}const Nh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$H=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function WH(t){const e={},n=t.split(Nh.dateTimeDelimiter);let i;if(n.length>2)return e;if(/:/.test(n[0])?i=n[0]:(e.date=n[0],i=n[1],Nh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Nh.timeZoneDelimiter)[0],i=t.substr(e.date.length,t.length))),i){const r=Nh.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}function GH(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:NaN,restDateString:""};const r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:t.slice((i[1]||i[2]).length)}}function YH(t,e){if(e===null)return new Date(NaN);const n=t.match($H);if(!n)return new Date(NaN);const i=!!n[4],r=qu(n[1]),s=qu(n[2])-1,a=qu(n[3]),l=qu(n[4]),u=qu(n[5])-1;if(i)return tB(e,l,u)?XH(e,l,u):new Date(NaN);{const d=new Date(0);return!JH(e,s,a)||!eB(e,r)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(r,a)),d)}}function qu(t){return t?parseInt(t):1}function QH(t){const e=t.match(VH);if(!e)return NaN;const n=jv(e[1]),i=jv(e[2]),r=jv(e[3]);return nB(n,i,r)?n*N1+i*M1+r*1e3:NaN}function jv(t){return t&&parseFloat(t.replace(",","."))||0}function KH(t){if(t==="Z")return 0;const e=t.match(qH);if(!e)return 0;const n=e[1]==="+"?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return iB(i,r)?n*(i*N1+r*M1):NaN}function XH(t,e,n){const i=new Date(0);i.setUTCFullYear(t,0,4);const r=i.getUTCDay()||7,s=(e-1)*7+n+1-r;return i.setUTCDate(i.getUTCDate()+s),i}const ZH=[31,null,31,30,31,30,31,31,30,31,30,31];function F1(t){return t%400===0||t%4===0&&t%100!==0}function JH(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(ZH[e]||(F1(t)?29:28))}function eB(t,e){return e>=1&&e<=(F1(t)?366:365)}function tB(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function nB(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function iB(t,e){return e>=0&&e<=59}const RC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,CC=R1,rB=(t,e)=>n=>{var i;if(e?.variants==null)return CC(t,n?.class,n?.className);const{variants:r,defaultVariants:s}=e,a=Object.keys(r).map(d=>{const h=n?.[d],m=s?.[d];if(h===null)return null;const p=RC(h)||RC(m);return r[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[m,p]=h;return p===void 0||(d[m]=p),d},{}),u=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,h)=>{let{class:m,className:p,...y}=h;return Object.entries(y).every(b=>{let[_,w]=b;return Array.isArray(w)?w.includes({...s,...l}[_]):{...s,...l}[_]===w})?[...d,m,p]:d},[]);return CC(t,a,u,n?.class,n?.className)};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function La(t,e){return typeof t=="function"?t(e):t}function Ji(t,e){return n=>{e.setState(i=>({...i,[t]:La(n,i[t])}))}}function Mm(t){return t instanceof Function}function sB(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function aB(t,e){const n=[],i=r=>{r.forEach(s=>{n.push(s);const a=e(s);a!=null&&a.length&&i(a)})};return i(t),n}function je(t,e,n){let i=[],r;return s=>{let a;n.key&&n.debug&&(a=Date.now());const l=t(s);if(!(l.length!==i.length||l.some((h,m)=>i[m]!==h)))return r;i=l;let d;if(n.key&&n.debug&&(d=Date.now()),r=e(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-a)*100)/100,m=Math.round((Date.now()-d)*100)/100,p=m/16,y=(b,_)=>{for(b=String(b);b.length<_;)b=" "+b;return b};console.info(`%c ${y(m,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n?.key)}return r}}function Le(t,e,n,i){return{debug:()=>{var r;return(r=t?.debugAll)!=null?r:t[e]},key:!1,onChange:i}}function oB(t,e,n,i){const r=()=>{var a;return(a=s.getValue())!=null?a:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:r,getContext:je(()=>[t,n,e,s],(a,l,u,d)=>({table:a,column:l,row:u,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Le(t.options,"debugCells"))};return t._features.forEach(a=>{a.createCell==null||a.createCell(s,n,e,t)},{}),s}function lB(t,e,n,i){var r,s;const l={...t._getDefaultColumnDef(),...e},u=l.accessorKey;let d=(r=(s=l.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:u&&(u.includes(".")?h=p=>{let y=p;for(const _ of u.split(".")){var b;y=(b=y)==null?void 0:b[_]}return y}:h=p=>p[l.accessorKey]),!d)throw new Error;let m={id:`${String(d)}`,accessorFn:h,parent:i,depth:n,columnDef:l,columns:[],getFlatColumns:je(()=>[!0],()=>{var p;return[m,...(p=m.columns)==null?void 0:p.flatMap(y=>y.getFlatColumns())]},Le(t.options,"debugColumns")),getLeafColumns:je(()=>[t._getOrderColumnsFn()],p=>{var y;if((y=m.columns)!=null&&y.length){let b=m.columns.flatMap(_=>_.getLeafColumns());return p(b)}return[m]},Le(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(m,t);return m}const ni="debugHeaders";function TC(t,e,n){var i;let s={id:(i=n.id)!=null?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],l=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(l),a.push(u)};return l(s),a},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(a=>{a.createHeader==null||a.createHeader(s,t)}),s}const cB={createTable:t=>{t.getHeaderGroups=je(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>{var s,a;const l=(s=i?.map(m=>n.find(p=>p.id===m)).filter(Boolean))!=null?s:[],u=(a=r?.map(m=>n.find(p=>p.id===m)).filter(Boolean))!=null?a:[],d=n.filter(m=>!(i!=null&&i.includes(m.id))&&!(r!=null&&r.includes(m.id)));return Ih(e,[...l,...d,...u],t)},Le(t.options,ni)),t.getCenterHeaderGroups=je(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>(n=n.filter(s=>!(i!=null&&i.includes(s.id))&&!(r!=null&&r.includes(s.id))),Ih(e,n,t,"center")),Le(t.options,ni)),t.getLeftHeaderGroups=je(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,i)=>{var r;const s=(r=i?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?r:[];return Ih(e,s,t,"left")},Le(t.options,ni)),t.getRightHeaderGroups=je(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,i)=>{var r;const s=(r=i?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?r:[];return Ih(e,s,t,"right")},Le(t.options,ni)),t.getFooterGroups=je(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Le(t.options,ni)),t.getLeftFooterGroups=je(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Le(t.options,ni)),t.getCenterFooterGroups=je(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Le(t.options,ni)),t.getRightFooterGroups=je(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Le(t.options,ni)),t.getFlatHeaders=je(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,ni)),t.getLeftFlatHeaders=je(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,ni)),t.getCenterFlatHeaders=je(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,ni)),t.getRightFlatHeaders=je(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,ni)),t.getCenterLeafHeaders=je(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Le(t.options,ni)),t.getLeftLeafHeaders=je(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Le(t.options,ni)),t.getRightLeafHeaders=je(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Le(t.options,ni)),t.getLeafHeaders=je(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,i)=>{var r,s,a,l,u,d;return[...(r=(s=e[0])==null?void 0:s.headers)!=null?r:[],...(a=(l=n[0])==null?void 0:l.headers)!=null?a:[],...(u=(d=i[0])==null?void 0:d.headers)!=null?u:[]].map(h=>h.getLeafHeaders()).flat()},Le(t.options,ni))}};function Ih(t,e,n,i){var r,s;let a=0;const l=function(p,y){y===void 0&&(y=1),a=Math.max(a,y),p.filter(b=>b.getIsVisible()).forEach(b=>{var _;(_=b.columns)!=null&&_.length&&l(b.columns,y+1)},0)};l(t);let u=[];const d=(p,y)=>{const b={depth:y,id:[i,`${y}`].filter(Boolean).join("_"),headers:[]},_=[];p.forEach(w=>{const x=[..._].reverse()[0],E=w.column.depth===b.depth;let C,D=!1;if(E&&w.column.parent?C=w.column.parent:(C=w.column,D=!0),x&&x?.column===C)x.subHeaders.push(w);else{const O=TC(n,C,{id:[i,y,C.id,w?.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${_.filter(N=>N.column===C).length}`:void 0,depth:y,index:_.length});O.subHeaders.push(w),_.push(O)}b.headers.push(w),w.headerGroup=b}),u.push(b),y>0&&d(_,y-1)},h=e.map((p,y)=>TC(n,p,{depth:a,index:y}));d(h,a-1),u.reverse();const m=p=>p.filter(b=>b.column.getIsVisible()).map(b=>{let _=0,w=0,x=[0];b.subHeaders&&b.subHeaders.length?(x=[],m(b.subHeaders).forEach(C=>{let{colSpan:D,rowSpan:O}=C;_+=D,x.push(O)})):_=1;const E=Math.min(...x);return w=w+E,b.colSpan=_,b.rowSpan=w,{colSpan:_,rowSpan:w}});return m((r=(s=u[0])==null?void 0:s.headers)!=null?r:[]),u}const S_=(t,e,n,i,r,s,a)=>{let l={id:e,index:i,original:n,depth:r,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(l._valuesCache.hasOwnProperty(u))return l._valuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return l._valuesCache[u]=d.accessorFn(l.original,i),l._valuesCache[u]},getUniqueValues:u=>{if(l._uniqueValuesCache.hasOwnProperty(u))return l._uniqueValuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[u]=d.columnDef.getUniqueValues(l.original,i),l._uniqueValuesCache[u]):(l._uniqueValuesCache[u]=[l.getValue(u)],l._uniqueValuesCache[u])},renderValue:u=>{var d;return(d=l.getValue(u))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>aB(l.subRows,u=>u.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let u=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;u.push(h),d=h}return u.reverse()},getAllCells:je(()=>[t.getAllLeafColumns()],u=>u.map(d=>oB(t,l,d,d.id)),Le(t.options,"debugRows")),_getAllCellsByColumnId:je(()=>[l.getAllCells()],u=>u.reduce((d,h)=>(d[h.column.id]=h,d),{}),Le(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const d=t._features[u];d==null||d.createRow==null||d.createRow(l,t)}return l},uB={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},U1=(t,e,n)=>{var i,r;const s=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(s))};U1.autoRemove=t=>Ur(t);const z1=(t,e,n)=>{var i;return!!(!((i=t.getValue(e))==null||(i=i.toString())==null)&&i.includes(n))};z1.autoRemove=t=>Ur(t);const H1=(t,e,n)=>{var i;return((i=t.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===n?.toLowerCase()};H1.autoRemove=t=>Ur(t);const B1=(t,e,n)=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)};B1.autoRemove=t=>Ur(t);const $1=(t,e,n)=>!n.some(i=>{var r;return!((r=t.getValue(e))!=null&&r.includes(i))});$1.autoRemove=t=>Ur(t)||!(t!=null&&t.length);const V1=(t,e,n)=>n.some(i=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(i)});V1.autoRemove=t=>Ur(t)||!(t!=null&&t.length);const q1=(t,e,n)=>t.getValue(e)===n;q1.autoRemove=t=>Ur(t);const W1=(t,e,n)=>t.getValue(e)==n;W1.autoRemove=t=>Ur(t);const w_=(t,e,n)=>{let[i,r]=n;const s=t.getValue(e);return s>=i&&s<=r};w_.resolveFilterValue=t=>{let[e,n]=t,i=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(i)?-1/0:i,a=n===null||Number.isNaN(r)?1/0:r;if(s>a){const l=s;s=a,a=l}return[s,a]};w_.autoRemove=t=>Ur(t)||Ur(t[0])&&Ur(t[1]);const js={includesString:U1,includesStringSensitive:z1,equalsString:H1,arrIncludes:B1,arrIncludesAll:$1,arrIncludesSome:V1,equals:q1,weakEquals:W1,inNumberRange:w_};function Ur(t){return t==null||t===""}const dB={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Ji("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);return typeof i=="string"?js.includesString:typeof i=="number"?js.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?js.equals:Array.isArray(i)?js.arrIncludes:js.weakEquals},t.getFilterFn=()=>{var n,i;return Mm(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(i=e.options.filterFns)==null?void 0:i[t.columnDef.filterFn])!=null?n:js[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(i=>i.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,i;return(n=(i=e.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(i=>{const r=t.getFilterFn(),s=i?.find(h=>h.id===t.id),a=La(n,s?s.value:void 0);if(AC(r,a,t)){var l;return(l=i?.filter(h=>h.id!==t.id))!=null?l:[]}const u={id:t.id,value:a};if(s){var d;return(d=i?.map(h=>h.id===t.id?u:h))!=null?d:[]}return i!=null&&i.length?[...i,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),i=r=>{var s;return(s=La(e,r))==null?void 0:s.filter(a=>{const l=n.find(u=>u.id===a.id);if(l){const u=l.getFilterFn();if(AC(u,a.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(i)},t.resetColumnFilters=e=>{var n,i;t.setColumnFilters(e?[]:(n=(i=t.initialState)==null?void 0:i.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function AC(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const fB=(t,e,n)=>n.reduce((i,r)=>{const s=r.getValue(t);return i+(typeof s=="number"?s:0)},0),hB=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i>s||i===void 0&&s>=s)&&(i=s)}),i},gB=(t,e,n)=>{let i;return n.forEach(r=>{const s=r.getValue(t);s!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}),i},mB=(t,e,n)=>{let i,r;return n.forEach(s=>{const a=s.getValue(t);a!=null&&(i===void 0?a>=a&&(i=r=a):(i>a&&(i=a),r<a&&(r=a)))}),[i,r]},pB=(t,e)=>{let n=0,i=0;if(e.forEach(r=>{let s=r.getValue(t);s!=null&&(s=+s)>=s&&(++n,i+=s)}),n)return i/n},yB=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!sB(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),r=n.sort((s,a)=>s-a);return n.length%2!==0?r[i]:(r[i-1]+r[i])/2},vB=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),bB=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,_B=(t,e)=>e.length,Lv={sum:fB,min:hB,max:gB,extent:mB,mean:pB,median:yB,unique:vB,uniqueCount:bB,count:_B},SB={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Ji("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(i=>i!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,i;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);if(typeof i=="number")return Lv.sum;if(Object.prototype.toString.call(i)==="[object Date]")return Lv.extent},t.getAggregationFn=()=>{var n,i;if(!t)throw new Error;return Mm(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(i=e.options.aggregationFns)==null?void 0:i[t.columnDef.aggregationFn])!=null?n:Lv[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i;t.setGrouping(e?[]:(n=(i=t.initialState)==null?void 0:i.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const i=e.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function wB(t,e,n){if(!(e!=null&&e.length)||!n)return t;const i=t.filter(s=>!e.includes(s.id));return n==="remove"?i:[...e.map(s=>t.find(a=>a.id===s)).filter(Boolean),...i]}const xB={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Ji("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=je(n=>[ld(e,n)],n=>n.findIndex(i=>i.id===t.id),Le(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i;return((i=ld(e,n)[0])==null?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i;const r=ld(e,n);return((i=r[r.length-1])==null?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=je(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,i)=>r=>{let s=[];if(!(e!=null&&e.length))s=r;else{const a=[...e],l=[...r];for(;l.length&&a.length;){const u=a.shift(),d=l.findIndex(h=>h.id===u);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return wB(s,n,i)},Le(t.options,"debugTable"))}},Fv=()=>({left:[],right:[]}),EB={getInitialState:t=>({columnPinning:Fv(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Ji("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var s,a;if(n==="right"){var l,u;return{left:((l=r?.left)!=null?l:[]).filter(m=>!(i!=null&&i.includes(m))),right:[...((u=r?.right)!=null?u:[]).filter(m=>!(i!=null&&i.includes(m))),...i]}}if(n==="left"){var d,h;return{left:[...((d=r?.left)!=null?d:[]).filter(m=>!(i!=null&&i.includes(m))),...i],right:((h=r?.right)!=null?h:[]).filter(m=>!(i!=null&&i.includes(m)))}}return{left:((s=r?.left)!=null?s:[]).filter(m=>!(i!=null&&i.includes(m))),right:((a=r?.right)!=null?a:[]).filter(m=>!(i!=null&&i.includes(m)))}})},t.getCanPin=()=>t.getLeafColumns().some(i=>{var r,s,a;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((s=(a=e.options.enableColumnPinning)!=null?a:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:i,right:r}=e.getState().columnPinning,s=n.some(l=>i?.includes(l)),a=n.some(l=>r?.includes(l));return s?"left":a?"right":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();return r?(n=(i=e.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=je(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,i,r)=>{const s=[...i??[],...r??[]];return n.filter(a=>!s.includes(a.column.id))},Le(e.options,"debugRows")),t.getLeftVisibleCells=je(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,i)=>(i??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Le(e.options,"debugRows")),t.getRightVisibleCells=je(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,i)=>(i??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Le(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i;return t.setColumnPinning(e?Fv():(n=(i=t.initialState)==null?void 0:i.columnPinning)!=null?n:Fv())},t.getIsSomeColumnsPinned=e=>{var n;const i=t.getState().columnPinning;if(!e){var r,s;return!!((r=i.left)!=null&&r.length||(s=i.right)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t.getLeftLeafColumns=je(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Le(t.options,"debugColumns")),t.getRightLeafColumns=je(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Le(t.options,"debugColumns")),t.getCenterLeafColumns=je(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i)=>{const r=[...n??[],...i??[]];return e.filter(s=>!r.includes(s.id))},Le(t.options,"debugColumns"))}};function RB(t){return t||(typeof document<"u"?document:null)}const Ph={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Uv=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),CB={getDefaultColumnDef:()=>Ph,getInitialState:t=>({columnSizing:{},columnSizingInfo:Uv(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ji("columnSizing",t),onColumnSizingInfoChange:Ji("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,r;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Ph.minSize,(i=s??t.columnDef.size)!=null?i:Ph.size),(r=t.columnDef.maxSize)!=null?r:Ph.maxSize)},t.getStart=je(n=>[n,ld(e,n),e.getState().columnSizing],(n,i)=>i.slice(0,t.getIndex(n)).reduce((r,s)=>r+s.getSize(),0),Le(e.options,"debugColumns")),t.getAfter=je(n=>[n,ld(e,n),e.getState().columnSizing],(n,i)=>i.slice(t.getIndex(n)+1).reduce((r,s)=>r+s.getSize(),0),Le(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:i,...r}=n;return r})},t.getCanResize=()=>{var n,i;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var s;n+=(s=r.column.getSize())!=null?s:0}};return i(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),r=i?.getCanResize();return s=>{if(!i||!r||(s.persist==null||s.persist(),zv(s)&&s.touches&&s.touches.length>1))return;const a=t.getSize(),l=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[i.id,i.getSize()]],u=zv(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(x,E)=>{typeof E=="number"&&(e.setColumnSizingInfo(C=>{var D,O;const N=e.options.columnResizeDirection==="rtl"?-1:1,I=(E-((D=C?.startOffset)!=null?D:0))*N,k=Math.max(I/((O=C?.startSize)!=null?O:0),-.999999);return C.columnSizingStart.forEach(j=>{let[H,$]=j;d[H]=Math.round(Math.max($+$*k,0)*100)/100}),{...C,deltaOffset:I,deltaPercentage:k}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(C=>({...C,...d})))},m=x=>h("move",x),p=x=>{h("end",x),e.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=RB(n),b={moveHandler:x=>m(x.clientX),upHandler:x=>{y?.removeEventListener("mousemove",b.moveHandler),y?.removeEventListener("mouseup",b.upHandler),p(x.clientX)}},_={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),m(x.touches[0].clientX),!1),upHandler:x=>{var E;y?.removeEventListener("touchmove",_.moveHandler),y?.removeEventListener("touchend",_.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),p((E=x.touches[0])==null?void 0:E.clientX)}},w=TB()?{passive:!1}:!1;zv(s)?(y?.addEventListener("touchmove",_.moveHandler,w),y?.addEventListener("touchend",_.upHandler,w)):(y?.addEventListener("mousemove",b.moveHandler,w),y?.addEventListener("mouseup",b.upHandler,w)),e.setColumnSizingInfo(x=>({...x,startOffset:u,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:i.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?Uv():(n=t.initialState.columnSizingInfo)!=null?n:Uv())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0}}};let jh=null;function TB(){if(typeof jh=="boolean")return jh;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return jh=t,jh}function zv(t){return t.type==="touchstart"}const AB={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Ji("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(i=>({...i,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,i;const r=t.columns;return(n=r.length?r.some(s=>s.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[t.id])!=null?n:!0},t.getCanHide=()=>{var n,i;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((i=e.options.enableHiding)!=null?i:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=je(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),Le(e.options,"debugRows")),t.getVisibleCells=je(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,i,r)=>[...n,...i,...r],Le(e.options,"debugRows"))},createTable:t=>{const e=(n,i)=>je(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Le(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var i;t.setColumnVisibility(n?{}:(i=t.initialState.columnVisibility)!=null?i:{})},t.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,s)=>({...r,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;t.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function ld(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const OB={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},DB={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Ji("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const i=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,r,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>js.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:i}=t.options;return Mm(i)?i:i==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[i])!=null?e:js[i]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},kB={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Ji("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?i:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=i=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(i),t.toggleAllRowsExpanded=i=>{i??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=i=>{var r,s;t.setExpanded(i?{}:(r=(s=t.initialState)==null?void 0:s.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const i=t.getState().expanded;return i===!0||Object.values(i).some(Boolean)},t.getIsAllRowsExpanded=()=>{const i=t.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let i=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const a=s.split(".");i=Math.max(i,a.length)}),i},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(i=>{var r;const s=i===!0?!0:!!(i!=null&&i[t.id]);let a={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{a[l]=!0}):a=i,n=(r=n)!=null?r:!s,!s&&n)return{...a,[t.id]:!0};if(s&&!n){const{[t.id]:l,...u}=a;return u}return i})},t.getIsExpanded=()=>{var n;const i=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:i===!0||i?.[t.id])},t.getCanExpand=()=>{var n,i,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((i=e.options.enableExpanding)!=null?i:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t;for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},r0=0,s0=10,Hv=()=>({pageIndex:r0,pageSize:s0}),MB={getInitialState:t=>({...t,pagination:{...Hv(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:Ji("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?i:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=i=>{const r=s=>La(i,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=i=>{var r;t.setPagination(i?Hv():(r=t.initialState.pagination)!=null?r:Hv())},t.setPageIndex=i=>{t.setPagination(r=>{let s=La(i,r.pageIndex);const a=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,a)),{...r,pageIndex:s}})},t.resetPageIndex=i=>{var r,s;t.setPageIndex(i?r0:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?r:r0)},t.resetPageSize=i=>{var r,s;t.setPageSize(i?s0:(r=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?r:s0)},t.setPageSize=i=>{t.setPagination(r=>{const s=Math.max(1,La(i,r.pageSize)),a=r.pageSize*r.pageIndex,l=Math.floor(a/s);return{...r,pageIndex:l,pageSize:s}})},t.setPageCount=i=>t.setPagination(r=>{var s;let a=La(i,(s=t.options.pageCount)!=null?s:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...r,pageCount:a}}),t.getPageOptions=je(()=>[t.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((s,a)=>a)),r},Le(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:i}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:i<r-1},t.previousPage=()=>t.setPageIndex(i=>i-1),t.nextPage=()=>t.setPageIndex(i=>i+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var i;return(i=t.options.pageCount)!=null?i:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var i;return(i=t.options.rowCount)!=null?i:t.getPrePaginationRowModel().rows.length}}},Bv=()=>({top:[],bottom:[]}),NB={getInitialState:t=>({rowPinning:Bv(),...t}),getDefaultOptions:t=>({onRowPinningChange:Ji("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,r)=>{const s=i?t.getLeafRows().map(u=>{let{id:d}=u;return d}):[],a=r?t.getParentRows().map(u=>{let{id:d}=u;return d}):[],l=new Set([...a,t.id,...s]);e.setRowPinning(u=>{var d,h;if(n==="bottom"){var m,p;return{top:((m=u?.top)!=null?m:[]).filter(_=>!(l!=null&&l.has(_))),bottom:[...((p=u?.bottom)!=null?p:[]).filter(_=>!(l!=null&&l.has(_))),...Array.from(l)]}}if(n==="top"){var y,b;return{top:[...((y=u?.top)!=null?y:[]).filter(_=>!(l!=null&&l.has(_))),...Array.from(l)],bottom:((b=u?.bottom)!=null?b:[]).filter(_=>!(l!=null&&l.has(_)))}}return{top:((d=u?.top)!=null?d:[]).filter(_=>!(l!=null&&l.has(_))),bottom:((h=u?.bottom)!=null?h:[]).filter(_=>!(l!=null&&l.has(_)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:r}=e.options;return typeof i=="function"?i(t):(n=i??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:r}=e.getState().rowPinning,s=n.some(l=>i?.includes(l)),a=n.some(l=>r?.includes(l));return s?"top":a?"bottom":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();if(!r)return-1;const s=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(a=>{let{id:l}=a;return l});return(i=s?.indexOf(t.id))!=null?i:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i;return t.setRowPinning(e?Bv():(n=(i=t.initialState)==null?void 0:i.rowPinning)!=null?n:Bv())},t.getIsSomeRowsPinned=e=>{var n;const i=t.getState().rowPinning;if(!e){var r,s;return!!((r=i.top)!=null&&r.length||(s=i.bottom)!=null&&s.length)}return!!((n=i[e])!=null&&n.length)},t._getPinnedRows=(e,n,i)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(a=>{const l=t.getRow(a,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(a=>e.find(l=>l.id===a))).filter(Boolean).map(a=>({...a,position:i}))},t.getTopRows=je(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Le(t.options,"debugRows")),t.getBottomRows=je(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Le(t.options,"debugRows")),t.getCenterRows=je(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,i)=>{const r=new Set([...n??[],...i??[]]);return e.filter(s=>!r.has(s.id))},Le(t.options,"debugRows"))}},IB={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Ji("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const i={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(s=>{s.getCanSelect()&&(i[s.id]=!0)}):r.forEach(s=>{delete i[s.id]}),i})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const i=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(s=>{a0(r,s.id,i,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=je(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?$v(t,n):{rows:[],flatRows:[],rowsById:{}},Le(t.options,"debugTable")),t.getFilteredSelectedRowModel=je(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?$v(t,n):{rows:[],flatRows:[],rowsById:{}},Le(t.options,"debugTable")),t.getGroupedSelectedRowModel=je(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?$v(t,n):{rows:[],flatRows:[],rowsById:{}},Le(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let i=!!(e.length&&Object.keys(n).length);return i&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let i=!!e.length;return i&&e.some(r=>!n[r.id])&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const r=t.getIsSelected();e.setRowSelection(s=>{var a;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return s;const l={...s};return a0(l,t.id,n,(a=i?.selectChildren)!=null?a:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return x_(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return o0(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return o0(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return i=>{var r;n&&t.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},a0=(t,e,n,i,r)=>{var s;const a=r.getRow(e,!0);n?(a.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),a.getCanSelect()&&(t[e]=!0)):delete t[e],i&&(s=a.subRows)!=null&&s.length&&a.getCanSelectSubRows()&&a.subRows.forEach(l=>a0(t,l.id,n,i,r))};function $v(t,e){const n=t.getState().rowSelection,i=[],r={},s=function(a,l){return a.map(u=>{var d;const h=x_(u,n);if(h&&(i.push(u),r[u.id]=u),(d=u.subRows)!=null&&d.length&&(u={...u,subRows:s(u.subRows)}),h)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:i,rowsById:r}}function x_(t,e){var n;return(n=e[t.id])!=null?n:!1}function o0(t,e,n){var i;if(!((i=t.subRows)!=null&&i.length))return!1;let r=!0,s=!1;return t.subRows.forEach(a=>{if(!(s&&!r)&&(a.getCanSelect()&&(x_(a,e)?s=!0:r=!1),a.subRows&&a.subRows.length)){const l=o0(a,e);l==="all"?s=!0:(l==="some"&&(s=!0),r=!1)}}),r?"all":s?"some":!1}const l0=/([0-9]+)/gm,PB=(t,e,n)=>G1(Ga(t.getValue(n)).toLowerCase(),Ga(e.getValue(n)).toLowerCase()),jB=(t,e,n)=>G1(Ga(t.getValue(n)),Ga(e.getValue(n))),LB=(t,e,n)=>E_(Ga(t.getValue(n)).toLowerCase(),Ga(e.getValue(n)).toLowerCase()),FB=(t,e,n)=>E_(Ga(t.getValue(n)),Ga(e.getValue(n))),UB=(t,e,n)=>{const i=t.getValue(n),r=e.getValue(n);return i>r?1:i<r?-1:0},zB=(t,e,n)=>E_(t.getValue(n),e.getValue(n));function E_(t,e){return t===e?0:t>e?1:-1}function Ga(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function G1(t,e){const n=t.split(l0).filter(Boolean),i=e.split(l0).filter(Boolean);for(;n.length&&i.length;){const r=n.shift(),s=i.shift(),a=parseInt(r,10),l=parseInt(s,10),u=[a,l].sort();if(isNaN(u[0])){if(r>s)return 1;if(s>r)return-1;continue}if(isNaN(u[1]))return isNaN(a)?-1:1;if(a>l)return 1;if(l>a)return-1}return n.length-i.length}const Wu={alphanumeric:PB,alphanumericCaseSensitive:jB,text:LB,textCaseSensitive:FB,datetime:UB,basic:zB},HB={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Ji("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of n){const s=r?.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return Wu.datetime;if(typeof s=="string"&&(i=!0,s.split(l0).length>1))return Wu.alphanumeric}return i?Wu.text:Wu.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,i;if(!t)throw new Error;return Mm(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(i=e.options.sortingFns)==null?void 0:i[t.columnDef.sortingFn])!=null?n:Wu[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const r=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(a=>{const l=a?.find(y=>y.id===t.id),u=a?.findIndex(y=>y.id===t.id);let d=[],h,m=s?n:r==="desc";if(a!=null&&a.length&&t.getCanMultiSort()&&i?l?h="toggle":h="add":a!=null&&a.length&&u!==a.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||r||(h="remove")),h==="add"){var p;d=[...a,{id:t.id,desc:m}],d.splice(0,d.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=a.map(y=>y.id===t.id?{...y,desc:m}:y):h==="remove"?d=a.filter(y=>y.id!==t.id):d=[{id:t.id,desc:m}];return d})},t.getFirstSortDir=()=>{var n,i;return((n=(i=t.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var i,r;const s=t.getFirstSortDir(),a=t.getIsSorted();return a?a!==s&&((i=e.options.enableSortingRemoval)==null||i)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:a==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,i;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i;return(n=(i=t.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const i=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return i?i.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,i;return(n=(i=e.getState().sorting)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return i=>{n&&(i.persist==null||i.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i;t.setSorting(e?[]:(n=(i=t.initialState)==null?void 0:i.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},BB=[cB,AB,xB,EB,uB,dB,OB,DB,HB,SB,kB,MB,NB,IB,CB];function $B(t){var e,n;const i=[...BB,...(e=t._features)!=null?e:[]];let r={_features:i};const s=r._features.reduce((p,y)=>Object.assign(p,y.getDefaultOptions==null?void 0:y.getDefaultOptions(r)),{}),a=p=>r.options.mergeOptions?r.options.mergeOptions(s,p):{...s,...p};let u={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(p=>{var y;u=(y=p.getInitialState==null?void 0:p.getInitialState(u))!=null?y:u});const d=[];let h=!1;const m={_features:i,options:{...s,...t},initialState:u,_queue:p=>{d.push(p),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{r.setState(r.initialState)},setOptions:p=>{const y=La(p,r.options);r.options=a(y)},getState:()=>r.options.state,setState:p=>{r.options.onStateChange==null||r.options.onStateChange(p)},_getRowId:(p,y,b)=>{var _;return(_=r.options.getRowId==null?void 0:r.options.getRowId(p,y,b))!=null?_:`${b?[b.id,y].join("."):y}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(p,y)=>{let b=(y?r.getPrePaginationRowModel():r.getRowModel()).rowsById[p];if(!b&&(b=r.getCoreRowModel().rowsById[p],!b))throw new Error;return b},_getDefaultColumnDef:je(()=>[r.options.defaultColumn],p=>{var y;return p=(y=p)!=null?y:{},{header:b=>{const _=b.header.column.columnDef;return _.accessorKey?_.accessorKey:_.accessorFn?_.id:null},cell:b=>{var _,w;return(_=(w=b.renderValue())==null||w.toString==null?void 0:w.toString())!=null?_:null},...r._features.reduce((b,_)=>Object.assign(b,_.getDefaultColumnDef==null?void 0:_.getDefaultColumnDef()),{}),...p}},Le(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:je(()=>[r._getColumnDefs()],p=>{const y=function(b,_,w){return w===void 0&&(w=0),b.map(x=>{const E=lB(r,x,w,_),C=x;return E.columns=C.columns?y(C.columns,E,w+1):[],E})};return y(p)},Le(t,"debugColumns")),getAllFlatColumns:je(()=>[r.getAllColumns()],p=>p.flatMap(y=>y.getFlatColumns()),Le(t,"debugColumns")),_getAllFlatColumnsById:je(()=>[r.getAllFlatColumns()],p=>p.reduce((y,b)=>(y[b.id]=b,y),{}),Le(t,"debugColumns")),getAllLeafColumns:je(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(p,y)=>{let b=p.flatMap(_=>_.getLeafColumns());return y(b)},Le(t,"debugColumns")),getColumn:p=>r._getAllFlatColumnsById()[p]};Object.assign(r,m);for(let p=0;p<r._features.length;p++){const y=r._features[p];y==null||y.createTable==null||y.createTable(r)}return r}function VB(){return t=>je(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(r,s,a){s===void 0&&(s=0);const l=[];for(let d=0;d<r.length;d++){const h=S_(t,t._getRowId(r[d],d,a),r[d],d,s,void 0,a?.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),t.options.getSubRows){var u;h.originalSubRows=t.options.getSubRows(r[d],d),(u=h.originalSubRows)!=null&&u.length&&(h.subRows=i(h.originalSubRows,s+1,h))}}return l};return n.rows=i(e),n},Le(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function qB(t,e,n){return n.options.filterFromLeafRows?WB(t,e,n):GB(t,e,n)}function WB(t,e,n){var i;const r=[],s={},a=(i=n.options.maxLeafRowFilterDepth)!=null?i:100,l=function(u,d){d===void 0&&(d=0);const h=[];for(let p=0;p<u.length;p++){var m;let y=u[p];const b=S_(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);if(b.columnFilters=y.columnFilters,(m=y.subRows)!=null&&m.length&&d<a){if(b.subRows=l(y.subRows,d+1),y=b,e(y)&&!b.subRows.length){h.push(y),s[y.id]=y,r.push(y);continue}if(e(y)||b.subRows.length){h.push(y),s[y.id]=y,r.push(y);continue}}else y=b,e(y)&&(h.push(y),s[y.id]=y,r.push(y))}return h};return{rows:l(t),flatRows:r,rowsById:s}}function GB(t,e,n){var i;const r=[],s={},a=(i=n.options.maxLeafRowFilterDepth)!=null?i:100,l=function(u,d){d===void 0&&(d=0);const h=[];for(let p=0;p<u.length;p++){let y=u[p];if(e(y)){var m;if((m=y.subRows)!=null&&m.length&&d<a){const _=S_(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);_.subRows=l(y.subRows,d+1),y=_}h.push(y),r.push(y),s[y.id]=y}}return h};return{rows:l(t),flatRows:r,rowsById:s}}function YB(){return t=>je(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,i)=>{if(!e.rows.length||!(n!=null&&n.length)&&!i){for(let p=0;p<e.flatRows.length;p++)e.flatRows[p].columnFilters={},e.flatRows[p].columnFiltersMeta={};return e}const r=[],s=[];(n??[]).forEach(p=>{var y;const b=t.getColumn(p.id);if(!b)return;const _=b.getFilterFn();_&&r.push({id:p.id,filterFn:_,resolvedValue:(y=_.resolveFilterValue==null?void 0:_.resolveFilterValue(p.value))!=null?y:p.value})});const a=(n??[]).map(p=>p.id),l=t.getGlobalFilterFn(),u=t.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());i&&l&&u.length&&(a.push("__global__"),u.forEach(p=>{var y;s.push({id:p.id,filterFn:l,resolvedValue:(y=l.resolveFilterValue==null?void 0:l.resolveFilterValue(i))!=null?y:i})}));let d,h;for(let p=0;p<e.flatRows.length;p++){const y=e.flatRows[p];if(y.columnFilters={},r.length)for(let b=0;b<r.length;b++){d=r[b];const _=d.id;y.columnFilters[_]=d.filterFn(y,_,d.resolvedValue,w=>{y.columnFiltersMeta[_]=w})}if(s.length){for(let b=0;b<s.length;b++){h=s[b];const _=h.id;if(h.filterFn(y,_,h.resolvedValue,w=>{y.columnFiltersMeta[_]=w})){y.columnFilters.__global__=!0;break}}y.columnFilters.__global__!==!0&&(y.columnFilters.__global__=!1)}}const m=p=>{for(let y=0;y<a.length;y++)if(p.columnFilters[a[y]]===!1)return!1;return!0};return qB(e.rows,m,t)},Le(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function QB(){return t=>je(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const i=t.getState().sorting,r=[],s=i.filter(u=>{var d;return(d=t.getColumn(u.id))==null?void 0:d.getCanSort()}),a={};s.forEach(u=>{const d=t.getColumn(u.id);d&&(a[u.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=u=>{const d=u.map(h=>({...h}));return d.sort((h,m)=>{for(let y=0;y<s.length;y+=1){var p;const b=s[y],_=a[b.id],w=_.sortUndefined,x=(p=b?.desc)!=null?p:!1;let E=0;if(w){const C=h.getValue(b.id),D=m.getValue(b.id),O=C===void 0,N=D===void 0;if(O||N){if(w==="first")return O?-1:1;if(w==="last")return O?1:-1;E=O&&N?0:O?w:-w}}if(E===0&&(E=_.sortingFn(h,m,b.id)),E!==0)return x&&(E*=-1),_.invertSorting&&(E*=-1),E}return h.index-m.index}),d.forEach(h=>{var m;r.push(h),(m=h.subRows)!=null&&m.length&&(h.subRows=l(h.subRows))}),d};return{rows:l(n.rows),flatRows:r,rowsById:n.rowsById}},Le(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function OC(t,e){return t?KB(t)?A.createElement(t,e):t:null}function KB(t){return XB(t)||typeof t=="function"||ZB(t)}function XB(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function ZB(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function JB(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=A.useState(()=>({current:$B(e)})),[i,r]=A.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...i,...t.state},onStateChange:a=>{r(a),t.onStateChange==null||t.onStateChange(a)}})),n.current}var nf=t=>t.type==="checkbox",Vo=t=>t instanceof Date,Mi=t=>t==null;const Y1=t=>typeof t=="object";var An=t=>!Mi(t)&&!Array.isArray(t)&&Y1(t)&&!Vo(t),e$=t=>An(t)&&t.target?nf(t.target)?t.target.checked:t.target.value:t,t$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,n$=(t,e)=>t.has(t$(e)),i$=t=>{const e=t.constructor&&t.constructor.prototype;return An(e)&&e.hasOwnProperty("isPrototypeOf")},R_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bn(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(R_&&(t instanceof Blob||i))&&(n||An(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!i$(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Bn(t[r]));else return t;return e}var Nm=t=>/^\w*$/.test(t),yn=t=>t===void 0,C_=t=>Array.isArray(t)?t.filter(Boolean):[],T_=t=>C_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(t,e,n)=>{if(!e||!An(t))return n;const i=(Nm(e)?[e]:T_(e)).reduce((r,s)=>Mi(r)?r:r[s],t);return yn(i)||i===t?yn(t[e])?n:t[e]:i},ns=t=>typeof t=="boolean",Zt=(t,e,n)=>{let i=-1;const r=Nm(e)?[e]:T_(e),s=r.length,a=s-1;for(;++i<s;){const l=r[i];let u=n;if(i!==a){const d=t[l];u=An(d)||Array.isArray(d)?d:isNaN(+r[i+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const DC={BLUR:"blur",FOCUS_OUT:"focusout"},Pr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ks={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},r$=re.createContext(null);r$.displayName="HookFormContext";var s$=(t,e,n,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(r,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Pr.all&&(e._proxyFormState[a]=!i||Pr.all),t[a]}});return r};const a$=typeof window<"u"?re.useLayoutEffect:re.useEffect;var Gi=t=>typeof t=="string",o$=(t,e,n,i,r)=>Gi(t)?(i&&e.watch.add(t),Ae(n,t,r)):Array.isArray(t)?t.map(s=>(i&&e.watch.add(s),Ae(n,s))):(i&&(e.watchAll=!0),n),c0=t=>Mi(t)||!Y1(t);function Pa(t,e,n=new WeakSet){if(c0(t)||c0(e))return t===e;if(Vo(t)&&Vo(e))return t.getTime()===e.getTime();const i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of i){const a=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const l=e[s];if(Vo(a)&&Vo(l)||An(a)&&An(l)||Array.isArray(a)&&Array.isArray(l)?!Pa(a,l,n):a!==l)return!1}}return!0}var l$=(t,e,n,i,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:r||!0}}:{},cd=t=>Array.isArray(t)?t:[t],kC=()=>{let t=[];return{get observers(){return t},next:r=>{for(const s of t)s.next&&s.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(s=>s!==r)}}),unsubscribe:()=>{t=[]}}};function Q1(t,e){const n={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i],s=e[i];if(r&&An(r)&&s){const a=Q1(r,s);An(a)&&(n[i]=a)}else t[i]&&(n[i]=s)}return n}var Oi=t=>An(t)&&!Object.keys(t).length,A_=t=>t.type==="file",jr=t=>typeof t=="function",Hg=t=>{if(!R_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},K1=t=>t.type==="select-multiple",O_=t=>t.type==="radio",c$=t=>O_(t)||nf(t),Vv=t=>Hg(t)&&t.isConnected;function u$(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=yn(t)?i++:t[e[i++]];return t}function d$(t){for(const e in t)if(t.hasOwnProperty(e)&&!yn(t[e]))return!1;return!0}function Cn(t,e){const n=Array.isArray(e)?e:Nm(e)?[e]:T_(e),i=n.length===1?t:u$(t,n),r=n.length-1,s=n[r];return i&&delete i[s],r!==0&&(An(i)&&Oi(i)||Array.isArray(i)&&d$(i))&&Cn(t,n.slice(0,-1)),t}var f$=t=>{for(const e in t)if(jr(t[e]))return!0;return!1};function X1(t){return Array.isArray(t)||An(t)&&!f$(t)}function u0(t,e={}){for(const n in t)X1(t[n])?(e[n]=Array.isArray(t[n])?[]:{},u0(t[n],e[n])):yn(t[n])||(e[n]=!0);return e}function dc(t,e,n){n||(n=u0(e));for(const i in t)X1(t[i])?yn(e)||c0(n[i])?n[i]=u0(t[i],Array.isArray(t[i])?[]:{}):dc(t[i],Mi(e)?{}:e[i],n[i]):n[i]=!Pa(t[i],e[i]);return n}const MC={value:!1,isValid:!1},NC={value:!0,isValid:!0};var Z1=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!yn(t[0].attributes.value)?yn(t[0].value)||t[0].value===""?NC:{value:t[0].value,isValid:!0}:NC:MC}return MC},J1=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>yn(t)?t:e?t===""?NaN:t&&+t:n&&Gi(t)?new Date(t):i?i(t):t;const IC={isValid:!1,value:null};var ek=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,IC):IC;function PC(t){const e=t.ref;return A_(e)?e.files:O_(e)?ek(t.refs).value:K1(e)?[...e.selectedOptions].map(({value:n})=>n):nf(e)?Z1(t.refs).value:J1(yn(e.value)?t.ref.value:e.value,t)}var h$=(t,e,n,i)=>{const r={};for(const s of t){const a=Ae(e,s);a&&Zt(r,s,a._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:i}},Bg=t=>t instanceof RegExp,Gu=t=>yn(t)?t:Bg(t)?t.source:An(t)?Bg(t.value)?t.value.source:t.value:t,jC=t=>({isOnSubmit:!t||t===Pr.onSubmit,isOnBlur:t===Pr.onBlur,isOnChange:t===Pr.onChange,isOnAll:t===Pr.all,isOnTouch:t===Pr.onTouched});const LC="AsyncFunction";var g$=t=>!!t&&!!t.validate&&!!(jr(t.validate)&&t.validate.constructor.name===LC||An(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===LC)),m$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),FC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const ud=(t,e,n,i)=>{for(const r of n||Object.keys(t)){const s=Ae(t,r);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!i)return!0;if(a.ref&&e(a.ref,a.name)&&!i)return!0;if(ud(l,e))break}else if(An(l)&&ud(l,e))break}}};function UC(t,e,n){const i=Ae(t,n);if(i||Nm(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const s=r.join("."),a=Ae(e,s),l=Ae(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};r.pop()}return{name:n}}var p$=(t,e,n,i)=>{n(t);const{name:r,...s}=t;return Oi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!i||Pr.all))},y$=(t,e,n)=>!t||!e||t===e||cd(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),v$=(t,e,n,i,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?i.isOnBlur:r.isOnBlur)?!t:(n?i.isOnChange:r.isOnChange)?t:!0,b$=(t,e)=>!C_(Ae(t,e)).length&&Cn(t,e),_$=(t,e,n)=>{const i=cd(Ae(t,n));return Zt(i,"root",e[n]),Zt(t,n,i),t};function zC(t,e,n="validate"){if(Gi(t)||Array.isArray(t)&&t.every(Gi)||ns(t)&&!t)return{type:n,message:Gi(t)?t:"",ref:e}}var tc=t=>An(t)&&!Bg(t)?t:{value:t,message:""},HC=async(t,e,n,i,r,s)=>{const{ref:a,refs:l,required:u,maxLength:d,minLength:h,min:m,max:p,pattern:y,validate:b,name:_,valueAsNumber:w,mount:x}=t._f,E=Ae(n,_);if(!x||e.has(_))return{};const C=l?l[0]:a,D=G=>{r&&C.reportValidity&&(C.setCustomValidity(ns(G)?"":G||""),C.reportValidity())},O={},N=O_(a),I=nf(a),k=N||I,j=(w||A_(a))&&yn(a.value)&&yn(E)||Hg(a)&&a.value===""||E===""||Array.isArray(E)&&!E.length,H=l$.bind(null,_,i,O),$=(G,se,pe,ve=ks.maxLength,B=ks.minLength)=>{const X=G?se:pe;O[_]={type:G?ve:B,message:X,ref:a,...H(G?ve:B,X)}};if(s?!Array.isArray(E)||!E.length:u&&(!k&&(j||Mi(E))||ns(E)&&!E||I&&!Z1(l).isValid||N&&!ek(l).isValid)){const{value:G,message:se}=Gi(u)?{value:!!u,message:u}:tc(u);if(G&&(O[_]={type:ks.required,message:se,ref:C,...H(ks.required,se)},!i))return D(se),O}if(!j&&(!Mi(m)||!Mi(p))){let G,se;const pe=tc(p),ve=tc(m);if(!Mi(E)&&!isNaN(E)){const B=a.valueAsNumber||E&&+E;Mi(pe.value)||(G=B>pe.value),Mi(ve.value)||(se=B<ve.value)}else{const B=a.valueAsDate||new Date(E),X=be=>new Date(new Date().toDateString()+" "+be),me=a.type=="time",ae=a.type=="week";Gi(pe.value)&&E&&(G=me?X(E)>X(pe.value):ae?E>pe.value:B>new Date(pe.value)),Gi(ve.value)&&E&&(se=me?X(E)<X(ve.value):ae?E<ve.value:B<new Date(ve.value))}if((G||se)&&($(!!G,pe.message,ve.message,ks.max,ks.min),!i))return D(O[_].message),O}if((d||h)&&!j&&(Gi(E)||s&&Array.isArray(E))){const G=tc(d),se=tc(h),pe=!Mi(G.value)&&E.length>+G.value,ve=!Mi(se.value)&&E.length<+se.value;if((pe||ve)&&($(pe,G.message,se.message),!i))return D(O[_].message),O}if(y&&!j&&Gi(E)){const{value:G,message:se}=tc(y);if(Bg(G)&&!E.match(G)&&(O[_]={type:ks.pattern,message:se,ref:a,...H(ks.pattern,se)},!i))return D(se),O}if(b){if(jr(b)){const G=await b(E,n),se=zC(G,C);if(se&&(O[_]={...se,...H(ks.validate,se.message)},!i))return D(se.message),O}else if(An(b)){let G={};for(const se in b){if(!Oi(G)&&!i)break;const pe=zC(await b[se](E,n),C,se);pe&&(G={...pe,...H(se,pe.message)},D(pe.message),i&&(O[_]=G))}if(!Oi(G)&&(O[_]={ref:C,...G},!i))return O}}return D(!0),O};const S$={mode:Pr.onSubmit,reValidateMode:Pr.onChange,shouldFocusError:!0};function w$(t={}){let e={...S$,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:jr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},r=An(e.defaultValues)||An(e.values)?Bn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Bn(r),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...h};const p={array:kC(),state:kC()},y=e.criteriaMode===Pr.all,b=P=>q=>{clearTimeout(d),d=setTimeout(P,q)},_=async P=>{if(!e.disabled&&(h.isValid||m.isValid||P)){const q=e.resolver?Oi((await I()).errors):await j(i,!0);q!==n.isValid&&p.state.next({isValid:q})}},w=(P,q)=>{!e.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((P||Array.from(l.mount)).forEach(U=>{U&&(q?Zt(n.validatingFields,U,q):Cn(n.validatingFields,U))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Oi(n.validatingFields)}))},x=(P,q=[],U,Q,ce=!0,oe=!0)=>{if(Q&&U&&!e.disabled){if(a.action=!0,oe&&Array.isArray(Ae(i,P))){const fe=U(Ae(i,P),Q.argA,Q.argB);ce&&Zt(i,P,fe)}if(oe&&Array.isArray(Ae(n.errors,P))){const fe=U(Ae(n.errors,P),Q.argA,Q.argB);ce&&Zt(n.errors,P,fe),b$(n.errors,P)}if((h.touchedFields||m.touchedFields)&&oe&&Array.isArray(Ae(n.touchedFields,P))){const fe=U(Ae(n.touchedFields,P),Q.argA,Q.argB);ce&&Zt(n.touchedFields,P,fe)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=dc(r,s)),p.state.next({name:P,isDirty:$(P,q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Zt(s,P,q)},E=(P,q)=>{Zt(n.errors,P,q),p.state.next({errors:n.errors})},C=P=>{n.errors=P,p.state.next({errors:n.errors,isValid:!1})},D=(P,q,U,Q)=>{const ce=Ae(i,P);if(ce){const oe=Ae(s,P,yn(U)?Ae(r,P):U);yn(oe)||Q&&Q.defaultChecked||q?Zt(s,P,q?oe:PC(ce._f)):pe(P,oe),a.mount&&_()}},O=(P,q,U,Q,ce)=>{let oe=!1,fe=!1;const Ee={name:P};if(!e.disabled){if(!U||Q){(h.isDirty||m.isDirty)&&(fe=n.isDirty,n.isDirty=Ee.isDirty=$(),oe=fe!==Ee.isDirty);const ye=Pa(Ae(r,P),q);fe=!!Ae(n.dirtyFields,P),ye?Cn(n.dirtyFields,P):Zt(n.dirtyFields,P,!0),Ee.dirtyFields=n.dirtyFields,oe=oe||(h.dirtyFields||m.dirtyFields)&&fe!==!ye}if(U){const ye=Ae(n.touchedFields,P);ye||(Zt(n.touchedFields,P,U),Ee.touchedFields=n.touchedFields,oe=oe||(h.touchedFields||m.touchedFields)&&ye!==U)}oe&&ce&&p.state.next(Ee)}return oe?Ee:{}},N=(P,q,U,Q)=>{const ce=Ae(n.errors,P),oe=(h.isValid||m.isValid)&&ns(q)&&n.isValid!==q;if(e.delayError&&U?(u=b(()=>E(P,U)),u(e.delayError)):(clearTimeout(d),u=null,U?Zt(n.errors,P,U):Cn(n.errors,P)),(U?!Pa(ce,U):ce)||!Oi(Q)||oe){const fe={...Q,...oe&&ns(q)?{isValid:q}:{},errors:n.errors,name:P};n={...n,...fe},p.state.next(fe)}},I=async P=>{w(P,!0);const q=await e.resolver(s,e.context,h$(P||l.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return w(P),q},k=async P=>{const{errors:q}=await I(P);if(P)for(const U of P){const Q=Ae(q,U);Q?Zt(n.errors,U,Q):Cn(n.errors,U)}else n.errors=q;return q},j=async(P,q,U={valid:!0})=>{for(const Q in P){const ce=P[Q];if(ce){const{_f:oe,...fe}=ce;if(oe){const Ee=l.array.has(oe.name),ye=ce._f&&g$(ce._f);ye&&h.validatingFields&&w([oe.name],!0);const Fe=await HC(ce,l.disabled,s,y,e.shouldUseNativeValidation&&!q,Ee);if(ye&&h.validatingFields&&w([oe.name]),Fe[oe.name]&&(U.valid=!1,q))break;!q&&(Ae(Fe,oe.name)?Ee?_$(n.errors,Fe,oe.name):Zt(n.errors,oe.name,Fe[oe.name]):Cn(n.errors,oe.name))}!Oi(fe)&&await j(fe,q,U)}}return U.valid},H=()=>{for(const P of l.unMount){const q=Ae(i,P);q&&(q._f.refs?q._f.refs.every(U=>!Vv(U)):!Vv(q._f.ref))&&Re(P)}l.unMount=new Set},$=(P,q)=>!e.disabled&&(P&&q&&Zt(s,P,q),!Pa(be(),r)),G=(P,q,U)=>o$(P,l,{...a.mount?s:yn(q)?r:Gi(P)?{[P]:q}:q},U,q),se=P=>C_(Ae(a.mount?s:r,P,e.shouldUnregister?Ae(r,P,[]):[])),pe=(P,q,U={})=>{const Q=Ae(i,P);let ce=q;if(Q){const oe=Q._f;oe&&(!oe.disabled&&Zt(s,P,J1(q,oe)),ce=Hg(oe.ref)&&Mi(q)?"":q,K1(oe.ref)?[...oe.ref.options].forEach(fe=>fe.selected=ce.includes(fe.value)):oe.refs?nf(oe.ref)?oe.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(ce)?fe.checked=!!ce.find(Ee=>Ee===fe.value):fe.checked=ce===fe.value||!!ce)}):oe.refs.forEach(fe=>fe.checked=fe.value===ce):A_(oe.ref)?oe.ref.value="":(oe.ref.value=ce,oe.ref.type||p.state.next({name:P,values:Bn(s)})))}(U.shouldDirty||U.shouldTouch)&&O(P,ce,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&ae(P)},ve=(P,q,U)=>{for(const Q in q){if(!q.hasOwnProperty(Q))return;const ce=q[Q],oe=P+"."+Q,fe=Ae(i,oe);(l.array.has(P)||An(ce)||fe&&!fe._f)&&!Vo(ce)?ve(oe,ce,U):pe(oe,ce,U)}},B=(P,q,U={})=>{const Q=Ae(i,P),ce=l.array.has(P),oe=Bn(q);Zt(s,P,oe),ce?(p.array.next({name:P,values:Bn(s)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&U.shouldDirty&&p.state.next({name:P,dirtyFields:dc(r,s),isDirty:$(P,oe)})):Q&&!Q._f&&!Mi(oe)?ve(P,oe,U):pe(P,oe,U),FC(P,l)&&p.state.next({...n,name:P}),p.state.next({name:a.mount?P:void 0,values:Bn(s)})},X=async P=>{a.mount=!0;const q=P.target;let U=q.name,Q=!0;const ce=Ae(i,U),oe=ye=>{Q=Number.isNaN(ye)||Vo(ye)&&isNaN(ye.getTime())||Pa(ye,Ae(s,U,ye))},fe=jC(e.mode),Ee=jC(e.reValidateMode);if(ce){let ye,Fe;const et=q.type?PC(ce._f):e$(P),Be=P.type===DC.BLUR||P.type===DC.FOCUS_OUT,qe=!m$(ce._f)&&!e.resolver&&!Ae(n.errors,U)&&!ce._f.deps||v$(Be,Ae(n.touchedFields,U),n.isSubmitted,Ee,fe),_n=FC(U,l,Be);Zt(s,U,et),Be?(!q||!q.readOnly)&&(ce._f.onBlur&&ce._f.onBlur(P),u&&u(0)):ce._f.onChange&&ce._f.onChange(P);const Et=O(U,et,Be),ze=!Oi(Et)||_n;if(!Be&&p.state.next({name:U,type:P.type,values:Bn(s)}),qe)return(h.isValid||m.isValid)&&(e.mode==="onBlur"?Be&&_():Be||_()),ze&&p.state.next({name:U,..._n?{}:Et});if(!Be&&_n&&p.state.next({...n}),e.resolver){const{errors:rt}=await I([U]);if(oe(et),Q){const gn=UC(n.errors,i,U),Ze=UC(rt,i,gn.name||U);ye=Ze.error,U=Ze.name,Fe=Oi(rt)}}else w([U],!0),ye=(await HC(ce,l.disabled,s,y,e.shouldUseNativeValidation))[U],w([U]),oe(et),Q&&(ye?Fe=!1:(h.isValid||m.isValid)&&(Fe=await j(i,!0)));Q&&(ce._f.deps&&(!Array.isArray(ce._f.deps)||ce._f.deps.length>0)&&ae(ce._f.deps),N(U,Fe,ye,Et))}},me=(P,q)=>{if(Ae(n.errors,q)&&P.focus)return P.focus(),1},ae=async(P,q={})=>{let U,Q;const ce=cd(P);if(e.resolver){const oe=await k(yn(P)?P:ce);U=Oi(oe),Q=P?!ce.some(fe=>Ae(oe,fe)):U}else P?(Q=(await Promise.all(ce.map(async oe=>{const fe=Ae(i,oe);return await j(fe&&fe._f?{[oe]:fe}:fe)}))).every(Boolean),!(!Q&&!n.isValid)&&_()):Q=U=await j(i);return p.state.next({...!Gi(P)||(h.isValid||m.isValid)&&U!==n.isValid?{}:{name:P},...e.resolver||!P?{isValid:U}:{},errors:n.errors}),q.shouldFocus&&!Q&&ud(i,me,P?ce:l.mount),Q},be=(P,q)=>{let U={...a.mount?s:r};return q&&(U=Q1(q.dirtyFields?n.dirtyFields:n.touchedFields,U)),yn(P)?U:Gi(P)?Ae(U,P):P.map(Q=>Ae(U,Q))},L=(P,q)=>({invalid:!!Ae((q||n).errors,P),isDirty:!!Ae((q||n).dirtyFields,P),error:Ae((q||n).errors,P),isValidating:!!Ae(n.validatingFields,P),isTouched:!!Ae((q||n).touchedFields,P)}),J=P=>{P&&cd(P).forEach(q=>Cn(n.errors,q)),p.state.next({errors:P?n.errors:{}})},ne=(P,q,U)=>{const Q=(Ae(i,P,{_f:{}})._f||{}).ref,ce=Ae(n.errors,P)||{},{ref:oe,message:fe,type:Ee,...ye}=ce;Zt(n.errors,P,{...ye,...q,ref:Q}),p.state.next({name:P,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&Q&&Q.focus&&Q.focus()},ie=(P,q)=>jr(P)?p.state.subscribe({next:U=>"values"in U&&P(G(void 0,q),U)}):G(P,q,!0),he=P=>p.state.subscribe({next:q=>{y$(P.name,q.name,P.exact)&&p$(q,P.formState||h,Pt,P.reRenderRoot)&&P.callback({values:{...s},...n,...q,defaultValues:r})}}).unsubscribe,ge=P=>(a.mount=!0,m={...m,...P.formState},he({...P,formState:m})),Re=(P,q={})=>{for(const U of P?cd(P):l.mount)l.mount.delete(U),l.array.delete(U),q.keepValue||(Cn(i,U),Cn(s,U)),!q.keepError&&Cn(n.errors,U),!q.keepDirty&&Cn(n.dirtyFields,U),!q.keepTouched&&Cn(n.touchedFields,U),!q.keepIsValidating&&Cn(n.validatingFields,U),!e.shouldUnregister&&!q.keepDefaultValue&&Cn(r,U);p.state.next({values:Bn(s)}),p.state.next({...n,...q.keepDirty?{isDirty:$()}:{}}),!q.keepIsValid&&_()},Se=({disabled:P,name:q})=>{(ns(P)&&a.mount||P||l.disabled.has(q))&&(P?l.disabled.add(q):l.disabled.delete(q))},ke=(P,q={})=>{let U=Ae(i,P);const Q=ns(q.disabled)||ns(e.disabled);return Zt(i,P,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:P}},name:P,mount:!0,...q}}),l.mount.add(P),U?Se({disabled:ns(q.disabled)?q.disabled:e.disabled,name:P}):D(P,!0,q.value),{...Q?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:Gu(q.min),max:Gu(q.max),minLength:Gu(q.minLength),maxLength:Gu(q.maxLength),pattern:Gu(q.pattern)}:{},name:P,onChange:X,onBlur:X,ref:ce=>{if(ce){ke(P,q),U=Ae(i,P);const oe=yn(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,fe=c$(oe),Ee=U._f.refs||[];if(fe?Ee.find(ye=>ye===oe):oe===U._f.ref)return;Zt(i,P,{_f:{...U._f,...fe?{refs:[...Ee.filter(Vv),oe,...Array.isArray(Ae(r,P))?[{}]:[]],ref:{type:oe.type,name:P}}:{ref:oe}}}),D(P,!1,void 0,oe)}else U=Ae(i,P,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(n$(l.array,P)&&a.action)&&l.unMount.add(P)}}},Xe=()=>e.shouldFocusError&&ud(i,me,l.mount),nn=P=>{ns(P)&&(p.state.next({disabled:P}),ud(i,(q,U)=>{const Q=Ae(i,U);Q&&(q.disabled=Q._f.disabled||P,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(ce=>{ce.disabled=Q._f.disabled||P}))},0,!1))},Ut=(P,q)=>async U=>{let Q;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let ce=Bn(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:fe}=await I();n.errors=oe,ce=Bn(fe)}else await j(i);if(l.disabled.size)for(const oe of l.disabled)Cn(ce,oe);if(Cn(n.errors,"root"),Oi(n.errors)){p.state.next({errors:{}});try{await P(ce,U)}catch(oe){Q=oe}}else q&&await q({...n.errors},U),Xe(),setTimeout(Xe);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Oi(n.errors)&&!Q,submitCount:n.submitCount+1,errors:n.errors}),Q)throw Q},Li=(P,q={})=>{Ae(i,P)&&(yn(q.defaultValue)?B(P,Bn(Ae(r,P))):(B(P,q.defaultValue),Zt(r,P,Bn(q.defaultValue))),q.keepTouched||Cn(n.touchedFields,P),q.keepDirty||(Cn(n.dirtyFields,P),n.isDirty=q.defaultValue?$(P,Bn(Ae(r,P))):$()),q.keepError||(Cn(n.errors,P),h.isValid&&_()),p.state.next({...n}))},we=(P,q={})=>{const U=P?Bn(P):r,Q=Bn(U),ce=Oi(P),oe=ce?r:Q;if(q.keepDefaultValues||(r=U),!q.keepValues){if(q.keepDirtyValues){const fe=new Set([...l.mount,...Object.keys(dc(r,s))]);for(const Ee of Array.from(fe))Ae(n.dirtyFields,Ee)?Zt(oe,Ee,Ae(s,Ee)):B(Ee,Ae(oe,Ee))}else{if(R_&&yn(P))for(const fe of l.mount){const Ee=Ae(i,fe);if(Ee&&Ee._f){const ye=Array.isArray(Ee._f.refs)?Ee._f.refs[0]:Ee._f.ref;if(Hg(ye)){const Fe=ye.closest("form");if(Fe){Fe.reset();break}}}}if(q.keepFieldsRef)for(const fe of l.mount)B(fe,Ae(oe,fe));else i={}}s=e.shouldUnregister?q.keepDefaultValues?Bn(r):{}:Bn(oe),p.array.next({values:{...oe}}),p.state.next({values:{...oe}})}l={mount:q.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!q.keepIsValid||!!q.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:q.keepSubmitCount?n.submitCount:0,isDirty:ce?!1:q.keepDirty?n.isDirty:!!(q.keepDefaultValues&&!Pa(P,r)),isSubmitted:q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ce?{}:q.keepDirtyValues?q.keepDefaultValues&&s?dc(r,s):n.dirtyFields:q.keepDefaultValues&&P?dc(r,P):q.keepDirty?n.dirtyFields:{},touchedFields:q.keepTouched?n.touchedFields:{},errors:q.keepErrors?n.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},Ue=(P,q)=>we(jr(P)?P(s):P,q),ot=(P,q={})=>{const U=Ae(i,P),Q=U&&U._f;if(Q){const ce=Q.refs?Q.refs[0]:Q.ref;ce.focus&&(ce.focus(),q.shouldSelect&&jr(ce.select)&&ce.select())}},Pt=P=>{n={...n,...P}},Je={control:{register:ke,unregister:Re,getFieldState:L,handleSubmit:Ut,setError:ne,_subscribe:he,_runSchema:I,_focusError:Xe,_getWatch:G,_getDirty:$,_setValid:_,_setFieldArray:x,_setDisabledField:Se,_setErrors:C,_getFieldArray:se,_reset:we,_resetDefaultValues:()=>jr(e.defaultValues)&&e.defaultValues().then(P=>{Ue(P,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:nn,_subjects:p,_proxyFormState:h,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(P){a=P},get _defaultValues(){return r},get _names(){return l},set _names(P){l=P},get _formState(){return n},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:ge,trigger:ae,register:ke,handleSubmit:Ut,watch:ie,setValue:B,getValues:be,reset:Ue,resetField:Li,clearErrors:J,unregister:Re,setError:ne,setFocus:ot,getFieldState:L};return{...Je,formControl:Je}}function x$(t={}){const e=re.useRef(void 0),n=re.useRef(void 0),[i,r]=re.useState({isDirty:!1,isValidating:!1,isLoading:jr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:jr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!jr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=w$(t);e.current={...l,formState:i}}const s=e.current.control;return s._options=t,a$(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>r({...s._formState}),reRenderRoot:!0});return r(l=>({...l,isReady:!0})),s._formState.isReady=!0,a},[s]),re.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),re.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),re.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),re.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),re.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==i.isDirty&&s._subjects.state.next({isDirty:a})}},[s,i.isDirty]),re.useEffect(()=>{t.values&&!Pa(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,r(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),re.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=s$(i,s),e.current}const E$={},BC=t=>{let e;const n=new Set,i=(h,m)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const y=e;e=m??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(b=>b(e,y))}},r=()=>e,u={setState:i,getState:r,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(E$?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(i,r,u);return u},R$=t=>t?BC(t):BC;var qv={exports:{}},Wv={},Gv={exports:{}},Yv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C;function C$(){if($C)return Yv;$C=1;var t=Zd();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(m,p){var y=p(),b=i({inst:{value:y,getSnapshot:p}}),_=b[0].inst,w=b[1];return s(function(){_.value=y,_.getSnapshot=p,u(_)&&w({inst:_})},[m,y,p]),r(function(){return u(_)&&w({inst:_}),m(function(){u(_)&&w({inst:_})})},[m]),a(y),y}function u(m){var p=m.getSnapshot;m=m.value;try{var y=p();return!n(m,y)}catch{return!0}}function d(m,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Yv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Yv}var VC;function T$(){return VC||(VC=1,Gv.exports=C$()),Gv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function A$(){if(qC)return Wv;qC=1;var t=Zd(),e=T$();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Wv.useSyncExternalStoreWithSelector=function(d,h,m,p,y){var b=s(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=l(function(){function x(N){if(!E){if(E=!0,C=N,N=p(N),y!==void 0&&_.hasValue){var I=_.value;if(y(I,N))return D=I}return D=N}if(I=D,i(C,N))return I;var k=p(N);return y!==void 0&&y(I,k)?(C=N,I):(C=N,D=k)}var E=!1,C,D,O=m===void 0?null:m;return[function(){return x(h())},O===null?void 0:function(){return x(O())}]},[h,m,p,y]);var w=r(d,b[0],b[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),u(w),w},Wv}var WC;function O$(){return WC||(WC=1,qv.exports=A$()),qv.exports}var D$=O$();const k$=jc(D$),tk={},{useDebugValue:M$}=re,{useSyncExternalStoreWithSelector:N$}=k$;let GC=!1;const I$=t=>t;function P$(t,e=I$,n){(tk?"production":void 0)!=="production"&&n&&!GC&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),GC=!0);const i=N$(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return M$(i),i}const YC=t=>{(tk?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?R$(t):t,n=(i,r)=>P$(e,i,r);return Object.assign(n,e),n},kd=t=>t?YC(t):YC;var Im=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},j$={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},L$=class{#t=j$;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,e){return this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},Lh=new L$;function F$(t){setTimeout(t,0)}var Md=typeof window>"u"||"Deno"in globalThis;function $g(){}function QC(t){return typeof t=="number"&&t>=0&&t!==1/0}function U$(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dd(t,e){return typeof t=="function"?t(e):t}function Nr(t,e){return typeof t=="function"?t(e):t}function KC(t){return JSON.stringify(t,(e,n)=>d0(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}var z$=Object.prototype.hasOwnProperty;function nk(t,e){if(t===e)return t;const n=XC(t)&&XC(e);if(!n&&!(d0(t)&&d0(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=n?d:s[d],m=t[h],p=e[h];if(m===p){l[h]=m,(n?d<r:z$.call(t,h))&&u++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[h]=p;continue}const y=nk(m,p);l[h]=y,y===m&&u++}return r===a&&u===r?t:l}function Vg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function XC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function d0(t){if(!ZC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ZC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ZC(t){return Object.prototype.toString.call(t)==="[object Object]"}function JC(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?nk(t,e):e}function ik(t,e){return typeof t=="function"?t(...e):!!t}var H$=class extends Im{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!Md&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},B$=new H$;function eT(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}var $$=F$;function V$(){let t=[],e=0,n=l=>{l()},i=l=>{l()},r=$$;const s=l=>{e?t.push(l):r(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&r(()=>{i(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{r=l}}}var Pm=V$(),q$=class extends Im{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!Md&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},W$=new q$;function G$(t){return(t??"online")==="online"?W$.isOnline():!0}function Y$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}var Q$=class extends Im{constructor(t,e){super(),this.options=e,this.#t=t,this.#s=null,this.#o=eT(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#m;#f;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),tT(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return f0(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return f0(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#S(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),e._defaulted&&!Vg(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&nT(this.#e,n,this.options,e)&&this.#d(),this.updateResult(),i&&(this.#e!==n||Nr(this.options.enabled,this.#e)!==Nr(e.enabled,this.#e)||dd(this.options.staleTime,this.#e)!==dd(e.staleTime,this.#e))&&this.#p();const r=this.#y();i&&(this.#e!==n||Nr(this.options.enabled,this.#e)!==Nr(e.enabled,this.#e)||r!==this.#l)&&this.#v(r)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return X$(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#e.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#w();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch($g)),e}#p(){this.#_();const t=dd(this.options.staleTime,this.#e);if(Md||this.#i.isStale||!QC(t))return;const n=U$(this.#i.dataUpdatedAt,t)+1;this.#c=Lh.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#S(),this.#l=t,!(Md||Nr(this.options.enabled,this.#e)===!1||!QC(this.#l)||this.#l===0)&&(this.#u=Lh.setInterval(()=>{(this.options.refetchIntervalInBackground||B$.isFocused())&&this.#d()},this.#l))}#b(){this.#p(),this.#v(this.#y())}#_(){this.#c&&(Lh.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(Lh.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#e,i=this.options,r=this.#i,s=this.#r,a=this.#a,u=t!==n?t.state:this.#n,{state:d}=t;let h={...d},m=!1,p;if(e._optimisticResults){const k=this.hasListeners(),j=!k&&tT(t,e),H=k&&nT(t,n,e,i);(j||H)&&(h={...h,...Y$(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:_}=h;p=h.data;let w=!1;if(e.placeholderData!==void 0&&p===void 0&&_==="pending"){let k;r?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(k=r.data,w=!0):k=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,k!==void 0&&(_="success",p=JC(r?.data,k,e),m=!0)}if(e.select&&p!==void 0&&!w)if(r&&p===s?.data&&e.select===this.#m)p=this.#f;else try{this.#m=e.select,p=e.select(p),p=JC(r?.data,p,e),this.#f=p,this.#s=null}catch(k){this.#s=k}this.#s&&(y=this.#s,p=this.#f,b=Date.now(),_="error");const x=h.fetchStatus==="fetching",E=_==="pending",C=_==="error",D=E&&x,O=p!==void 0,I={status:_,fetchStatus:h.fetchStatus,isPending:E,isSuccess:_==="success",isError:C,isInitialLoading:D,isLoading:D,data:p,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:C&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:C&&O,isStale:D_(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Nr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=$=>{I.status==="error"?$.reject(I.error):I.data!==void 0&&$.resolve(I.data)},j=()=>{const $=this.#o=I.promise=eT();k($)},H=this.#o;switch(H.status){case"pending":t.queryHash===n.queryHash&&k(H);break;case"fulfilled":(I.status==="error"||I.data!==H.value)&&j();break;case"rejected":(I.status!=="error"||I.error!==H.reason)&&j();break}}return I}updateResult(){const t=this.#i,e=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#e),Vg(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#g.size)return!0;const s=new Set(r??this.#g);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(a=>{const l=a;return this.#i[l]!==t[l]&&s.has(l)})};this.#x({listeners:n()})}#w(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(t){Pm.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function K$(t,e){return Nr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tT(t,e){return K$(t,e)||t.state.data!==void 0&&f0(t,e,e.refetchOnMount)}function f0(t,e,n){if(Nr(e.enabled,t)!==!1&&dd(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&D_(t,e)}return!1}function nT(t,e,n,i){return(t!==e||Nr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&D_(t,n)}function D_(t,e){return Nr(e.enabled,t)!==!1&&t.isStaleByTime(dd(e.staleTime,t))}function X$(t,e){return!Vg(t.getCurrentResult(),e)}function Z$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var J$=class extends Im{#t;#e=void 0;#n;#i;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),Vg(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&KC(n.mutationKey)!==KC(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??Z$();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Pm.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#e.variables,i=this.#e.context,r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,i,r),this.#i.onSettled?.(e.data,null,n,i,r)):e?.type==="error"&&(this.#i.onError?.(e.error,n,i,r),this.#i.onSettled?.(void 0,e.error,n,i,r))}this.listeners.forEach(n=>{n(this.#e)})})}},eV=A.createContext(void 0),br=t=>{const e=A.useContext(eV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rk=A.createContext(!1),tV=()=>A.useContext(rk);rk.Provider;function nV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var iV=A.createContext(nV()),rV=()=>A.useContext(iV),sV=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},aV=t=>{A.useEffect(()=>{t.clearReset()},[t])},oV=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||ik(n,[t.error,i])),lV=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>n(i(...r)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},cV=(t,e)=>t.isLoading&&t.isFetching&&!e,uV=(t,e)=>t?.suspense&&e.isPending,iT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function dV(t,e,n){const i=tV(),r=rV(),s=br(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",lV(a),sV(a,r),aV(r);const l=!s.getQueryCache().get(a.queryHash),[u]=A.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!i&&t.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(m=>{const p=h?u.subscribe(Pm.batchCalls(m)):$g;return u.updateResult(),p},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),A.useEffect(()=>{u.setOptions(a)},[a,u]),uV(a,d))throw iT(a,u,r);if(oV({result:d,errorResetBoundary:r,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Md&&cV(d,i)&&(l?iT(a,u,r):s.getQueryCache().get(a.queryHash)?.promise)?.catch($g).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function Yu(t,e){return dV(t,Q$)}function Ro(t,e){const n=br(),[i]=A.useState(()=>new J$(n,t));A.useEffect(()=>{i.setOptions(t)},[i,t]);const r=A.useSyncExternalStore(A.useCallback(a=>i.subscribe(Pm.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=A.useCallback((a,l)=>{i.mutate(a,l).catch($g)},[i]);if(r.error&&ik(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}var h0=function(t,e){return h0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},h0(t,e)};function sk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");h0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qg=function(){return qg=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qg.apply(this,arguments)};function Bc(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function ak(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(s=(r<3?a(s):r>3?a(e,n,s):a(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function ok(t,e){return function(n,i){e(n,i,t)}}function lk(t,e,n,i,r,s){function a(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=i.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!e&&t?i.static?t:t.prototype:null,h=e||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),m,p=!1,y=n.length-1;y>=0;y--){var b={};for(var _ in i)b[_]=_==="access"?{}:i[_];for(var _ in i.access)b.access[_]=i.access[_];b.addInitializer=function(x){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(x||null))};var w=(0,n[y])(l==="accessor"?{get:h.get,set:h.set}:h[u],b);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(m=a(w.get))&&(h.get=m),(m=a(w.set))&&(h.set=m),(m=a(w.init))&&r.unshift(m)}else(m=a(w))&&(l==="field"?r.unshift(m):h[u]=m)}d&&Object.defineProperty(d,i.name,h),p=!0}function ck(t,e,n){for(var i=arguments.length>2,r=0;r<e.length;r++)n=i?e[r].call(t,n):e[r].call(t);return i?n:void 0}function uk(t){return typeof t=="symbol"?t:"".concat(t)}function dk(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function fk(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Oe(t,e,n,i){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(h){try{d(i.next(h))}catch(m){a(m)}}function u(h){try{d(i.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):r(h.value).then(l,u)}d((i=i.apply(t,e||[])).next())})}function hk(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(h){return u([d,h])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,r&&(s=d[0]&2?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,r=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],r=0}finally{i=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var jm=Object.create?(function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}):(function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]});function gk(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&jm(e,t,n)}function Wg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function k_(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,s=[],a;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function mk(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(k_(arguments[e]));return t}function pk(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,r++)i[r]=s[a];return i}function yk(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}function Tc(t){return this instanceof Tc?(this.v=t,this):new Tc(t)}function vk(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(y){return function(b){return Promise.resolve(b).then(y,m)}}function l(y,b){i[y]&&(r[y]=function(_){return new Promise(function(w,x){s.push([y,_,w,x])>1||u(y,_)})},b&&(r[y]=b(r[y])))}function u(y,b){try{d(i[y](b))}catch(_){p(s[0][3],_)}}function d(y){y.value instanceof Tc?Promise.resolve(y.value.v).then(h,m):p(s[0][2],y)}function h(y){u("next",y)}function m(y){u("throw",y)}function p(y,b){y(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function bk(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,s){e[r]=t[r]?function(a){return(n=!n)?{value:Tc(t[r](a)),done:!1}:s?s(a):a}:s}}function _k(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Wg=="function"?Wg(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(a){return new Promise(function(l,u){a=t[s](a),r(l,u,a.done,a.value)})}}function r(s,a,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},a)}}function Sk(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var fV=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},g0=function(t){return g0=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},g0(t)};function wk(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=g0(t),i=0;i<n.length;i++)n[i]!=="default"&&jm(e,t,n[i]);return fV(e,t),e}function xk(t){return t&&t.__esModule?t:{default:t}}function Ek(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function Rk(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n}function Ck(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Tk(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var hV=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function Ak(t){function e(s){t.error=t.hasError?new hV(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,i=0;function r(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(r);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(r,function(a){return e(a),r()})}else i|=1}catch(a){e(a)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function Ok(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,r,s,a){return i?e?".jsx":".js":r&&(!s||!a)?n:r+s+"."+a.toLowerCase()+"js"}):t}const gV={__extends:sk,__assign:qg,__rest:Bc,__decorate:ak,__param:ok,__esDecorate:lk,__runInitializers:ck,__propKey:uk,__setFunctionName:dk,__metadata:fk,__awaiter:Oe,__generator:hk,__createBinding:jm,__exportStar:gk,__values:Wg,__read:k_,__spread:mk,__spreadArrays:pk,__spreadArray:yk,__await:Tc,__asyncGenerator:vk,__asyncDelegator:bk,__asyncValues:_k,__makeTemplateObject:Sk,__importStar:wk,__importDefault:xk,__classPrivateFieldGet:Ek,__classPrivateFieldSet:Rk,__classPrivateFieldIn:Ck,__addDisposableResource:Tk,__disposeResources:Ak,__rewriteRelativeImportExtension:Ok},mV=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Tk,get __assign(){return qg},__asyncDelegator:bk,__asyncGenerator:vk,__asyncValues:_k,__await:Tc,__awaiter:Oe,__classPrivateFieldGet:Ek,__classPrivateFieldIn:Ck,__classPrivateFieldSet:Rk,__createBinding:jm,__decorate:ak,__disposeResources:Ak,__esDecorate:lk,__exportStar:gk,__extends:sk,__generator:hk,__importDefault:xk,__importStar:wk,__makeTemplateObject:Sk,__metadata:fk,__param:ok,__propKey:uk,__read:k_,__rest:Bc,__rewriteRelativeImportExtension:Ok,__runInitializers:ck,__setFunctionName:dk,__spread:mk,__spreadArray:yk,__spreadArrays:pk,__values:Wg,default:gV},Symbol.toStringTag,{value:"Module"})),pV="modulepreload",yV=function(t){return"/scheduler_demo/"+t},rT={},Hr=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=u(n.map(d=>{if(d=yV(d),d in rT)return;rT[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":pV,h||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),h)return new Promise((y,b)=>{p.addEventListener("load",y),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},vV=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hr(async()=>{const{default:i}=await Promise.resolve().then(()=>al);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class M_ extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class sT extends M_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class aT extends M_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class oT extends M_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var m0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(m0||(m0={}));class bV{constructor(e,{headers:n={},customFetch:i,region:r=m0.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=vV(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Oe(this,arguments,void 0,function*(n,i={}){var r;try{const{headers:s,method:a,body:l,signal:u}=i;let d={},{region:h}=i;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let p;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(d["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)):p=l;const y=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:p,signal:u}).catch(x=>{throw x.name==="AbortError"?x:new sT(x)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new aT(y);if(!y.ok)throw new oT(y);let _=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield y.json():_==="application/octet-stream"||_==="application/pdf"?w=yield y.blob():_==="text/event-stream"?w=y:_==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null,response:y}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new sT(s)}:{data:null,error:s,response:s instanceof oT||s instanceof aT?s.context:void 0}}})}}var ii={};const $c=QD(mV);var Fh={},Uh={},zh={},Hh={},Bh={},_V=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ac=_V();const SV=Ac.fetch,Dk=Ac.fetch.bind(Ac),kk=Ac.Headers,wV=Ac.Request,xV=Ac.Response,al=Object.freeze(Object.defineProperty({__proto__:null,Headers:kk,Request:wV,Response:xV,default:Dk,fetch:SV},Symbol.toStringTag,{value:"Module"})),EV=QD(al);var $h={},lT;function Mk(){if(lT)return $h;lT=1,Object.defineProperty($h,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return $h.default=t,$h}var cT;function Nk(){if(cT)return Bh;cT=1,Object.defineProperty(Bh,"__esModule",{value:!0});const t=$c,e=t.__importDefault(EV),n=t.__importDefault(Mk());class i{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,m,p,y;let b=null,_=null,w=null,x=d.status,E=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?_=N:_=JSON.parse(N))}const D=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),O=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");D&&O&&O.length>1&&(w=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,w=null,x=406,E="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const D=await d.text();try{b=JSON.parse(D),Array.isArray(b)&&d.status===404&&(_=[],b=null,x=200,E="OK")}catch{d.status===404&&D===""?(x=204,E="No Content"):b={message:D}}if(b&&this.isMaybeSingle&&(!((y=b?.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,x=200,E="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:_,count:w,status:x,statusText:E}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,m,p;return{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:`${(m=d?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(p=d?.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return Bh.default=i,Bh}var uT;function Ik(){if(uT)return Hh;uT=1,Object.defineProperty(Hh,"__esModule",{value:!0});const e=$c.__importDefault(Nk());class n extends e.default{select(r){let s=!1;const a=(r??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${r}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,s,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(d,`${s-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const m=[r?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return Hh.default=n,Hh}var dT;function N_(){if(dT)return zh;dT=1,Object.defineProperty(zh,"__esModule",{value:!0});const e=$c.__importDefault(Ik());class n extends e.default{eq(r,s){return this.url.searchParams.append(r,`eq.${s}`),this}neq(r,s){return this.url.searchParams.append(r,`neq.${s}`),this}gt(r,s){return this.url.searchParams.append(r,`gt.${s}`),this}gte(r,s){return this.url.searchParams.append(r,`gte.${s}`),this}lt(r,s){return this.url.searchParams.append(r,`lt.${s}`),this}lte(r,s){return this.url.searchParams.append(r,`lte.${s}`),this}like(r,s){return this.url.searchParams.append(r,`like.${s}`),this}likeAllOf(r,s){return this.url.searchParams.append(r,`like(all).{${s.join(",")}}`),this}likeAnyOf(r,s){return this.url.searchParams.append(r,`like(any).{${s.join(",")}}`),this}ilike(r,s){return this.url.searchParams.append(r,`ilike.${s}`),this}ilikeAllOf(r,s){return this.url.searchParams.append(r,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(r,s){return this.url.searchParams.append(r,`ilike(any).{${s.join(",")}}`),this}is(r,s){return this.url.searchParams.append(r,`is.${s}`),this}in(r,s){const a=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${a})`),this}contains(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cs.{${s.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(s)}`),this}containedBy(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cd.{${s.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(s)}`),this}rangeGt(r,s){return this.url.searchParams.append(r,`sr.${s}`),this}rangeGte(r,s){return this.url.searchParams.append(r,`nxl.${s}`),this}rangeLt(r,s){return this.url.searchParams.append(r,`sl.${s}`),this}rangeLte(r,s){return this.url.searchParams.append(r,`nxr.${s}`),this}rangeAdjacent(r,s){return this.url.searchParams.append(r,`adj.${s}`),this}overlaps(r,s){return typeof s=="string"?this.url.searchParams.append(r,`ov.${s}`):this.url.searchParams.append(r,`ov.{${s.join(",")}}`),this}textSearch(r,s,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(r,`${u}fts${d}.${s}`),this}match(r){return Object.entries(r).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(r,s,a){return this.url.searchParams.append(r,`not.${s}.${a}`),this}or(r,{foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,s,a){return this.url.searchParams.append(r,`${s}.${a}`),this}}return zh.default=n,zh}var fT;function Pk(){if(fT)return Uh;fT=1,Object.defineProperty(Uh,"__esModule",{value:!0});const e=$c.__importDefault(N_());class n{constructor(r,{headers:s={},schema:a,fetch:l}){this.url=r,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(r,s){const{head:a=!1,count:l}=s??{},u=a?"HEAD":"GET";let d=!1;const h=(r??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:s,defaultToNull:a=!0}={}){var l;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:r}={}){var s;const a="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Uh.default=n,Uh}var hT;function RV(){if(hT)return Fh;hT=1,Object.defineProperty(Fh,"__esModule",{value:!0});const t=$c,e=t.__importDefault(Pk()),n=t.__importDefault(N_());class i{constructor(s,{headers:a={},schema:l,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:u=!1,count:d}={}){var h;let m;const p=new URL(`${this.url}/rpc/${s}`);let y;l||u?(m=l?"HEAD":"GET",Object.entries(a).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{p.searchParams.append(_,w)})):(m="POST",y=a);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new n.default({method:m,url:p,headers:b,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Fh.default=i,Fh}var gT;function CV(){if(gT)return ii;gT=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.PostgrestError=ii.PostgrestBuilder=ii.PostgrestTransformBuilder=ii.PostgrestFilterBuilder=ii.PostgrestQueryBuilder=ii.PostgrestClient=void 0;const t=$c,e=t.__importDefault(RV());ii.PostgrestClient=e.default;const n=t.__importDefault(Pk());ii.PostgrestQueryBuilder=n.default;const i=t.__importDefault(N_());ii.PostgrestFilterBuilder=i.default;const r=t.__importDefault(Ik());ii.PostgrestTransformBuilder=r.default;const s=t.__importDefault(Nk());ii.PostgrestBuilder=s.default;const a=t.__importDefault(Mk());return ii.PostgrestError=a.default,ii.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:s.default,PostgrestError:a.default},ii}var TV=CV();const AV=jc(TV),{PostgrestClient:OV,PostgrestQueryBuilder:ere,PostgrestFilterBuilder:tre,PostgrestTransformBuilder:nre,PostgrestBuilder:ire,PostgrestError:rre}=AV;class DV{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,r=parseInt(i.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kV="2.76.1",MV=`realtime-js/${kV}`,NV="1.0.0",p0=1e4,IV=1e3,PV=100;var fd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fd||(fd={}));var Nn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Nn||(Nn={}));var Ir;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ir||(Ir={}));var y0;(function(t){t.websocket="websocket"})(y0||(y0={}));var Uo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Uo||(Uo={}));class jV{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=i.decode(e.slice(a,a+r));a=a+r;const u=i.decode(e.slice(a,a+s));a=a+s;const d=JSON.parse(i.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class jk{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ht||(Ht={}));const mT=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=LV(a,t,e,r),s),{}):{}},LV=(t,e,n,i)=>{const r=e.find(l=>l.name===t),s=r?.type,a=n[t];return s&&!i.includes(s)?Lk(s,a):v0(a)},Lk=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return HV(e,n)}switch(t){case Ht.bool:return FV(e);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return UV(e);case Ht.json:case Ht.jsonb:return zV(e);case Ht.timestamp:return BV(e);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return v0(e);default:return v0(e)}},v0=t=>t,FV=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},UV=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},zV=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},HV=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>Lk(e,l))}return t},BV=t=>typeof t=="string"?t.replace(" ","T"):t,Fk=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Qv{constructor(e,n,i={},r=p0){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pT||(pT={}));class hd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hd.syncState(this.state,r,s,a),this.pendingDiffs.forEach(u=>{this.state=hd.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},r=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=hd.syncDiff(this.state,r,s,a),l())}),this.onJoin((r,s,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:a})}),this.onLeave((r,s,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const s=this.cloneDeep(e),a=this.transformState(n),l={},u={};return this.map(s,(d,h)=>{a[d]||(u[d]=h)}),this.map(a,(d,h)=>{const m=s[d];if(m){const p=h.map(w=>w.presence_ref),y=m.map(w=>w.presence_ref),b=h.filter(w=>y.indexOf(w.presence_ref)<0),_=m.filter(w=>p.indexOf(w.presence_ref)<0);b.length>0&&(l[d]=b),_.length>0&&(u[d]=_)}else l[d]=h}),this.syncDiff(s,{joins:l,leaves:u},i,r)}static syncDiff(e,n,i,r){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(l,u)=>{var d;const h=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(u),h.length>0){const m=e[l].map(y=>y.presence_ref),p=h.filter(y=>m.indexOf(y.presence_ref)<0);e[l].unshift(...p)}i(l,h,u)}),this.map(a,(l,u)=>{let d=e[l];if(!d)return;const h=u.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),e[l]=d,r(l,d,u),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yT||(yT={}));var gd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gd||(gd={}));var Ls;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ls||(Ls={}));class I_{constructor(e,n={config:{}},i){var r,s;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Nn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qv(this,Ir.join,this.params,this.timeout),this.rejoinTimer=new jk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Nn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ir.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new hd(this),this.broadcastEndpointURL=Fk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Nn.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,d=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&r!==void 0?r:[],h=!!this.bindings[gd.PRESENCE]&&this.bindings[gd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(Ls.CHANNEL_ERROR,y)),this._onClose(()=>e?.(Ls.CLOSED)),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var b;if(this.socket.setAuth(),y===void 0){e?.(Ls.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,w=(b=_?.length)!==null&&b!==void 0?b:0,x=[];for(let E=0;E<w;E++){const C=_[E],{filter:{event:D,schema:O,table:N,filter:I}}=C,k=y&&y[E];if(k&&k.event===D&&k.schema===O&&k.table===N&&k.filter===I)x.push(Object.assign(Object.assign({},C),{id:k.id}));else{this.unsubscribe(),this.state=Nn.errored,e?.(Ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Ls.SUBSCRIBED);return}}).receive("error",y=>{this.state=Nn.errored,e?.(Ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Nn.joined&&e===gd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var r;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Nn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ir.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new Qv(this,Ir.leave,{},e),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nn.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const r=new AbortController,s=setTimeout(()=>r.abort(),i),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(s),a}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Qv(this,e,n,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>PV){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,s;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=Ir;if(i&&[l,u,d,h].indexOf(a)>=0&&i!==this._joinRef())return;let p=this._onMessage(a,n,i);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(y=>{var b,_,w;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(_=y.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(y=>y.callback(p,i)):(s=this.bindings[a])===null||s===void 0||s.filter(y=>{var b,_,w,x,E,C;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const D=y.id,O=(b=y.filter)===null||b===void 0?void 0:b.event;return D&&((_=n.ids)===null||_===void 0?void 0:_.includes(D))&&(O==="*"||O?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const D=(E=(x=y?.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return D==="*"||D===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:_,table:w,commit_timestamp:x,type:E,errors:C}=b;p=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:x,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(b))}y.callback(p,i)})}_isClosed(){return this.state===Nn.closed}_isJoined(){return this.state===Nn.joined}_isJoining(){return this.state===Nn.joining}_isLeaving(){return this.state===Nn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const r=e.toLocaleLowerCase(),s={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&I_.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ir.close,{},e)}_onError(e){this._on(Ir.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=mT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=mT(e.columns,e.old_record)),n}}const Kv=()=>{},Vh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$V=[1e3,2e3,5e3,1e4],VV=1e4,qV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WV{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=p0,this.transport=null,this.heartbeatIntervalMs=Vh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kv,this.ref=0,this.reconnectTimer=null,this.logger=Kv,this.conn=null,this.sendBuffer=[],this.serializer=new jV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...a)=>Hr(async()=>{const{default:l}=await Promise.resolve().then(()=>al);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${y0.websocket}`,this.httpEndpoint=Fk(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=DV.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:NV}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case fd.connecting:return Uo.Connecting;case fd.open:return Uo.Open;case fd.closing:return Uo.Closing;default:return Uo.Closed}}isConnected(){return this.connectionState()===Uo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(s=>s.topic===i);if(r)return r;{const s=new I_(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:i,payload:r,ref:s}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${i} (${s})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(IV,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:s,ref:a}=n,l=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${i} ${r} ${l}`.trim(),s),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(r,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ir.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([qV],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:MV};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(Ir.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new jk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,r,s,a,l,u,d,h;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:p0,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:Vh.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:Kv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(m=>$V[m-1]||VV),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((m,p)=>p(JSON.stringify(m))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class P_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class GV extends P_{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class b0 extends P_{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const j_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hr(async()=>{const{default:i}=await Promise.resolve().then(()=>al);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},YV=()=>Oe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hr(()=>Promise.resolve().then(()=>al),void 0)).Response:Response}),_0=t=>{if(Array.isArray(t))return t.map(n=>_0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[r]=_0(i)}),e},QV=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),KV=(t,e,n)=>Oe(void 0,void 0,void 0,function*(){const i=yield YV();t instanceof i&&!n?.noResolveJson?t.json().then(r=>{const s=t.status||500,a=r?.statusCode||s+"";e(new GV(Xv(r),s,a))}).catch(r=>{e(new b0(Xv(r),r))}):e(new b0(Xv(t),t))}),XV=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!i?r:(QV(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i)):r.body=i,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function rf(t,e,n,i,r,s){return Oe(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,XV(e,i,r,s)).then(u=>{if(!u.ok)throw u;return i?.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>KV(u,l,i))})})}function Nd(t,e,n,i){return Oe(this,void 0,void 0,function*(){return rf(t,"GET",e,n,i)})}function Mr(t,e,n,i,r){return Oe(this,void 0,void 0,function*(){return rf(t,"POST",e,i,r,n)})}function S0(t,e,n,i,r){return Oe(this,void 0,void 0,function*(){return rf(t,"PUT",e,i,r,n)})}function ZV(t,e,n,i){return Oe(this,void 0,void 0,function*(){return rf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function L_(t,e,n,i,r){return Oe(this,void 0,void 0,function*(){return rf(t,"DELETE",e,i,r,n)})}class JV{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rn(e))return{data:null,error:e};throw e}})}}var Uk;class e3{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Uk]="BlobDownloadBuilder",this.promise=null}asStream(){return new JV(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rn(e))return{data:null,error:e};throw e}})}}Uk=Symbol.toStringTag;const t3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class n3{constructor(e,n={},i,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=j_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,r){return Oe(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},vT),r);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=i,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),r?.headers&&(l=Object.assign(Object.assign({},l),r.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),m=yield(e=="PUT"?S0:Mr)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}})}upload(e,n,i){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return Oe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:vT.upsert},r),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl)):(u=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const m=yield S0(this.fetch,l.toString(),u,{headers:h});return{data:{path:s,fullPath:m.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(rn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Oe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const s=yield Mr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new P_("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rn(i))return{data:null,error:i};throw i}})}update(e,n,i){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Oe(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}copy(e,n,i){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Mr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return Oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield Mr(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const a=i?.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return Oe(this,void 0,void 0,function*(){try{const r=yield Mr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),a=s?`?${s}`:"",l=this._getFinalPath(e),u=()=>Nd(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new e3(u,this.shouldThrowOnError)}info(e){return Oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Nd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_0(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rn(i))return{data:null,error:i};throw i}})}exists(e){return Oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield ZV(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rn(i)&&i instanceof b0){const r=i.originalError;if([400,404].includes(r?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&r.push(s);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&r.push(u);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${d}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}list(e,n,i){return Oe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},t3),n),{prefix:e||""});return{data:yield Mr(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}listV2(e,n){return Oe(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Mr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const zk="2.76.1",Hk={"X-Client-Info":`storage-js/${zk}`};class i3{constructor(e,n={},i,r){this.shouldThrowOnError=!1;const s=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hk),n),this.fetch=j_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Oe(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rn(e))return{data:null,error:e};throw e}})}getBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}createBucket(e){return Oe(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield S0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}}class r3{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hk),n),this.fetch=j_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}listBuckets(e){return Oe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),r=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,s=yield Nd(this.fetch,r,{headers:this.headers});return{data:Array.isArray(s)?s.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}}const F_={"X-Client-Info":`storage-js/${zk}`,"Content-Type":"application/json"};class Bk extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yi(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Zv extends Bk{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class s3 extends Bk{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var bT;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(bT||(bT={}));const U_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hr(async()=>{const{default:i}=await Promise.resolve().then(()=>al);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},a3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_T=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),o3=(t,e,n)=>Oe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const l=a?.statusCode||a?.code||r+"";e(new Zv(_T(a),r,l))}).catch(()=>{const a=r+"",l=s.statusText||`HTTP ${r} error`;e(new Zv(l,r,a))});else{const a=r+"",l=s.statusText||`HTTP ${r} error`;e(new Zv(l,r,a))}}else e(new s3(_T(t),t))}),l3=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return i?(a3(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i)):r.body=i,Object.assign(Object.assign({},r),n)):r};function c3(t,e,n,i,r,s){return Oe(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,l3(e,i,r,s)).then(u=>{if(!u.ok)throw u;if(i?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>o3(u,l,i))})})}function Qi(t,e,n,i,r){return Oe(this,void 0,void 0,function*(){return c3(t,"POST",e,i,r,n)})}class u3{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),n),this.fetch=U_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Qi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Oe(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yi(i))return{data:null,error:i};throw i}})}listIndexes(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Qi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yi(i))return{data:null,error:i};throw i}})}}class d3{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),n),this.fetch=U_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Oe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Qi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}getVectors(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}listVectors(e){return Oe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Qi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}queryVectors(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Oe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Qi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}}class f3{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),n),this.fetch=U_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Qi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}getBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}listBuckets(){return Oe(this,arguments,void 0,function*(e={}){try{return{data:yield Qi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Oe(this,void 0,void 0,function*(){try{return{data:(yield Qi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yi(n))return{data:null,error:n};throw n}})}}class h3 extends f3{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new g3(this.url,this.headers,e,this.fetch)}}class g3 extends u3{constructor(e,n,i,r){super(e,n,r),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Oe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Oe(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Oe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Oe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new m3(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class m3 extends d3{constructor(e,n,i,r,s){super(e,n,s),this.vectorBucketName=i,this.indexName=r}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Oe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Oe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Oe(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Oe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Oe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class p3 extends i3{constructor(e,n={},i,r){super(e,n,i,r)}from(e){return new n3(this.url,this.headers,e,this.fetch)}get vectors(){return new h3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new r3(this.url+"/iceberg",this.headers,this.fetch)}}const y3="2.76.1";let id="";typeof Deno<"u"?id="deno":typeof document<"u"?id="web":typeof navigator<"u"&&navigator.product==="ReactNative"?id="react-native":id="node";const v3={"X-Client-Info":`supabase-js-${id}/${y3}`},b3={headers:v3},_3={schema:"public"},S3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w3={},x3=t=>{let e;return t?e=t:typeof fetch>"u"?e=Dk:e=fetch,(...n)=>e(...n)},E3=()=>typeof Headers>"u"?kk:Headers,R3=(t,e,n)=>{const i=x3(n),r=E3();return async(s,a)=>{var l;const u=(l=await e())!==null&&l!==void 0?l:t;let d=new r(a?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),i(s,Object.assign(Object.assign({},a),{headers:d}))}};function C3(t){return t.endsWith("/")?t:t+"/"}function T3(t,e){var n,i;const{db:r,auth:s,realtime:a,global:l}=t,{db:u,auth:d,realtime:h,global:m}=e,p={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(i=l?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function A3(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $k="2.76.1",fc=30*1e3,w0=3,Jv=w0*fc,O3="http://localhost:9999",D3="supabase.auth.token",k3={"X-Client-Info":`gotrue-js/${$k}`},x0="X-Supabase-Api-Version",Vk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,N3=600*1e3;class Id extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class I3 extends Id{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function P3(t){return Ne(t)&&t.name==="AuthApiError"}class zo extends Id{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ja extends Id{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class ka extends Ja{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j3(t){return Ne(t)&&t.name==="AuthSessionMissingError"}class nc extends Ja{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qh extends Ja{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wh extends Ja{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L3(t){return Ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class ST extends Ja{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class E0 extends Ja{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function eb(t){return Ne(t)&&t.name==="AuthRetryableFetchError"}class wT extends Ja{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class R0 extends Ja{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xT=` 	
\r=`.split(""),F3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xT.length;e+=1)t[xT[e].charCodeAt(0)]=-2;for(let e=0;e<Gg.length;e+=1)t[Gg[e].charCodeAt(0)]=e;return t})();function ET(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Gg[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Gg[i]),e.queuedBits-=6}}function qk(t,e,n){const i=F3[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function RT(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},s=a=>{H3(a,i,n)};for(let a=0;a<t.length;a+=1)qk(t.charCodeAt(a),r,s);return e.join("")}function U3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function z3(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}U3(i,e)}}function H3(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function bc(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)qk(t.charCodeAt(r),n,i);return new Uint8Array(e)}function B3(t){const e=[];return z3(t,n=>e.push(n)),new Uint8Array(e)}function qo(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};return t.forEach(r=>ET(r,n,i)),ET(null,n,i),e.join("")}function $3(t){return Math.round(Date.now()/1e3)+t}function V3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qi=()=>typeof window<"u"&&typeof document<"u",Co={tested:!1,writable:!1},Wk=()=>{if(!qi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Co.tested)return Co.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Co.tested=!0,Co.writable=!0}catch{Co.tested=!0,Co.writable=!1}return Co.writable};function q3(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,s)=>{e[s]=r})}catch{}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const Gk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hr(async()=>{const{default:i}=await Promise.resolve().then(()=>al);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},W3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},To=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oa=async(t,e)=>{await t.removeItem(e)};class Lm{constructor(){this.promise=new Lm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Lm.promiseConstructor=Promise;function tb(t){const e=t.split(".");if(e.length!==3)throw new R0("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!M3.test(e[i]))throw new R0("JWT not in base64url format");return{header:JSON.parse(RT(e[0])),payload:JSON.parse(RT(e[1])),signature:bc(e[2]),raw:{header:e[0],payload:e[1]}}}async function G3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Y3(t,e){return new Promise((i,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){i(a);return}}catch(a){if(!e(s,a)){r(a);return}}})()})}function Q3(t){return("0"+t.toString(16)).substr(-2)}function K3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let s=0;s<56;s++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,Q3).join("")}async function X3(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}async function Z3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await X3(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ic(t,e,n=!1){const i=K3();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await hc(t,`${e}-code-verifier`,r);const s=await Z3(i);return[s,i===s?"plain":"s256"]}const J3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function e5(t){const e=t.headers.get(x0);if(!e||!e.match(J3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function t5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function n5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rc(t){if(!i5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nb(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function CT(t){return JSON.parse(JSON.stringify(t))}const No=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r5=[502,503,504];async function TT(t){var e;if(!W3(t))throw new E0(No(t),0);if(r5.includes(t.status))throw new E0(No(t),t.status);let n;try{n=await t.json()}catch(s){throw new zo(No(s),s)}let i;const r=e5(t);if(r&&r.getTime()>=Vk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new wT(No(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ka}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new wT(No(n),t.status,n.weak_password.reasons);throw new I3(No(n),t.status||500,i)}const s5=(t,e,n,i)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function Ve(t,e,n,i){var r;const s=Object.assign({},i?.headers);s[x0]||(s[x0]=Vk["2024-01-01"].name),i?.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const a=(r=i?.query)!==null&&r!==void 0?r:{};i?.redirectTo&&(a.redirect_to=i.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await a5(t,e,n+l,{headers:s,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(u):{data:Object.assign({},u),error:null}}async function a5(t,e,n,i,r,s){const a=s5(e,i,r,s);let l;try{l=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new E0(No(u),0)}if(l.ok||await TT(l),i?.noResolveJson)return l;try{return await l.json()}catch(u){await TT(u)}}function Dr(t){var e;let n=null;c5(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$3(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function AT(t){const e=Dr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ja(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function o5(t){return{data:t,error:null}}function l5(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s}=t,a=Bc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function OT(t){return t}function c5(t){return t.access_token&&t.refresh_token&&t.expires_in}const ib=["global","local","others"];class u5{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Gk(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ib[0]){if(ib.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ib.join(", ")}`);try{return await Ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ja})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Bc(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i?.newEmail,delete r.newEmail),await Ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:l5,redirectTo:n?.redirectTo})}catch(n){if(Ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ja})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:OT});if(h.error)throw h.error;const m=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=_}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Ne(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){rc(e);try{return await Ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ja})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){rc(e);try{return await Ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ja})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){rc(e);try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ja})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){rc(e.userId);try{const{data:n,error:i}=await Ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteFactor(e){rc(e.userId),rc(e.id);try{return{data:await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,r,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:OT});if(h.error)throw h.error;const m=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=_}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Ne(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}}function DT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const sc={debug:!!(globalThis&&Wk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class d5 extends Yk{}async function f5(t,e,n){sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),sc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new d5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function h5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qk(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function g5(t){return parseInt(t,16)}function m5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function p5(t){var e;const{chainId:n,domain:i,expirationTime:r,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:u,resources:d,scheme:h,uri:m,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=Qk(t.address),b=h?`${h}://${i}`:i,_=t.statement?`${t.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${y}

${_}`;let x=`URI: ${m}
Version: ${p}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(r&&(x+=`
Expiration Time: ${r.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),u&&(x+=`
Request ID: ${u}`),d){let E=`
Resources:`;for(const C of d){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);E+=`
- ${C}`}x+=E}return`${w}
${x}`}class Tn extends Error{constructor({message:e,code:n,cause:i,name:r}){var s;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(s=r??(i instanceof Error?i.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Yg extends Tn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function y5({error:t,options:e}){var n,i,r;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Tn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Tn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Tn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Tn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Tn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Tn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Tn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Kk(a)){if(s.rp.id!==a)return new Tn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Tn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Tn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Tn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Tn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function v5({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Tn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Kk(i)){if(n.rpId!==i)return new Tn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Tn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Tn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Tn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class b5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const _5=new b5;function S5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,r=Bc(t,["challenge","user","excludeCredentials"]),s=bc(e).buffer,a=Object.assign(Object.assign({},n),{id:bc(n.id).buffer}),l=Object.assign(Object.assign({},r),{challenge:s,user:a});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let u=0;u<i.length;u++){const d=i[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:bc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function w5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Bc(t,["challenge","allowCredentials"]),r=bc(e).buffer,s=Object.assign(Object.assign({},i),{challenge:r});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:bc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function x5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:qo(new Uint8Array(t.response.attestationObject)),clientDataJSON:qo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function E5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:qo(new Uint8Array(r.authenticatorData)),clientDataJSON:qo(new Uint8Array(r.clientDataJSON)),signature:qo(new Uint8Array(r.signature)),userHandle:r.userHandle?qo(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Kk(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function kT(){var t,e;return!!(qi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function R5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yg("Browser returned unexpected credential type",e)}:{data:null,error:new Yg("Empty credential response",e)}}catch(e){return{data:null,error:y5({error:e,options:t})}}}async function C5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yg("Browser returned unexpected credential type",e)}:{data:null,error:new Yg("Empty credential response",e)}}catch(e){return{data:null,error:v5({error:e,options:t})}}}const T5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},A5={userVerification:"preferred",hints:["security-key"]};function Qg(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),i={};for(const r of t)if(r)for(const s in r){const a=r[s];if(a!==void 0)if(Array.isArray(a))i[s]=a;else if(n(a))i[s]=a;else if(e(a)){const l=i[s];e(l)?i[s]=Qg(l,a):i[s]=Qg(a)}else i[s]=a}return i}function O5(t,e){return Qg(T5,t,e||{})}function D5(t,e){return Qg(A5,t,e||{})}class k5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:r},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const u=r??_5.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=O5(a.webauthn.credential_options.publicKey,s?.create),{data:h,error:m}=await R5({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const d=D5(a.webauthn.credential_options.publicKey,s?.request),{data:h,error:m}=await C5(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(a){return Ne(a)?{data:null,error:a}:{data:null,error:new zo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}},s){if(!n)return{data:null,error:new Id("rpId is required for WebAuthn authentication")};try{if(!kT())return{data:null,error:new zo("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:r},{request:s});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:i,credential_response:u.credential_response}})}catch(a){return Ne(a)?{data:null,error:a}:{data:null,error:new zo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r},s){if(!n)return{data:null,error:new Id("rpId is required for WebAuthn registration")};try{if(!kT())return{data:null,error:new zo("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:r},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:i,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return Ne(a)?{data:null,error:a}:{data:null,error:new zo("Unexpected error in register",a)}}}}h5();const M5={url:O3,storageKey:D3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:k3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function MT(t,e,n){return await n()}const ac={};class Pd{get jwks(){var e,n;return(n=(e=ac[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ac[this.storageKey]=Object.assign(Object.assign({},ac[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ac[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ac[this.storageKey]=Object.assign(Object.assign({},ac[this.storageKey]),{cachedAt:e})}constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pd.nextInstanceID,Pd.nextInstanceID+=1,this.instanceID>0&&qi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},M5),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new u5({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Gk(r.fetch),this.lock=r.lock||MT,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:qi()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=f5:this.lock=MT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new k5(this)},this.persistSession?(r.storage?this.storage=r.storage:Wk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=DT(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=DT(this.memoryStorage)),qi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$k}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=q3(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),qi()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),L3(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ne(n)?{error:n}:{error:new zo("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const s=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Dr}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,r;try{let s;if("email"in e){const{email:h,password:m,options:p}=e;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await ic(this.storage,this.storageKey)),s=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:h,password:m,data:(n=p?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:b},xform:Dr})}else if("phone"in e){const{phone:h,password:m,options:p}=e;s=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(i=p?.data)!==null&&i!==void 0?i:{},channel:(r=p?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Dr})}else throw new qh("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:l}=e;n=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:AT})}else if("phone"in e){const{phone:s,password:a,options:l}=e;n=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:AT})}else throw new qh("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new nc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,r,s,a,l,u,d,h,m,p;let y,b;if("message"in e)y=e.message,b=e.signature;else{const{chain:_,wallet:w,statement:x,options:E}=e;let C;if(qi())if(typeof w=="object")C=w;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")C=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=w}const D=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),O=await C.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Qk(O[0]);let I=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!I){const j=await C.request({method:"eth_chainId"});I=g5(j)}const k={domain:D.host,address:N,statement:x,uri:D.href,version:"1",chainId:I,nonce:(r=E?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(a=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=p5(k),b=await C.request({method:"personal_sign",params:[m5(y),N]})}try{const{data:_,error:w}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:b},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Dr});if(w)throw w;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new nc}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:w})}catch(_){if(Ne(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var n,i,r,s,a,l,u,d,h,m,p,y;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:w,wallet:x,statement:E,options:C}=e;let D;if(qi())if(typeof x=="object")D=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))D=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=x}const O=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const N=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),E?{statement:E}:null));let I;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")I=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)I=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)b=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),_=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(r=(i=C?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((s=C?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((a=C?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(h=C?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const N=await D.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=N}}try{const{data:w,error:x}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:qo(_)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Dr});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new nc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(Ne(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await To(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:s,error:a}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Dr});if(await Oa(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new nc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:a})}catch(s){if(Ne(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:s,nonce:a}=e,l=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Dr}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new nc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,s,a;try{if("email"in e){const{email:l,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ic(this.storage,this.storageKey));const{error:m}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:l,options:u}=e,{data:d,error:h}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new qh("You must provide either an email or phone number.")}catch(l){if(Ne(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,i;try{let r,s;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:a,error:l}=await Ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Dr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(r){if(Ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ic(this.storage,this.storageKey)),await Ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:o5})}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new ka;const{error:r}=await Ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:s}=e,{error:a}=await Ve(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:i,type:r,options:s}=e,{data:a,error:l}=await Ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new qh("You must provide either an email or phone number and a type")}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await To(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Jv:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const a=await To(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=nb()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:e},error:null}}const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ja}):await this._useSession(async n=>{var i,r,s;const{data:a,error:l}=n;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ka}:await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:ja})})}catch(n){if(Ne(n))return j3(n)&&(await this._removeSession(),await Oa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new ka;const a=r.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await ic(this.storage,this.storageKey));const{data:d,error:h}=await Ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:ja});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ka;const n=Date.now()/1e3;let i=n,r=!0,s=null;const{payload:a}=tb(e.access_token);if(a.exp&&(i=a.exp,r=i<=n),r){const{data:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ne(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new ka;const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!qi())throw new Wh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ST("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ST("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:d}=e;if(!s||!l||!a||!d)throw new Wh("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(l);let p=h+m;u&&(p=parseInt(u));const y=p-h;y*1e3<=fc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const b=p-m;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,h);const{data:_,error:w}=await this._getUser(s);if(w)throw w;const x={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:m,expires_at:p,refresh_token:a,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(i){if(Ne(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await To(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{error:s};const a=(i=r.session)===null||i===void 0?void 0:i.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(P3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Oa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=V3(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:s},error:a}=n;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await ic(this.storage,this.storageKey,!0));try{return await Ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:r}=await this._useSession(async s=>{var a,l,u,d,h;const{data:m,error:p}=s;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ve(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(r)throw r;return qi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(Ne(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:r,data:{session:s}}=n;if(r)throw r;const{options:a,provider:l,token:u,access_token:d,nonce:h}=e,m=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Dr}),{data:p,error:y}=m;return y?{data:{user:null,session:null},error:y}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new nc}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:y})}catch(r){if(Ne(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:a}=n;if(a)throw a;return await Ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Y3(async r=>(r>0&&await G3(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Dr})),(r,s)=>{const a=200*Math.pow(2,r);return s&&eb(s)&&Date.now()+a-i<fc})}catch(i){if(this._debug(n,"error",i),Ne(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),qi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await To(this.storage,this.storageKey);if(r&&this.userStorage){let a=await To(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:r.user},await hc(this.userStorage,this.storageKey+"-user",a)),r.user=(e=a?.user)!==null&&e!==void 0?e:nb()}else if(r&&!r.user&&!r.user){const a=await To(this.storage,this.storageKey+"-user");a&&a?.user?(r.user=a.user,await Oa(this.storage,this.storageKey+"-user"),await hc(this.storage,this.storageKey,r)):r.user=nb()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const s=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Jv;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Jv}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),eb(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(r.access_token);!l&&a?.user?(r.user=a.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new ka;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Lm;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new ka;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(r,"error",s),Ne(s)){const a={data:null,error:s};return eb(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await hc(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const s=CT(r);await hc(this.storage,this.storageKey,s)}else{const r=CT(n);await hc(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Oa(this.storage,this.storageKey),await Oa(this.storage,this.storageKey+"-code-verifier"),await Oa(this.storage,this.storageKey+"-user"),this.userStorage&&await Oa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/fc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${fc}ms, refresh threshold is ${w0} ticks`),r<=w0&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Yk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,a]=await ic(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(l.toString())}if(i?.queryParams){const s=new URLSearchParams(i.queryParams);r.push(s.toString())}return i?.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await Ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:d}=await Ve(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&u.type==="totp"&&(!((r=u?.totp)===null||r===void 0)&&r.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?x5(e.webauthn.credential_response):E5(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await Ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const a=await Ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:S5(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:w5(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const r={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])r.all.push(s),s.status==="verified"&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=tb(r.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(l=>l.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+N3>r)return i;const{data:s,error:a}=await Ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=r,i=s.keys.find(l=>l.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:y,error:b}=await this.getSession();if(b||!y.session)return{data:null,error:b};i=y.session.access_token}const{header:r,payload:s,signature:a,raw:{header:l,payload:u}}=tb(i);n?.allowExpired||t5(s.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:y}=await this.getUser(i);if(y)throw y;return{data:{claims:s,header:r,signature:a},error:null}}const h=n5(r.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,a,B3(`${l}.${u}`)))throw new R0("Invalid JWT signature");return{data:{claims:s,header:r,signature:a},error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}}Pd.nextInstanceID=0;const N5=Pd;class I5 extends N5{constructor(e){super(e)}}class P5{constructor(e,n,i){var r,s,a;this.supabaseUrl=e,this.supabaseKey=n;const l=A3(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:_3,realtime:w3,auth:Object.assign(Object.assign({},S3),{storageKey:u}),global:b3},h=T3(i??{},d);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=R3(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new OV(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new p3(this.storageUrl.href,this.headers,this.fetch,i?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new bV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:s,storageKey:a,flowType:l,lock:u,debug:d},h,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new I5({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,userStorage:s,flowType:l,lock:u,debug:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new WV(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const j5=(t,e,n)=>new P5(t,e,n);function L5(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}L5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const F5={};function U5(t,e){let n;try{n=t()}catch{return}return{getItem:r=>{var s;const a=u=>u===null?null:JSON.parse(u,void 0),l=(s=n.getItem(r))!=null?s:null;return l instanceof Promise?l.then(a):a(l)},setItem:(r,s)=>n.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>n.removeItem(r)}}const jd=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return jd(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return jd(i)(n)}}}},z5=(t,e)=>(n,i,r)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...e},a=!1;const l=new Set,u=new Set;let d;try{d=s.getStorage()}catch{}if(!d)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},i,r);const h=jd(s.serialize),m=()=>{const w=s.partialize({...i()});let x;const E=h({state:w,version:s.version}).then(C=>d.setItem(s.name,C)).catch(C=>{x=C});if(x)throw x;return E},p=r.setState;r.setState=(w,x)=>{p(w,x),m()};const y=t((...w)=>{n(...w),m()},i,r);let b;const _=()=>{var w;if(!d)return;a=!1,l.forEach(E=>E(i()));const x=((w=s.onRehydrateStorage)==null?void 0:w.call(s,i()))||void 0;return jd(d.getItem.bind(d))(s.name).then(E=>{if(E)return s.deserialize(E)}).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate)return s.migrate(E.state,E.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return E.state}).then(E=>{var C;return b=s.merge(E,(C=i())!=null?C:y),n(b,!0),m()}).then(()=>{x?.(b,void 0),a=!0,u.forEach(E=>E(b))}).catch(E=>{x?.(void 0,E)})};return r.persist={setOptions:w=>{s={...s,...w},w.getStorage&&(d=w.getStorage())},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>_(),hasHydrated:()=>a,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},_(),b||y},H5=(t,e)=>(n,i,r)=>{let s={storage:U5(()=>localStorage),partialize:_=>_,version:0,merge:(_,w)=>({...w,..._}),...e},a=!1;const l=new Set,u=new Set;let d=s.storage;if(!d)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},i,r);const h=()=>{const _=s.partialize({...i()});return d.setItem(s.name,{state:_,version:s.version})},m=r.setState;r.setState=(_,w)=>{m(_,w),h()};const p=t((..._)=>{n(..._),h()},i,r);r.getInitialState=()=>p;let y;const b=()=>{var _,w;if(!d)return;a=!1,l.forEach(E=>{var C;return E((C=i())!=null?C:p)});const x=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(_=i())!=null?_:p))||void 0;return jd(d.getItem.bind(d))(s.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate)return[!0,s.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var C;const[D,O]=E;if(y=s.merge(O,(C=i())!=null?C:p),n(y,!0),D)return h()}).then(()=>{x?.(y,void 0),y=i(),a=!0,u.forEach(E=>E(y))}).catch(E=>{x?.(void 0,E)})};return r.persist={setOptions:_=>{s={...s,..._},_.storage&&(d=_.storage)},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>a,onHydrate:_=>(l.add(_),()=>{l.delete(_)}),onFinishHydration:_=>(u.add(_),()=>{u.delete(_)})},s.skipHydration||b(),y||p},B5=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((F5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),z5(t,e)):H5(t,e),Xk=B5,NT={BASE_URL:"/scheduler_demo/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1ZnNqa3p5anhndnVhbGNhZnRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0NzAyNzAsImV4cCI6MjA3NzA0NjI3MH0.cq8pGstXbA3OzgPbkJNRrQT39ROA4t9N3czLSIWpjUs",VITE_SUPABASE_URL:"https://wufsjkzyjxgvualcaftn.supabase.co"};var IT={},$5=t=>{if(!t||Array.isArray(t)&&t.length===0)return;let e;if(Array.isArray(t)){const n=t.filter(i=>i&&i.trim().length>0);if(n.length===0)return;n.length===1?e=n[0]:e=`There are ${n.length} validation errors:

 ${n.join(`
 `)}`}else e=t;tf.error(e,{duration:1e4,position:"top-right",style:{maxWidth:"400px",whiteSpace:"pre-line"}})},ol=t=>{tf.success(t)},Fa=t=>{tf.error(t)},rd=t=>{tf.warning(t)},kr=(t,e)=>tf(t,e),Zk={DISPLAY:"dd/MM/yyyy"},V5=(t,e=Zk.DISPLAY)=>{if(!t)return"";try{const n=typeof t=="string"?BH(t):t;return P1(n)?zH(n,e):""}catch(n){return console.warn("Date formatting error:",n),""}},sre=t=>V5(t,Zk.DISPLAY);function eo(...t){return Az(R1(t))}var PT=t=>confirm(t),q5=(t,e)=>{if(!(!t||!e))return e.indexOf(".")===-1?t[e]:e.split(".").reduce((n,i)=>n&&n[i]!==void 0?n[i]:void 0,t)},jT=()=>`ID_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Ho=(t,e={})=>{let n="An unexpected error occurred";if(t.response)switch(t.response.status){case 400:n="Invalid request data";break;case 401:n="Authentication required";break;case 403:n="Access denied";break;case 404:n="Resource not found";break;case 500:case 502:case 503:n="Server error occurred";break;default:n="Network error occurred"}else t.request?n="Network connection failed":t.message&&(n=t.message);return new Error(n)},W5=rB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"!bg-gray-600 !text-white shadow-xs hover:!bg-gray-700 !important",destructive:"bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),Jt=A.forwardRef(({className:t,variant:e,size:n,asChild:i=!1,...r},s)=>{const a=i?qU:"button";return R.jsx(a,{"data-slot":"button",className:eo(W5({variant:e,size:n,className:t})),ref:s,...r})});Jt.displayName="Button";var Vn=A.forwardRef(({className:t,type:e,...n},i)=>R.jsx("input",{type:e,"data-slot":"input",className:eo("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),ref:i,...n}));Vn.displayName="Input";var ai=A.forwardRef(({className:t,...e},n)=>R.jsx("label",{ref:n,"data-slot":"label",className:eo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));ai.displayName="Label";function hr({className:t,...e}){return R.jsx("div",{"data-slot":"card",className:eo("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",t),...e})}function gr({className:t,...e}){return R.jsx("div",{"data-slot":"card-header",className:eo("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function mr({className:t,...e}){return R.jsx("div",{"data-slot":"card-title",className:eo("leading-none font-semibold",t),...e})}function pr({className:t,...e}){return R.jsx("div",{"data-slot":"card-content",className:eo("px-6",t),...e})}var Jk=A.createContext(null);function rb(t){const e=document.documentElement,n=window.matchMedia("(prefers-color-scheme: dark)").matches,i=t==="dark"||t==="system"&&n;e.classList.toggle("dark",i)}var G5=({defaultTheme:t="system",children:e})=>{const[n,i]=A.useState(t);A.useEffect(()=>{const a=localStorage.getItem("theme")||t;i(a),rb(a);const l=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>{(localStorage.getItem("theme")||"system")==="system"&&rb("system")};return l.addEventListener?.("change",u),()=>l.removeEventListener?.("change",u)},[t]);const r=a=>{localStorage.setItem("theme",a),i(a),rb(a)},s=A.useMemo(()=>({theme:n,setTheme:r}),[n]);return R.jsx(Jk.Provider,{value:s,children:e})},Y5=()=>{const t=A.useContext(Jk);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},Q5=({className:t})=>{const{theme:e,setTheme:n}=Y5();return R.jsx("div",{className:"inline-flex gap-2 items-center",children:R.jsxs("select",{"aria-label":"Theme",value:e,onChange:i=>n(i.target.value),className:eo("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","w-36",t),children:[R.jsx("option",{value:"light",children:"Light"}),R.jsx("option",{value:"dark",children:"Dark"}),R.jsx("option",{value:"system",children:"System"})]})})},K5=({children:t,className:e,...n})=>R.jsx("table",{className:`w-full border-collapse border border-border table-auto ${e||""}`,...n,children:t}),X5=({children:t})=>R.jsx("thead",{className:"bg-muted",children:t}),Z5=({children:t})=>R.jsx("tbody",{className:"divide-y divide-gray-200",children:t}),Gh=({children:t,onClick:e,className:n})=>R.jsx("tr",{onClick:e,className:`${e?"cursor-pointer hover:bg-muted/50":""} ${n||""}`,children:t}),J5=({children:t})=>R.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider border-b border-border min-w-0",children:t}),sb=({children:t,colSpan:e,className:n})=>R.jsx("td",{colSpan:e,className:`px-4 py-3 text-sm text-foreground border-b border-border min-w-0 max-w-xs ${n||""}`,children:R.jsx("div",{className:"truncate",title:typeof t=="string"?t:"",children:t})});function z_({data:t,columns:e,onEditRow:n,onDeleteRow:i,onRowClick:r,enableFiltering:s=!1,filterableColumns:a=[],stickyColumns:l=[],onBulkDelete:u,onBulkExport:d,initialPageSize:h=gC.PAGE_SIZE,pageSizeOptions:m=[...gC.PAGE_SIZE_OPTIONS],enableGlobalSearch:p=!0,enableColumnVisibility:y=!1,enableRowSelection:b=!1,loading:_=!1,emptyMessage:w="No results found.",className:x}){const[E,C]=A.useState({}),[D,O]=A.useState(0),[N,I]=A.useState(h),[k,j]=A.useState(new Set),[H,$]=A.useState(""),[G,se]=A.useState([]),[pe,ve]=A.useState({}),[B,X]=A.useState(!1),me=A.useMemo(()=>{const ie=b?{id:"select",header:({table:ge})=>{const Re=ge.getRowModel().rows.map(ke=>ke.original),Se=Re.length>0&&Re.every(ke=>k.has(ke.id));return R.jsx("div",{className:"w-8",children:R.jsx("input",{type:"checkbox","aria-label":"Select all",checked:Se,onChange:ke=>{const Xe=new Set(k);ke.target.checked?Re.forEach(nn=>Xe.add(nn.id)):Re.forEach(nn=>Xe.delete(nn.id)),j(Xe)},className:"h-4 w-4 rounded border-border text-primary focus:ring-ring"})})},cell:({row:ge})=>R.jsx("div",{className:"flex w-8",children:R.jsx("input",{type:"checkbox","aria-label":"Select row",checked:k.has(ge.original.id),onChange:Re=>{const Se=new Set(k);Re.target.checked?Se.add(ge.original.id):Se.delete(ge.original.id),j(Se)},className:"h-4 w-4 rounded border-border text-primary focus:ring-ring"})})}:null,he=n||i?{id:"actions",header:"Actions",cell:({row:ge})=>R.jsxs("div",{className:"flex gap-2",children:[n&&R.jsx(Jt,{variant:"outline",size:"sm",onClick:()=>n(ge.original),children:"Edit"}),i&&R.jsx(Jt,{variant:"destructive",size:"sm",onClick:()=>{PT("Are you sure you want to delete this item?")&&i(ge.original)},children:"Delete"})]})}:null;return[ie,...e,he].filter(Boolean)},[e,n,i,b,k]),ae=A.useMemo(()=>{let ie=t;return s&&Object.keys(E).length>0&&(ie=ie.filter(he=>Object.entries(E).every(([ge,Re])=>{if(!Re)return!0;const Se=q5(he,ge);return String(Se).toLowerCase().includes(Re.toLowerCase())}))),p&&H&&(ie=ie.filter(he=>Object.values(he).some(ge=>String(ge).toLowerCase().includes(H.toLowerCase())))),ie},[t,E,H,s,p]),be=A.useMemo(()=>{const ie=D*N,he=ie+N;return ae.slice(ie,he)},[ae,D,N]),L=Math.ceil(ae.length/N),J=JB({data:be,columns:me,state:{sorting:G,columnVisibility:pe},onSortingChange:se,onColumnVisibilityChange:ve,getCoreRowModel:VB(),getSortedRowModel:QB(),getFilteredRowModel:YB()}),ne=()=>{C({}),$(""),O(0)};return R.jsxs("div",{className:`w-full space-y-4 ${x||""}`,children:[R.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p&&R.jsx("div",{className:"flex-1 max-w-sm",children:R.jsx("input",{type:"text",placeholder:"Search all columns...",value:H,onChange:ie=>{$(ie.target.value),O(0)},className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})}),R.jsxs("div",{className:"flex items-center gap-2",children:[H&&R.jsx(Jt,{variant:"outline",size:"sm",onClick:ne,children:"Clear Search"}),y&&R.jsxs("div",{className:"relative",children:[R.jsx(Jt,{variant:"outline",size:"sm",onClick:()=>X(!B),children:"Columns "}),B&&R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>X(!1)}),R.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-popover border border-border rounded-md shadow-lg z-20 p-2",children:J.getAllColumns().filter(ie=>ie.getCanHide()).map(ie=>R.jsxs("label",{className:"flex items-center gap-2 p-1 hover:bg-accent rounded cursor-pointer",children:[R.jsx("input",{type:"checkbox",checked:ie.getIsVisible(),onChange:ie.getToggleVisibilityHandler(),className:"h-4 w-4 rounded border-border"}),R.jsx("span",{className:"text-sm capitalize",children:ie.id.replace(/([A-Z])/g," $1").replace(/^./,he=>he.toUpperCase())})]},ie.id))})]})]})]})]}),R.jsx("div",{className:"rounded-md border border-border overflow-hidden shadow-sm",children:R.jsx("div",{className:"overflow-x-auto",children:R.jsxs(K5,{className:"min-w-full",children:[R.jsx(X5,{children:J.getHeaderGroups().map(ie=>R.jsx(Gh,{children:ie.headers.map(he=>R.jsx(J5,{children:he.isPlaceholder?null:R.jsxs("div",{className:he.column.getCanSort()?"cursor-pointer select-none flex items-center gap-2":"",onClick:he.column.getToggleSortingHandler(),children:[OC(he.column.columnDef.header,he.getContext()),he.column.getCanSort()&&R.jsx("span",{className:"ml-1",children:{asc:"",desc:""}[he.column.getIsSorted()]??""})]})},he.id))},ie.id))}),R.jsx(Z5,{children:_?R.jsx(Gh,{children:R.jsx(sb,{colSpan:me.length,className:"h-24 text-center",children:R.jsxs("div",{className:"flex items-center justify-center gap-2",children:[R.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-foreground"}),"Loading..."]})})}):J.getRowModel().rows.length?J.getRowModel().rows.map(ie=>R.jsx(Gh,{onClick:()=>r&&r(ie.original),className:r?"cursor-pointer hover:bg-muted/50":"",children:ie.getVisibleCells().map(he=>R.jsx(sb,{children:OC(he.column.columnDef.cell,he.getContext())},he.id))},ie.id)):R.jsx(Gh,{children:R.jsx(sb,{colSpan:me.length,className:"h-24 text-center text-muted-foreground",children:R.jsxs("div",{className:"flex flex-col items-center gap-2",children:[R.jsx("div",{className:"text-4xl",children:""}),R.jsx("div",{children:w})]})})})})]})})}),R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",D*N+1," to ",Math.min((D+1)*N,ae.length)," of ",ae.length," results"]}),R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx(Jt,{variant:"outline",size:"sm",onClick:()=>O(Math.max(0,D-1)),disabled:D===0,children:"Previous"}),R.jsxs("span",{className:"text-sm",children:["Page ",D+1," of ",L]}),R.jsx(Jt,{variant:"outline",size:"sm",onClick:()=>O(Math.min(L-1,D+1)),disabled:D>=L-1,children:"Next"})]})]}),k.size>0&&(u||d)&&R.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-4 -mx-4 -mb-4 rounded-b-md",children:R.jsxs("div",{className:"flex items-center justify-between gap-4",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(Jt,{variant:"ghost",size:"sm",onClick:()=>j(new Set),className:"h-8 w-8 p-0",children:""}),R.jsxs("span",{className:"text-sm font-medium",children:[k.size," item",k.size>1?"s":""," selected"]})]}),R.jsxs("div",{className:"flex gap-2",children:[d&&R.jsx(Jt,{variant:"outline",size:"sm",onClick:()=>d(Array.from(k)),children:" Export"}),u&&R.jsx(Jt,{variant:"destructive",size:"sm",onClick:()=>{PT(`Delete ${k.size} selected items? This action cannot be undone.`)&&(u(Array.from(k)),j(new Set))},children:" Delete"})]})]})})]})}var eq=class extends re.Component{constructor(t){super(t),this.handleRetry=()=>{const e=this.props.maxRetries||3;this.state.retryCount<e&&this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:this.state.retryCount+1})},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0})},this.handleReportIssue=()=>{const e=encodeURIComponent(`App Error Report - ${this.state.errorId}`),n=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${e}&body=${n}`)},this.state={hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorId:jT()}}componentDidCatch(t,e){this.setState({errorInfo:e,errorId:this.state.errorId||jT()}),this.props.onError&&this.props.onError(t,e)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo,{retry:this.handleRetry,reset:this.handleReset,retryCount:this.state.retryCount,maxRetries:this.props.maxRetries||3}):R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:R.jsxs("div",{className:"max-w-md w-full bg-card shadow-lg rounded-lg p-6 border",children:[R.jsxs("div",{className:"flex items-center mb-4",children:[R.jsx("div",{className:"flex-shrink-0",children:R.jsx("div",{className:"h-8 w-8 text-destructive text-2xl",children:""})}),R.jsx("div",{className:"ml-3",children:R.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Something went wrong"})})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("p",{className:"text-sm text-muted-foreground",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),this.state.errorId&&R.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Error ID: ",R.jsx("code",{className:"bg-muted px-1 rounded",children:this.state.errorId})]})]}),R.jsxs("div",{className:"flex space-x-3 mb-4",children:[this.state.retryCount<(this.props.maxRetries||3)&&R.jsxs("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Try Again (",this.state.retryCount+1,"/",(this.props.maxRetries||3)+1,")"]}),R.jsx("button",{onClick:this.handleReset,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Reset"})]}),R.jsx("button",{onClick:this.handleReportIssue,className:"w-full bg-gray-100 text-gray-900 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 border border-gray-300",children:" Report Issue"}),!1]})}):this.props.children}},eM=A.createContext(null),tq=({children:t,supabaseClient:e,onAuthStateChange:n})=>{const[i,r]=A.useState(null),[s,a]=A.useState(null),[l,u]=A.useState(!0),[d,h]=A.useState(null);A.useEffect(()=>{(async()=>{try{const{data:{session:E},error:C}=await e.auth.getSession();C?h("Failed to initialize authentication"):(a(E),r(E?.user??null),n?.(E?.user??null,E))}catch{h("Authentication initialization failed")}finally{u(!1)}})();const{data:{subscription:x}}=e.auth.onAuthStateChange(async(E,C)=>{a(C),r(C?.user??null),h(null),n?.(C?.user??null,C),E==="SIGNED_OUT"&&u(!1)});return()=>x.unsubscribe()},[e,n]);const _={user:i,session:s,loading:l,error:d,signIn:async(w,x)=>{try{h(null);const{error:E}=await e.auth.signInWithPassword({email:w,password:x});return E?(h(E.message),{error:E.message}):{}}catch{const C="Sign in failed";return h(C),{error:C}}},signUp:async(w,x,E)=>{try{h(null);const{error:C}=await e.auth.signUp({email:w,password:x,options:{data:E}});return C?(h(C.message),{error:C.message}):{}}catch{const D="Sign up failed";return h(D),{error:D}}},signOut:async()=>{try{h(null),await e.auth.signOut()}catch{h("Sign out failed")}},resetPassword:async w=>{try{h(null);const{error:x}=await e.auth.resetPasswordForEmail(w);return x?(h(x.message),{error:x.message}):{}}catch{const E="Password reset failed";return h(E),{error:E}}}};return R.jsx(eM.Provider,{value:_,children:t})},nq=()=>{const t=A.useContext(eM);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},ab=t=>console.error(t),iq=t=>console.warn(t),rq=t=>console.info(t),us=(t={})=>{const{logErrors:e=!0,showUserMessages:n=!0,maxRetries:i=3,retryDelay:r=1e3,onError:s=null,onRetry:a=null,onFallback:l=null}=t,[u,d]=A.useState([]),[h,m]=A.useState(!1),p=A.useRef(0),y=A.useCallback(async(I,k="",j={})=>{const H={id:`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,message:I.message||"An unexpected error occurred",type:I.type||Mh.SERVER_ERROR,severity:I.severity||"medium",context:k,timestamp:new Date().toISOString(),userMessage:I.userMessage||I.message||"An unexpected error occurred"};if(d($=>[...$,H]),e&&console.error(`[${k}] Error:`,I),n){const $=H.userMessage;switch(H.severity){case"low":iq($);break;case"medium":ab($);break;case"high":case"critical":ab($);break;default:ab($)}}return s&&await s(H,k),H},[e,n,s]),b=A.useCallback(async(I,k={})=>{const{context:j="",fallbackMessage:H="Operation failed",retry:$=!1,maxRetries:G=i}=k;try{return $?await _(I,G):await I()}catch(se){throw await y(se,j,{fallbackMessage:H})}},[i,y]),_=A.useCallback(async(I,k)=>{let j;for(let H=1;H<=k;H++)try{m(H>1),p.current=H-1;const $=await I();return m(!1),p.current=0,$}catch($){if(j=$,H<k){const G=r*Math.pow(2,H-1);a&&await a($,H,G),n&&rq(`Retrying... (${H}/${k})`),await new Promise(se=>setTimeout(se,G))}}throw m(!1),p.current=0,j},[r,a,n]),w=A.useCallback((I,k={})=>{const j={message:I,type:Mh.VALIDATION_ERROR,severity:"medium",details:k,userMessage:I};return y(j,"validation")},[y]),x=A.useCallback((I="Network connection failed")=>{const k={message:I,type:Mh.NETWORK_ERROR,severity:"high",userMessage:I};return y(k,"network")},[y]),E=A.useCallback((I="Authentication failed")=>{const k={message:I,type:Mh.AUTHENTICATION_ERROR,severity:"high",userMessage:I};return y(k,"authentication")},[y]),C=A.useCallback(()=>{d([])},[]),D=A.useCallback(I=>{d(k=>k.filter(j=>j.id!==I))},[]),O=A.useCallback(I=>u.filter(k=>k.type===I),[u]),N=A.useCallback(()=>u.some(I=>I.severity==="critical"),[u]);return{handleError:y,handleAsync:b,handleValidationError:w,handleNetworkError:x,handleAuthError:E,clearErrors:C,clearError:D,getErrorsByType:O,hasCriticalErrors:N,errors:u,isRetrying:h,retryCount:p.current,retryOperation:_}},sq=kd(t=>({isOpen:!0,toggle:()=>t(e=>({isOpen:!e.isOpen})),open:()=>t({isOpen:!0}),close:()=>t({isOpen:!1})})),aq=t=>({all:[t],lists:()=>[t,"list"],list:e=>[t,"list",e],details:()=>[t,"detail"],detail:e=>[t,"detail",e],search:(e,n)=>[t,"search",e,n],count:e=>[t,"count",e],paginated:e=>[t,"paginated",e]});function oq(t){const e=t.getTableName(),n=aq(e);return{useList:(E,C)=>Yu({queryKey:n.list(E?.filters),queryFn:()=>t.getAll(E),staleTime:300*1e3,...C}),usePaginatedList:(E,C)=>Yu({queryKey:n.paginated(E),queryFn:()=>t.getPaginated(E),staleTime:300*1e3,keepPreviousData:!0,...C}),useDetail:(E,C,D)=>Yu({queryKey:n.detail(E),queryFn:()=>t.getById(E,C),enabled:!!E,staleTime:300*1e3,...D}),useSearch:(E,C,D,O)=>Yu({queryKey:n.search(E,C),queryFn:()=>t.search(E,C,D),enabled:E.length>0,staleTime:120*1e3,...O}),useCount:(E,C)=>Yu({queryKey:n.count(E),queryFn:()=>t.count(E),staleTime:300*1e3,...C}),useCreate:E=>{const C=br();return Ro({mutationFn:D=>t.create(D),onSuccess:(D,O)=>{C.invalidateQueries({queryKey:n.lists()}),C.invalidateQueries({queryKey:n.count()}),C.setQueryData(n.detail(D.id),D),E?.onSuccess?.(D,O,void 0)},...E})},useCreateMany:E=>{const C=br();return Ro({mutationFn:D=>t.createMany(D),onSuccess:(D,O)=>{C.invalidateQueries({queryKey:n.lists()}),C.invalidateQueries({queryKey:n.count()}),D.forEach(N=>{C.setQueryData(n.detail(N.id),N)}),E?.onSuccess?.(D,O,void 0)},...E})},useUpdate:E=>{const C=br();return Ro({mutationFn:({id:D,data:O})=>t.update(D,O),onSuccess:(D,O)=>{C.setQueryData(n.detail(O.id),D),C.invalidateQueries({queryKey:n.lists()}),E?.onSuccess?.(D,O,void 0)},...E})},useUpdateMany:E=>{const C=br();return Ro({mutationFn:D=>t.updateMany(D),onSuccess:(D,O)=>{D.forEach((N,I)=>{C.setQueryData(n.detail(O[I].id),N)}),C.invalidateQueries({queryKey:n.lists()}),E?.onSuccess?.(D,O,void 0)},...E})},useUpsert:E=>{const C=br();return Ro({mutationFn:({data:D,onConflict:O})=>t.upsert(D,O),onSuccess:(D,O)=>{C.setQueryData(n.detail(D.id),D),C.invalidateQueries({queryKey:n.lists()}),C.invalidateQueries({queryKey:n.count()}),E?.onSuccess?.(D,O,void 0)},...E})},useDelete:E=>{const C=br();return Ro({mutationFn:D=>t.delete(D),onSuccess:(D,O)=>{C.removeQueries({queryKey:n.detail(O)}),C.invalidateQueries({queryKey:n.lists()}),C.invalidateQueries({queryKey:n.count()}),E?.onSuccess?.(D,O,void 0)},...E})},useBulkDelete:E=>{const C=br();return Ro({mutationFn:D=>t.bulkDelete(D),onSuccess:(D,O)=>{O.forEach(N=>{C.removeQueries({queryKey:n.detail(N)})}),C.invalidateQueries({queryKey:n.lists()}),C.invalidateQueries({queryKey:n.count()}),E?.onSuccess?.(D,O,void 0)},...E})},useOptimisticUpdate:()=>{const E=br();return{optimisticUpdate:(O,N)=>{E.setQueryData(n.detail(O),N)},rollbackOptimisticUpdate:O=>{E.invalidateQueries({queryKey:n.detail(O)})}}},useInvalidateAll:()=>{const E=br();return{invalidateAll:()=>{E.invalidateQueries({queryKey:n.all})},invalidateLists:()=>{E.invalidateQueries({queryKey:n.lists()})},invalidateDetail:N=>{E.invalidateQueries({queryKey:n.detail(N)})}}},usePrefetch:()=>{const E=br();return{prefetchList:O=>E.prefetchQuery({queryKey:n.list(O?.filters),queryFn:()=>t.getAll(O),staleTime:300*1e3}),prefetchDetail:(O,N)=>E.prefetchQuery({queryKey:n.detail(O),queryFn:()=>t.getById(O,N),staleTime:300*1e3})}},queryKeys:n}}function are(t){return oq(t)}function lq({config:t,initialData:e={},onSubmit:n,onSuccess:i,isEditMode:r=!1,isLoading:s=!1,customActions:a=null,customFieldRenderers:l={},className:u="p-1 bg-card rounded-lg shadow-sm border"}){const{handleAsync:d}=us("GenericForm"),h=A.useMemo(()=>{const k={};return t.sections.forEach(j=>{j.fields.forEach(H=>{H.name in e?k[H.name]=e[H.name]:H.defaultValue!==void 0?k[H.name]=H.defaultValue:k[H.name]=""})}),k},[t,e]),{register:m,handleSubmit:p,formState:{isSubmitting:y,errors:b},watch:_,setValue:w,getValues:x,reset:E,clearErrors:C}=x$({defaultValues:h,mode:"onChange"}),D=async k=>{await d(async()=>{await n(k),i&&i(),E(h)},{context:r?t.editContext:t.addContext,fallbackMessage:r?t.editErrorMessage:t.addErrorMessage})},O=k=>{const j=_(k.name);if(k.conditional&&!k.conditional(j,_,x))return null;if(l[k.type])return l[k.type](k,{watch:_,setValue:w,getValues:x,register:m,isSubmitting:y,fieldValue:j});const H={id:k.name,placeholder:k.placeholder,disabled:k.disabled||y,className:k.className||"",...m(k.name,k.validation||{})};switch(k.type){case"select":return R.jsxs("div",{children:[R.jsxs("select",{...m(k.name,k.validation),disabled:k.disabled||y,className:`flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ${b[k.name]?"border-red-500":"border-input"}`,children:[R.jsx("option",{value:"",children:k.placeholder||`Seleziona ${k.label.toLowerCase()}`}),k.options?.map($=>R.jsx("option",{value:$.value,children:$.label},$.value))]}),b[k.name]&&R.jsx("p",{className:"text-sm text-destructive mt-1",children:b[k.name].message})]});case"textarea":return R.jsxs("div",{children:[R.jsx("textarea",{...H,rows:k.rows||3,className:`w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent ${k.className||""} ${b[k.name]?"border-destructive":""}`}),b[k.name]&&R.jsx("p",{className:"text-sm text-destructive mt-1",children:b[k.name].message})]});case"checkbox":return R.jsx("div",{className:"flex flex-wrap gap-2",children:k.options?.map($=>R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx("input",{type:"checkbox",id:`${k.name}_${$.value}`,value:$.value,checked:j?.includes($.value)||!1,onChange:G=>{const se=x(k.name)||[];G.target.checked?w(k.name,[...se,$.value].sort(),{shouldValidate:!0}):w(k.name,se.filter(pe=>pe!==$.value),{shouldValidate:!0})},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),R.jsx(ai,{htmlFor:`${k.name}_${$.value}`,className:"text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:$.label})]},$.value))});case"datetime-local":return R.jsxs("div",{children:[R.jsx(Vn,{type:"datetime-local",...H,className:`${H.className} ${b[k.name]?"border-red-500":""}`}),b[k.name]&&R.jsx("p",{className:"text-sm text-destructive mt-1",children:b[k.name].message})]});case"date":return R.jsxs("div",{children:[R.jsx(Vn,{type:"date",...H,className:`${H.className} ${b[k.name]?"border-red-500":""}`}),b[k.name]&&R.jsx("p",{className:"text-sm text-destructive mt-1",children:b[k.name].message})]});case"time":return R.jsxs("div",{children:[R.jsx(Vn,{type:"time",...H,className:`${H.className} ${b[k.name]?"border-red-500":""}`}),b[k.name]&&R.jsx("p",{className:"text-sm text-destructive mt-1",children:b[k.name].message})]});case"number":return R.jsxs("div",{children:[R.jsx(Vn,{type:"number",...H,className:`${H.className} ${b[k.name]?"border-red-500":""}`}),b[k.name]&&R.jsx("p",{className:"text-sm text-destructive mt-1",children:b[k.name].message})]});case"text":default:return R.jsxs("div",{children:[R.jsx(Vn,{type:"text",...H,className:`${H.className} ${b[k.name]?"border-red-500":""}`}),b[k.name]&&R.jsx("p",{className:"text-sm text-destructive mt-1",children:b[k.name].message})]})}},N=k=>{const j=k.fields.filter(H=>!H.conditional||H.conditional(_(H.name),_,x));return j.length===0?null:R.jsxs("div",{className:"space-y-4",children:[R.jsx("h2",{className:"text-lg font-semibold text-foreground",children:k.title}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(H=>R.jsxs("div",{className:"space-y-2",children:[R.jsxs(ai,{htmlFor:H.name,className:"text-sm font-medium text-foreground",children:[H.label," ",H.required&&R.jsx("span",{className:"text-destructive",children:"*"})]}),O(H),H.helpText&&R.jsx("p",{className:"text-xs text-muted-foreground",children:H.helpText})]},H.name))})]},k.title)},I=k=>l[k]?l[k]():null;return R.jsx("div",{className:"bg-card rounded-lg border border-border shadow-sm p-6",children:R.jsxs("form",{onSubmit:p(D),noValidate:!0,className:"space-y-6",children:[t.sections.map(N),t.customFields&&Object.keys(t.customFields).map(k=>R.jsx("div",{children:I(k)},k)),a&&R.jsx("div",{className:"space-y-4",children:a}),R.jsx("div",{className:"flex justify-end pt-6 border-t border-border",children:R.jsx(Jt,{type:"submit",variant:"default",disabled:s||y,children:s||y?r?t.editLoadingText:t.addLoadingText:r?t.editButtonText:t.addButtonText})})]})})}var Fm=lq;re.createContext(void 0);re.createContext(void 0);var _e={VALIDATION_ERROR:"VALIDATION_ERROR",REQUIRED_FIELD_ERROR:"REQUIRED_FIELD_ERROR",INVALID_FORMAT_ERROR:"INVALID_FORMAT_ERROR",INVALID_RANGE_ERROR:"INVALID_RANGE_ERROR",INVALID_TYPE_ERROR:"INVALID_TYPE_ERROR",NOT_FOUND:"NOT_FOUND",DUPLICATE_ERROR:"DUPLICATE_ERROR",CONFLICT_ERROR:"CONFLICT_ERROR",OUT_OF_SYNC_ERROR:"OUT_OF_SYNC_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",INSUFFICIENT_STOCK_ERROR:"INSUFFICIENT_STOCK_ERROR",CAPACITY_EXCEEDED_ERROR:"CAPACITY_EXCEEDED_ERROR",INVALID_OPERATION_ERROR:"INVALID_OPERATION_ERROR",WORKFLOW_ERROR:"WORKFLOW_ERROR",SERVER_ERROR:"SERVER_ERROR",DATABASE_ERROR:"DATABASE_ERROR",NETWORK_ERROR:"NETWORK_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",CONNECTION_ERROR:"CONNECTION_ERROR",EXTERNAL_SERVICE_ERROR:"EXTERNAL_SERVICE_ERROR",API_ERROR:"API_ERROR",INTEGRATION_ERROR:"INTEGRATION_ERROR",CONFIGURATION_ERROR:"CONFIGURATION_ERROR",ENVIRONMENT_ERROR:"ENVIRONMENT_ERROR",RESOURCE_EXHAUSTED_ERROR:"RESOURCE_EXHAUSTED_ERROR",QUOTA_EXCEEDED_ERROR:"QUOTA_EXCEEDED_ERROR",STORAGE_ERROR:"STORAGE_ERROR",USER_INPUT_ERROR:"USER_INPUT_ERROR",UI_ERROR:"UI_ERROR",NAVIGATION_ERROR:"NAVIGATION_ERROR",RECOVERY_ERROR:"RECOVERY_ERROR",RETRY_ERROR:"RETRY_ERROR",FALLBACK_ERROR:"FALLBACK_ERROR"},C0=class extends Error{constructor(t,e=_e.SERVER_ERROR,n=500,i=null,r="",s={}){super(t),this.name="ServiceError",this.type=e,this.statusCode=n,this.originalError=i,this.context=r,this.timestamp=new Date().toISOString(),this.id=s.id||this.generateErrorId(),this.severity=s.severity||this.getDefaultSeverity(e),this.retryable=s.retryable!==void 0?s.retryable:this.isRetryable(e),this.userMessage=s.userMessage||this.getDefaultUserMessage(e,t),this.details=s.details||{},this.metadata=s.metadata||{},i?.stack&&(this.stack=i.stack)}generateErrorId(){return`err_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getDefaultSeverity(t){return{[_e.VALIDATION_ERROR]:"low",[_e.REQUIRED_FIELD_ERROR]:"low",[_e.INVALID_FORMAT_ERROR]:"low",[_e.INVALID_RANGE_ERROR]:"low",[_e.INVALID_TYPE_ERROR]:"low",[_e.USER_INPUT_ERROR]:"low",[_e.UI_ERROR]:"low",[_e.NAVIGATION_ERROR]:"low",[_e.NOT_FOUND]:"medium",[_e.DUPLICATE_ERROR]:"medium",[_e.CONFLICT_ERROR]:"medium",[_e.BUSINESS_LOGIC_ERROR]:"medium",[_e.INSUFFICIENT_STOCK_ERROR]:"medium",[_e.CAPACITY_EXCEEDED_ERROR]:"medium",[_e.INVALID_OPERATION_ERROR]:"medium",[_e.WORKFLOW_ERROR]:"medium",[_e.PERMISSION_ERROR]:"high",[_e.AUTHENTICATION_ERROR]:"high",[_e.AUTHORIZATION_ERROR]:"high",[_e.RATE_LIMIT_ERROR]:"high",[_e.CONFIGURATION_ERROR]:"high",[_e.ENVIRONMENT_ERROR]:"high",[_e.SERVER_ERROR]:"critical",[_e.DATABASE_ERROR]:"critical",[_e.NETWORK_ERROR]:"critical",[_e.CONNECTION_ERROR]:"critical",[_e.EXTERNAL_SERVICE_ERROR]:"critical",[_e.API_ERROR]:"critical",[_e.INTEGRATION_ERROR]:"critical",[_e.RESOURCE_EXHAUSTED_ERROR]:"critical",[_e.QUOTA_EXCEEDED_ERROR]:"critical",[_e.STORAGE_ERROR]:"critical"}[t]||"medium"}isRetryable(t){return[_e.NETWORK_ERROR,_e.CONNECTION_ERROR,_e.TIMEOUT_ERROR,_e.SERVER_ERROR,_e.EXTERNAL_SERVICE_ERROR,_e.API_ERROR,_e.RATE_LIMIT_ERROR].includes(t)}getDefaultUserMessage(t,e){return{[_e.VALIDATION_ERROR]:"Please check your input and try again.",[_e.REQUIRED_FIELD_ERROR]:"Please fill in all required fields.",[_e.INVALID_FORMAT_ERROR]:"Please check the format of your input.",[_e.INVALID_RANGE_ERROR]:"Please enter a value within the allowed range.",[_e.INVALID_TYPE_ERROR]:"Please enter the correct type of data.",[_e.NOT_FOUND]:"The requested item was not found.",[_e.DUPLICATE_ERROR]:"This item already exists.",[_e.CONFLICT_ERROR]:"There was a conflict with your request.",[_e.PERMISSION_ERROR]:"You do not have permission to perform this action.",[_e.AUTHENTICATION_ERROR]:"Please log in to continue.",[_e.AUTHORIZATION_ERROR]:"You are not authorized to perform this action.",[_e.BUSINESS_LOGIC_ERROR]:"This operation cannot be completed due to business rules.",[_e.INSUFFICIENT_STOCK_ERROR]:"Insufficient stock available.",[_e.CAPACITY_EXCEEDED_ERROR]:"Capacity limit exceeded.",[_e.INVALID_OPERATION_ERROR]:"This operation is not allowed.",[_e.SERVER_ERROR]:"A server error occurred. Please try again later.",[_e.DATABASE_ERROR]:"A database error occurred. Please try again later.",[_e.NETWORK_ERROR]:"Network connection failed. Please check your connection.",[_e.CONNECTION_ERROR]:"Connection failed. Please try again.",[_e.TIMEOUT_ERROR]:"The operation timed out. Please try again.",[_e.EXTERNAL_SERVICE_ERROR]:"External service is temporarily unavailable.",[_e.API_ERROR]:"API request failed. Please try again later.",[_e.CONFIGURATION_ERROR]:"System configuration error. Please contact support.",[_e.ENVIRONMENT_ERROR]:"Environment configuration error. Please contact support.",[_e.RESOURCE_EXHAUSTED_ERROR]:"System resources are exhausted. Please try again later.",[_e.QUOTA_EXCEEDED_ERROR]:"Quota exceeded. Please try again later.",[_e.STORAGE_ERROR]:"Storage error occurred. Please try again later.",[_e.USER_INPUT_ERROR]:"Please check your input and try again.",[_e.UI_ERROR]:"A user interface error occurred.",[_e.NAVIGATION_ERROR]:"Navigation error occurred.",[_e.RECOVERY_ERROR]:"Error recovery failed.",[_e.RETRY_ERROR]:"Retry operation failed.",[_e.FALLBACK_ERROR]:"Fallback operation failed."}[t]||"An unexpected error occurred. Please try again."}toUserFriendly(){return{message:this.userMessage,type:this.type,severity:this.severity,retryable:this.retryable,timestamp:this.timestamp}}},cq=t=>{if(!t)return{type:_e.SERVER_ERROR,message:"Unknown error occurred"};switch(t.code){case"23505":return{type:_e.DUPLICATE_ERROR,message:"A record with this information already exists",details:{constraint:t.constraint,table:t.table}};case"23503":return{type:_e.CONFLICT_ERROR,message:"Cannot perform this action due to related records",details:{constraint:t.constraint,table:t.table}};case"23502":return{type:_e.REQUIRED_FIELD_ERROR,message:"Required fields are missing",details:{column:t.column,table:t.table}};case"23514":return{type:_e.VALIDATION_ERROR,message:"Data validation failed",details:{constraint:t.constraint,table:t.table}};case"42P01":return{type:_e.DATABASE_ERROR,message:"Database table not found",details:{table:t.table}};case"42703":return{type:_e.DATABASE_ERROR,message:"Database column not found",details:{column:t.column,table:t.table}};case"PGRST301":case"PGRST302":return{type:_e.AUTHENTICATION_ERROR,message:"Authentication expired. Please log in again."};case"PGRST001":return{type:_e.AUTHORIZATION_ERROR,message:"You do not have permission to perform this action."};case"PGRST116":return{type:_e.NOT_FOUND,message:"Record not found"};default:return t.message?.includes("JWT")?{type:_e.AUTHENTICATION_ERROR,message:"Authentication error. Please refresh the page"}:t.message?.includes("network")?{type:_e.NETWORK_ERROR,message:"Network connection failed"}:t.message?.includes("timeout")?{type:_e.TIMEOUT_ERROR,message:"Request timed out"}:{type:_e.SERVER_ERROR,message:t.message||"An unexpected error occurred"}}},ri=async(t,e="unknown")=>{try{return await t()}catch(n){if(n instanceof C0)throw n;const i=cq(n);throw new C0(i.message,i.type,500,n,e,{details:i.details})}},ore=class{constructor(t,e){this.realtimeChannels=new Map,this.client=t,this.tableName=e}async init(){return ri(async()=>{const{error:t}=await this.client.from(this.tableName).select("count").limit(1);if(t)throw t;return!0},`${this.tableName}.init`)}async getAll(t={}){return ri(async()=>{let e=this.client.from(this.tableName).select(t.select||"*").order(t.orderBy||"created_at",{ascending:t.ascending!==!1});if(t.filters&&Object.entries(t.filters).forEach(([r,s])=>{s!=null&&s!==""&&(Array.isArray(s)?e=e.in(r,s):typeof s=="string"&&s.includes("%")?e=e.like(r,s):e=e.eq(r,s))}),t.dateRange){const{startDate:r,endDate:s,dateField:a="created_at"}=t.dateRange;r&&(e=e.gte(a,`${r}T00:00:00.000Z`)),s&&(e=e.lte(a,`${s}T23:59:59.999Z`))}t.limit&&(e=e.limit(t.limit)),t.offset&&(e=e.range(t.offset,t.offset+(t.limit||10)-1));const{data:n,error:i}=await e;if(i)throw i;return n||[]},`${this.tableName}.getAll`)}async getPaginated(t={}){const e=t.page||1,n=t.perPage||10,i=(e-1)*n,[r,s]=await Promise.all([this.count(t.filters),this.getAll({...t,limit:n,offset:i})]);return{data:s,total:r,page:e,perPage:n,totalPages:Math.ceil(r/n)}}async getById(t,e="*"){return ri(async()=>{const{data:n,error:i}=await this.client.from(this.tableName).select(e).eq("id",t).single();if(i)throw i;return n},`${this.tableName}.getById`)}async getByField(t,e,n={}){return ri(async()=>{let i=this.client.from(this.tableName).select(n.select||"*").eq(t,e);n.orderBy&&(i=i.order(n.orderBy,{ascending:n.ascending!==!1})),n.limit&&(i=i.limit(n.limit));const{data:r,error:s}=await i;if(s)throw s;return r||[]},`${this.tableName}.getByField`)}async create(t){return ri(async()=>{const{data:e,error:n}=await this.client.from(this.tableName).insert(t).select().single();if(n)throw n;return e},`${this.tableName}.create`)}async createMany(t){return ri(async()=>{const{data:e,error:n}=await this.client.from(this.tableName).insert(t).select();if(n)throw n;return e||[]},`${this.tableName}.createMany`)}async update(t,e){return ri(async()=>{const{data:n,error:i}=await this.client.from(this.tableName).update(e).eq("id",t).select().single();if(i)throw i;return n},`${this.tableName}.update`)}async updateMany(t){return ri(async()=>{const e=t.map(({id:n,data:i})=>this.update(n,i));return Promise.all(e)},`${this.tableName}.updateMany`)}async upsert(t,e){return ri(async()=>{let n=this.client.from(this.tableName).upsert(t).select().single();e&&(n=n.onConflict(e));const{data:i,error:r}=await n;if(r)throw r;return i},`${this.tableName}.upsert`)}async delete(t){return ri(async()=>{const{error:e}=await this.client.from(this.tableName).delete().eq("id",t);if(e)throw e},`${this.tableName}.delete`)}async bulkDelete(t){return ri(async()=>{const{error:e}=await this.client.from(this.tableName).delete().in("id",t);if(e)throw e},`${this.tableName}.bulkDelete`)}async count(t){return ri(async()=>{let e=this.client.from(this.tableName).select("*",{count:"exact",head:!0});t&&Object.entries(t).forEach(([r,s])=>{s!=null&&s!==""&&(Array.isArray(s)?e=e.in(r,s):e=e.eq(r,s))});const{count:n,error:i}=await e;if(i)throw i;return n||0},`${this.tableName}.count`)}async exists(t){return ri(async()=>{const{data:e,error:n}=await this.client.from(this.tableName).select("id").eq("id",t).single();if(n&&n.code!=="PGRST116")throw n;return!!e},`${this.tableName}.exists`)}async search(t,e=["name"],n={}){return ri(async()=>{let i=this.client.from(this.tableName).select(n.select||"*");if(e.length===1)i=i.ilike(e[0],`%${t}%`);else{const a=e.map(l=>`${l}.ilike.%${t}%`).join(",");i=i.or(a)}n.filters&&Object.entries(n.filters).forEach(([a,l])=>{l!=null&&l!==""&&(i=i.eq(a,l))}),i=i.order(n.orderBy||"created_at",{ascending:n.ascending!==!1}),n.limit&&(i=i.limit(n.limit));const{data:r,error:s}=await i;if(s)throw s;return r||[]},`${this.tableName}.search`)}async getByDateRange(t,e,n="created_at",i={}){return this.getAll({...i,dateRange:{startDate:t,endDate:e,dateField:n}})}async executeRpc(t,e){return ri(async()=>{const{data:n,error:i}=await this.client.rpc(t,e);if(i)throw i;return n},`${this.tableName}.executeRpc`)}setupRealtimeSubscription(t,e={},n){const i=n||`${this.tableName}_realtime_${Date.now()}`;let r=this.client.channel(i).on("postgres_changes",{event:e.event||"*",schema:e.schema||"public",table:this.tableName,filter:e.filter},t).subscribe();return this.realtimeChannels.set(i,r),r}removeRealtimeSubscription(t){const e=this.realtimeChannels.get(t);e&&(this.client.removeChannel(e),this.realtimeChannels.delete(t))}removeAllRealtimeSubscriptions(){this.realtimeChannels.forEach((t,e)=>{this.client.removeChannel(t)}),this.realtimeChannels.clear()}async bulkOperation(t){return ri(async()=>{const e=[];for(const n of t){let i;switch(n.type){case"insert":i=await this.create(n.data);break;case"update":i=await this.update(n.id,n.data);break;case"delete":await this.delete(n.id),i={deleted:!0,id:n.id};break;case"upsert":i=await this.upsert(n.data);break;default:throw new C0(`Unknown operation type: ${n.type}`,_e.INVALID_OPERATION_ERROR)}e.push(i)}return e},`${this.tableName}.bulkOperation`)}getTableName(){return this.tableName}getClient(){return this.client}},uq=t=>{const e={auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}};return j5(t.url,t.anonKey,{...e,...t.options})},LT=t=>{if(typeof import.meta<"u"&&NT){const e=NT[t];if(e!==void 0)return e}if(typeof process<"u"&&IT){const e=IT[t];if(e!==void 0)return e}if(typeof window<"u"&&window.__ENV__)return window.__ENV__[t]},dq=()=>{const t=LT("VITE_SUPABASE_URL"),e=LT("VITE_SUPABASE_ANON_KEY");if(!t)throw new Error("Missing VITE_SUPABASE_URL environment variable");if(!e)throw new Error("Missing VITE_SUPABASE_ANON_KEY environment variable");return uq({url:t,anonKey:e})},fq=(t,e="")=>t.code==="23505"?"This record already exists":t.code==="23503"?"Cannot perform this operation due to related records":t.code==="PGRST116"?"No records found":t.message?.includes("JWT")?"Authentication error. Please refresh the page":t.message||"An unexpected error occurred",ob=null,hq=()=>(ob||(ob=dq()),ob),gq=t=>e=>({getEntities:()=>e().entities,getEntityById:n=>e().entities.find(i=>i.id===n),getEntitiesByField:(n,i)=>e().entities.filter(r=>r[n]===i),getEntitiesCount:()=>e().entities.length,getLoadingState:()=>e().loading,getErrorState:()=>e().error,isInitialized:()=>e().initialized}),mq=t=>(e,n)=>({setEntities:i=>e({entities:i}),addEntity:i=>{const r=n();e({entities:[i,...r.entities]})},updateEntity:(i,r)=>{const a=n().entities.map(l=>l.id===i?{...l,...r}:l);e({entities:a})},removeEntity:i=>{const s=n().entities.filter(a=>a.id!==i);e({entities:s})},setLoading:i=>e({loading:i}),setError:i=>e({error:i}),setInitialized:i=>e({initialized:i}),reset:()=>e({entities:[],loading:!1,error:null,initialized:!1}),cleanupDuplicates:()=>{const i=n(),r=[],s=new Set;i.entities.forEach(a=>{s.has(a.id)||(s.add(a.id),r.push(a))}),e({entities:r})},sortEntitiesByDate:(i=!1)=>{const s=[...n().entities].sort((a,l)=>{const u=new Date(a.created_at||0),d=new Date(l.created_at||0);return i?u.getTime()-d.getTime():d.getTime()-u.getTime()});e({entities:s})},sortEntitiesByField:(i,r=!0)=>{const a=[...n().entities].sort((l,u)=>{const d=l[i],h=u[i];return d<h?r?-1:1:d>h?r?1:-1:0});e({entities:a})},filterEntitiesByDateRange:(i,r,s="created_at")=>{const a=n(),l=new Date(i),u=new Date(r);return a.entities.filter(d=>{const h=new Date(d[s]);return h>=l&&h<=u})}});function Um(t,e,n,i){const r={entities:[],loading:!1,error:null,initialized:!1},s=(a,l)=>({...r,...gq()(l),...mq()(a,l),...e?e(a,l):{},...n?n(l):{}});return i?kd()(Xk(s,{name:`${t}-store`,...i})):kd()(s)}function pq(t,e){const n={loading:!1,loadingStates:{},error:null,errors:{},modals:{},forms:{},filters:{},notifications:[],sidebarOpen:!1,theme:"system",initialized:!1},i=(r,s)=>({...n,setLoading:a=>r({loading:a}),setLoadingState:(a,l)=>{const u=s();r({loadingStates:{...u.loadingStates,[a]:l}})},getLoadingState:a=>{const l=s();return a?l.loadingStates[a]||!1:l.loading},setError:a=>r({error:a}),setErrorState:(a,l)=>{const u=s();r({errors:{...u.errors,[a]:l}})},getErrorState:a=>{const l=s();return a?l.errors[a]||null:l.error},clearErrors:()=>r({error:null,errors:{}}),openModal:a=>{const l=s();r({modals:{...l.modals,[a]:!0}})},closeModal:a=>{const l=s();r({modals:{...l.modals,[a]:!1}})},toggleModal:a=>{const l=s(),u=l.modals[a]||!1;r({modals:{...l.modals,[a]:!u}})},isModalOpen:a=>s().modals[a]||!1,closeAllModals:()=>r({modals:{}}),setFormData:(a,l)=>{const u=s();r({forms:{...u.forms,[a]:l}})},getFormData:a=>s().forms[a],clearFormData:a=>{const l=s(),{[a]:u,...d}=l.forms;r({forms:d})},clearAllForms:()=>r({forms:{}}),setFilter:(a,l)=>{const u=s();r({filters:{...u.filters,[a]:l}})},getFilter:a=>s().filters[a],clearFilter:a=>{const l=s(),{[a]:u,...d}=l.filters;r({filters:d})},clearAllFilters:()=>r({filters:{}}),addNotification:a=>{const l=s(),u={...a,id:`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};r({notifications:[...l.notifications,u]})},removeNotification:a=>{const l=s();r({notifications:l.notifications.filter(u=>u.id!==a)})},clearNotifications:()=>r({notifications:[]}),setSidebarOpen:a=>r({sidebarOpen:a}),toggleSidebar:()=>{const a=s();r({sidebarOpen:!a.sidebarOpen})},setTheme:a=>r({theme:a}),setInitialized:a=>r({initialized:a}),reset:()=>r(n),...t?t(r,s):{}});return e?kd()(Xk(i,{name:"ui-store",...e})):kd()(i)}const fn=hq(),kn=fq,yq=({children:t})=>R.jsx(tq,{supabaseClient:fn,children:t}),ll=nq;/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),FT=t=>{const e=bq(t);return e.charAt(0).toUpperCase()+e.slice(1)},tM=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),_q=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...l},u)=>A.createElement("svg",{ref:u,...Sq,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:tM("lucide",r),...!s&&!_q(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,h])=>A.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=(t,e)=>{const n=A.forwardRef(({className:i,...r},s)=>A.createElement(wq,{ref:s,iconNode:e,className:tM(`lucide-${vq(FT(t))}`,`lucide-${t}`,i),...r}));return n.displayName=FT(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Eq=to("calendar",xq);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cq=to("chevron-right",Rq);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Aq=to("clock",Tq);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dq=to("file-text",Oq);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Mq=to("house",kq);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Iq=to("log-out",Nq);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],jq=to("rotate-cw",Pq);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fq=to("settings",Lq);function Uq(){const{user:t}=ll(),e=Js(),{isOpen:n}=sq(),[i,r]=A.useState({backlog:e.pathname.startsWith("/backlog"),machinery:e.pathname.startsWith("/machinery"),phases:e.pathname.startsWith("/phases"),scheduler:e.pathname.startsWith("/scheduler")}),s=l=>{r(u=>({...u,[l]:!u[l]}))},a=[{href:"/",label:"Dashboard",icon:Mq},{section:"backlog",label:"Backlog",icon:Dq,subLinks:[{href:"/backlog",label:"Lista Backlog"},{href:"/backlog/add",label:"Nuovo Backlog"}]},{section:"machinery",label:"Macchinari",icon:Fq,subLinks:[{href:"/machinery",label:"Lista Macchinari"},{href:"/machinery/add",label:"Nuovo Macchinario"}]},{section:"phases",label:"Fasi",icon:Aq,subLinks:[{href:"/phases",label:"Lista Fasi"},{href:"/phases/add",label:"Nuova Fase"}]},{href:"/scheduler",label:"Scheduler",icon:Eq}];return t?n?R.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col flex-shrink-0 sticky left-0 z-30",children:[R.jsx("div",{className:"p-4 border-b border-border",children:R.jsx(Pn,{to:"/",className:"flex items-center justify-center",children:R.jsx("img",{className:"h-6",src:"/scheduler-logo.png",alt:"Scheduler"})})}),R.jsxs("div",{className:"flex-1 p-4",children:[R.jsx("h2",{className:"text-xl font-semibold text-secondary-foreground mb-6",children:"Navigation"}),R.jsx("nav",{className:"space-y-2",children:a.map(l=>{if(l.section){const u=i[l.section],d=l.subLinks.some(m=>e.pathname===m.href),h=l.icon;return R.jsxs("div",{children:[R.jsxs("button",{onClick:()=>s(l.section),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[R.jsxs("div",{className:"flex items-center space-x-3",children:[R.jsx(h,{className:"h-5 w-5"}),R.jsx("span",{className:"text-sm font-medium",children:l.label})]}),R.jsx(Cq,{className:`h-4 w-4 transform transition-transform ${u?"rotate-90":""}`})]}),u&&R.jsx("div",{className:"ml-6 mt-2 space-y-1",children:l.subLinks.map(m=>{const p=e.pathname===m.href;return R.jsx(Pn,{to:m.href,className:`block px-3 py-2 rounded-lg text-sm font-medium transition-colors ${p?"bg-primary/5 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent/50"}`,children:m.label},m.href)})})]},l.section)}else{const u=e.pathname===l.href,d=l.icon;return R.jsxs(Pn,{to:l.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${u?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[R.jsx(d,{className:"h-5 w-5"}),R.jsx("span",{className:"text-sm font-medium",children:l.label})]},l.href)}})})]})]}):R.jsx("div",{className:"w-16 bg-secondary shadow-sm border-r border-border min-h-screen",children:R.jsx("div",{className:"flex flex-col items-center py-4 space-y-4",children:a.map(l=>{const u=l.icon,d=e.pathname===l.href;return R.jsx(Pn,{to:l.href||"#",className:`p-3 rounded-lg transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,title:l.label,children:R.jsx(u,{className:"h-6 w-6"})},l.href||l.section)})})}):R.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col",children:[R.jsx("div",{className:"p-4 border-b border-border",children:R.jsx(Pn,{to:"/",className:"flex items-center justify-center",children:R.jsx("img",{className:"h-6",src:"/scheduler-logo.png",alt:"Scheduler"})})}),R.jsxs("div",{className:"flex-1 p-4",children:[R.jsx("h3",{className:"text-xs font-semibold text-secondary-foreground uppercase tracking-wider mb-4",children:"NAVIGATION"}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(Pn,{to:"/login",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:R.jsx("span",{className:"font-medium",children:"Accedi"})}),R.jsx(Pn,{to:"/signup",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:R.jsx("span",{className:"font-medium",children:"Registrati"})})]})]})]})}function zq(){const{user:t,signOut:e}=ll();return R.jsx("header",{className:"bg-secondary border-b border-border",children:R.jsx("div",{className:"px-4",children:R.jsxs("div",{className:"flex justify-between items-center flex-1 h-12",children:[R.jsxs(Pn,{to:"/",className:"flex items-center gap-2 text-secondary-foreground no-underline",children:[R.jsx("img",{className:"h-6",src:"/scheduler-logo.png",alt:"Scheduler"}),R.jsx("h1",{className:"text-xl font-semibold",children:"Scheduler"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(Q5,{}),R.jsx(Jt,{onClick:()=>window.location.reload(),variant:"ghost",size:"icon",className:"hidden sm:inline-flex",children:R.jsx(jq,{className:"h-4 w-4"})}),R.jsx(Jt,{onClick:()=>e(),variant:"ghost",size:"icon",children:R.jsx(Iq,{className:"h-4 w-4"})})]})]})})})}const as=Um("machines",(t,e)=>({getMachinesByWorkCenter:n=>{const i=e();return n==="BOTH"?i.entities:i.entities.filter(r=>r.work_center===n)},getAvailableMachines:()=>e().entities.filter(i=>i.status==="available"),getMachineById:n=>e().entities.find(r=>r.id===n),updateMachineStatus:(n,i)=>{const s=e().entities.map(a=>a.id===n?{...a,status:i,updated_at:new Date().toISOString()}:a);t({entities:s})},getMachineStats:()=>{const n=e(),i={total:n.entities.length,byStatus:{},byWorkCenter:{}};return n.entities.forEach(r=>{i.byStatus[r.status]=(i.byStatus[r.status]||0)+1,i.byWorkCenter[r.work_center]=(i.byWorkCenter[r.work_center]||0)+1}),i}}),t=>({}),{partialize:t=>({entities:t.entities,initialized:t.initialized})}),li=Um("orders",(t,e)=>({getScheduledOrders:()=>e().entities.filter(i=>i.status==="SCHEDULED"),getUnscheduledOrders:()=>e().entities.filter(i=>i.status!=="SCHEDULED"&&i.duration>0&&i.cost>0),getOrdersByWorkCenter:n=>{const i=e();return n==="BOTH"?i.entities:i.entities.filter(r=>r.work_center===n)},getOrderById:n=>e().entities.find(r=>r.id===n),scheduleOrder:(n,i)=>{const s=e().entities.map(a=>a.id===n?{...a,...i,status:"SCHEDULED",updated_at:new Date().toISOString()}:a);t({entities:s})},unscheduleOrder:n=>{const r=e().entities.map(s=>s.id===n?{...s,status:"NOT SCHEDULED",scheduled_start_time:null,scheduled_end_time:null,machine_id:null,updated_at:new Date().toISOString()}:s);t({entities:r})},bulkScheduleOrders:n=>{const r=e().entities.map(s=>{const a=n.find(l=>l.id===s.id);return a?{...s,...a.data,status:"SCHEDULED",updated_at:new Date().toISOString()}:s});t({entities:r})},getOrderStats:()=>{const n=e(),i={total:n.entities.length,scheduled:0,unscheduled:0,byWorkCenter:{}};return n.entities.forEach(r=>{r.status==="SCHEDULED"?i.scheduled++:i.unscheduled++,i.byWorkCenter[r.work_center]=(i.byWorkCenter[r.work_center]||0)+1}),i}}),t=>({}),{partialize:t=>({entities:t.entities,initialized:t.initialized})}),Kg=Um("phases",(t,e)=>({getPhasesByWorkCenter:n=>e().entities.filter(r=>r.work_center===n),getPhaseById:n=>e().entities.find(r=>r.id===n),searchPhases:n=>{const i=e();if(!n)return i.entities;const r=n.toLowerCase();return i.entities.filter(s=>s.phase_name?.toLowerCase().includes(r)||s.description?.toLowerCase().includes(r))},updatePhaseDetails:(n,i)=>{const s=e().entities.map(a=>a.id===n?{...a,...i,updated_at:new Date().toISOString()}:a);t({entities:s})},getPhaseStats:()=>{const n=e(),i={total:n.entities.length,byWorkCenter:{}};return n.entities.forEach(r=>{i.byWorkCenter[r.work_center]=(i.byWorkCenter[r.work_center]||0)+1}),i}}),t=>({}),{partialize:t=>({entities:t.entities,initialized:t.initialized})}),vn=pq((t,e)=>({selectedWorkCenter:"BOTH",isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,taskId:null},conflictDialog:{isOpen:!1,conflictingTasks:[],newTask:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null},setSelectedWorkCenter:n=>t({selectedWorkCenter:n}),setEditMode:n=>t({isEditMode:n}),toggleEditMode:()=>t(n=>({isEditMode:!n.isEditMode})),setSchedulingLoading:n=>{const i=e();t({schedulingLoading:{...i.schedulingLoading,...n}})},startSchedulingOperation:(n=null,i=null)=>{t({schedulingLoading:{isScheduling:n==="schedule",isRescheduling:n==="reschedule",isShunting:n==="shunt",isNavigating:n==="navigate",operationType:n,taskId:i}})},stopSchedulingOperation:()=>{t({schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null}})},setConflictDialog:n=>{const i=e();t({conflictDialog:{...i.conflictDialog,...n}})},setDragPreview:n=>{t({dragPreview:n})},clearDragPreview:()=>{t({dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}})},openConflictDialog:(n,i)=>{t({conflictDialog:{isOpen:!0,conflictingTasks:n,newTask:i}})},closeConflictDialog:()=>{t({conflictDialog:{isOpen:!1,conflictingTasks:[],newTask:null}})},showConflictDialog:n=>{t({conflictDialog:{isOpen:!0,details:n}})},hideConflictDialog:()=>{t({conflictDialog:{isOpen:!1,details:null}})},showSchedulerAlert:(n,i="info",r=5e3)=>{const s=e(),a={type:i,message:n,timestamp:Date.now()};s.addNotification(a),r>0&&setTimeout(()=>{s.removeNotification(a.id)},r)},showConfirmDialog:(n,i,r,s="info")=>{const a=e();a.setFormData("confirmDialog",{isOpen:!0,title:n,message:i,onConfirm:r,type:s}),a.openModal("confirmDialog")},closeConfirmDialog:()=>{const n=e();n.clearFormData("confirmDialog"),n.closeModal("confirmDialog")},getInitializationState:()=>e().initialized,getLoadingState:n=>{const i=e();return n?i.loadingStates[n]||!1:i.loading}}),{partialize:t=>({selectedWorkCenter:t.selectedWorkCenter,theme:t.theme,sidebarOpen:t.sidebarOpen,filters:t.filters})}),no=Um("main",(t,e)=>({init:async()=>{try{const n=vn.getState();n.setLoading(!0),n.setInitialized(!0),n.setLoading(!1),n.showSchedulerAlert("Application initialized successfully with modern architecture","success")}catch(n){const i=vn.getState();throw i.setLoading(!1),i.showSchedulerAlert("Failed to initialize application","error"),n}},refreshData:()=>{console.warn("refreshData is deprecated. Use React Query invalidation instead.")},reset:()=>{as.getState().reset(),li.getState().reset(),Kg.getState().reset(),vn.getState().reset()},cleanup:()=>{console.log("Cleanup handled by modern architecture")},getState:()=>{const n=as.getState(),i=li.getState(),r=Kg.getState(),s=vn.getState();return{machines:n.entities,odpOrders:i.entities,phases:r.entities,isLoading:s.loading,isInitialized:s.initialized}}})),UT=t=>{let e;const n=new Set,i=(d,h)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const p=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(y=>y(e,p))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(i,r,l);return l},Hq=(t=>t?UT(t):UT),Bq=t=>t;function $q(t,e=Bq){const n=re.useSyncExternalStore(t.subscribe,re.useCallback(()=>e(t.getState()),[t,e]),re.useCallback(()=>e(t.getInitialState()),[t,e]));return re.useDebugValue(n),n}const zT=t=>{const e=Hq(t),n=i=>$q(e,i);return Object.assign(n,e),n},zm=(t=>t?zT(t):zT),Vq={APP:{FIRST_DAY_OF_WEEK:1}},qq=Object.prototype.toString;function Wq(t,e){return qq.call(t)===`[object ${e}]`}function nM(t){return Wq(t,"Object")}function H_(t){return!!(t&&t.then&&typeof t.then=="function")}function Gq(t){return typeof t=="number"&&t!==t}function Yh(t){return t&&t.Math==Math?t:void 0}const Jn=typeof globalThis=="object"&&Yh(globalThis)||typeof window=="object"&&Yh(window)||typeof self=="object"&&Yh(self)||typeof global=="object"&&Yh(global)||(function(){return this})()||{};function iM(t,e,n){const i=n||Jn,r=i.__SENTRY__=i.__SENTRY__||{};return r[t]||(r[t]=e())}const rM=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Yq="Sentry Logger ",HT=["debug","info","warn","error","log","assert","trace"],BT={};function sM(t){if(!("console"in Jn))return t();const e=Jn.console,n={},i=Object.keys(BT);i.forEach(r=>{const s=BT[r];n[r]=e[r],e[r]=s});try{return t()}finally{i.forEach(r=>{e[r]=n[r]})}}function Qq(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return rM?HT.forEach(n=>{e[n]=(...i)=>{t&&sM(()=>{Jn.console[n](`${Yq}[${n}]:`,...i)})}}):HT.forEach(n=>{e[n]=()=>{}}),e}const on=Qq();function Lr(t){return T0(t,new Map)}function T0(t,e){if(Kq(t)){const n=e.get(t);if(n!==void 0)return n;const i={};e.set(t,i);for(const r of Object.keys(t))typeof t[r]<"u"&&(i[r]=T0(t[r],e));return i}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const i=[];return e.set(t,i),t.forEach(r=>{i.push(T0(r,e))}),i}return t}function Kq(t){if(!nM(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const lb="<anonymous>";function Xq(t){try{return!t||typeof t!="function"?lb:t.name||lb}catch{return lb}}const Eg={},$T={};function aM(t,e){Eg[t]=Eg[t]||[],Eg[t].push(e)}function oM(t,e){$T[t]||(e(),$T[t]=!0)}function lM(t,e){const n=t&&Eg[t];if(n)for(const i of n)try{i(e)}catch(r){rM&&on.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Xq(i)}
Error:`,r)}}function Pi(){const t=Jn,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,i=>(i^(n()&15)>>i/4).toString(16))}function Zq(t){return Array.isArray(t)?t:[t]}let Qh=null;function Jq(t){const e="error";aM(e,t),oM(e,e4)}function e4(){Qh=Jn.onerror,Jn.onerror=function(t,e,n,i,r){return lM("error",{column:i,error:r,line:n,msg:t,url:e}),Qh&&!Qh.__SENTRY_LOADER__?Qh.apply(this,arguments):!1},Jn.onerror.__SENTRY_INSTRUMENTED__=!0}let Kh=null;function t4(t){const e="unhandledrejection";aM(e,t),oM(e,n4)}function n4(){Kh=Jn.onunhandledrejection,Jn.onunhandledrejection=function(t){return lM("unhandledrejection",t),Kh&&!Kh.__SENTRY_LOADER__?Kh.apply(this,arguments):!0},Jn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function i4(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function r4(){return!i4()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Wo(t,e){return t.require(e)}function s4(t){let e;try{e=Wo(module,t)}catch{}try{const{cwd:n}=Wo(module,"process");e=Wo(module,`${n()}/node_modules/${t}`)}catch{}return e}var Fs;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const i=2;t[t.REJECTED=i]="REJECTED"})(Fs||(Fs={}));class Na{constructor(e){Na.prototype.__init.call(this),Na.prototype.__init2.call(this),Na.prototype.__init3.call(this),Na.prototype.__init4.call(this),this._state=Fs.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Na((i,r)=>{this._handlers.push([!1,s=>{if(!e)i(s);else try{i(e(s))}catch(a){r(a)}},s=>{if(!n)r(s);else try{i(n(s))}catch(a){r(a)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Na((n,i)=>{let r,s;return this.then(a=>{s=!1,r=a,e&&e()},a=>{s=!0,r=a,e&&e()}).then(()=>{if(s){i(r);return}n(r)})})}__init(){this._resolve=e=>{this._setResult(Fs.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Fs.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===Fs.PENDING){if(H_(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Fs.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Fs.RESOLVED&&n[1](this._value),this._state===Fs.REJECTED&&n[2](this._value),n[0]=!0)})}}}const cM=1e3;function B_(){return Date.now()/cM}function a4(){const{performance:t}=Jn;if(!t||!t.now)return B_;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/cM}const Hm=a4();(()=>{const{performance:t}=Jn;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),i=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,s=r<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number"?Math.abs(a+n-i):e,d=u<e;return s||d?r<=u?t.timeOrigin:a:i})();function o4(t=Pi(),e=Pi().substring(16),n){let i="";return n!==void 0&&(i=n?"-1":"-0"),`${t}-${e}${i}`}const qn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,uM="production";function l4(){return iM("globalEventProcessors",()=>[])}function A0(t,e,n,i=0){return new Na((r,s)=>{const a=t[i];if(e===null||typeof a!="function")r(e);else{const l=a({...e},n);qn&&a.id&&l===null&&on.log(`Event processor "${a.id}" dropped event`),H_(l)?l.then(u=>A0(t,u,n,i+1).then(r)).then(null,s):A0(t,l,n,i+1).then(r).then(null,s)}})}function c4(t){const e=Hm(),n={sid:Pi(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>d4(n)};return t&&Bm(n,t),n}function Bm(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Hm(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Pi()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function u4(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Bm(t,n)}function d4(t){return Lr({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const f4=0,dM=1;function $_(t){const{spanId:e,traceId:n}=t.spanContext(),{data:i,op:r,parent_span_id:s,status:a,tags:l,origin:u}=Ya(t);return Lr({data:i,op:r,parent_span_id:s,span_id:e,status:a,tags:l,trace_id:n,origin:u})}function fM(t){const{traceId:e,spanId:n}=t.spanContext(),i=gM(t);return o4(e,n,i)}function hM(t){return typeof t=="number"?VT(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?VT(t.getTime()):Hm()}function VT(t){return t>9999999999?t/1e3:t}function Ya(t){return h4(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function h4(t){return typeof t.getSpanJSON=="function"}function gM(t){const{traceFlags:e}=t.spanContext();return!!(e&dM)}function mM(){return $m().getClient()}function g4(){return $m().getScope()}function Xg(t){return t.transaction}function m4(t,e,n){const i=e.getOptions(),{publicKey:r}=e.getDsn()||{},{segment:s}=n&&n.getUser()||{},a=Lr({environment:i.environment||uM,release:i.release,user_segment:s,public_key:r,trace_id:t});return e.emit&&e.emit("createDsc",a),a}function O0(t){const e=mM();if(!e)return{};const n=m4(Ya(t).trace_id||"",e,g4()),i=Xg(t);if(!i)return n;const r=i&&i._frozenDynamicSamplingContext;if(r)return r;const{sampleRate:s,source:a}=i.metadata;s!=null&&(n.sample_rate=`${s}`);const l=Ya(i);return a&&a!=="url"&&(n.transaction=l.description),n.sampled=String(gM(i)),e.emit&&e.emit("createDsc",n),n}function p4(t,e){const{fingerprint:n,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=e;y4(t,e),i&&_4(t,i),S4(t,n),v4(t,r),b4(t,s)}function y4(t,e){const{extra:n,tags:i,user:r,contexts:s,level:a,transactionName:l}=e,u=Lr(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const d=Lr(i);d&&Object.keys(d).length&&(t.tags={...d,...t.tags});const h=Lr(r);h&&Object.keys(h).length&&(t.user={...h,...t.user});const m=Lr(s);m&&Object.keys(m).length&&(t.contexts={...m,...t.contexts}),a&&(t.level=a),l&&(t.transaction=l)}function v4(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function b4(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function _4(t,e){t.contexts={trace:$_(e),...t.contexts};const n=Xg(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:O0(e),...t.sdkProcessingMetadata};const i=Ya(n).description;i&&(t.tags={transaction:i,...t.tags})}}function S4(t,e){t.fingerprint=t.fingerprint?Zq(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const w4=100;class _c{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=qT()}static clone(e){return e?e.clone():new _c}clone(){const e=new _c;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Bm(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof _c){const i=n.getScopeData();this._tags={...this._tags,...i.tags},this._extra={...this._extra,...i.extra},this._contexts={...this._contexts,...i.contexts},i.user&&Object.keys(i.user).length&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint.length&&(this._fingerprint=i.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),i.propagationContext&&(this._propagationContext=i.propagationContext)}else if(nM(n)){const i=e;this._tags={...this._tags,...i.tags},this._extra={...this._extra,...i.extra},this._contexts={...this._contexts,...i.contexts},i.user&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint&&(this._fingerprint=i.fingerprint),i.requestSession&&(this._requestSession=i.requestSession),i.propagationContext&&(this._propagationContext=i.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=qT(),this}addBreadcrumb(e,n){const i=typeof n=="number"?n:w4;if(i<=0)return this;const r={timestamp:B_(),...e},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>i?s.slice(-i):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:i,_tags:r,_extra:s,_user:a,_level:l,_fingerprint:u,_eventProcessors:d,_propagationContext:h,_sdkProcessingMetadata:m,_transactionName:p,_span:y}=this;return{breadcrumbs:e,attachments:n,contexts:i,tags:r,extra:s,user:a,level:l,fingerprint:u||[],eventProcessors:d,propagationContext:h,sdkProcessingMetadata:m,transactionName:p,span:y}}applyToEvent(e,n={},i=[]){p4(e,this.getScopeData());const r=[...i,...l4(),...this._eventProcessors];return A0(r,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const i=n&&n.event_id?n.event_id:Pi();if(!this._client)return on.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...n,event_id:i},this),i}captureMessage(e,n,i){const r=i&&i.event_id?i.event_id:Pi();if(!this._client)return on.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r},this),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:Pi();return this._client?(this._client.captureEvent(e,{...n,event_id:i},this),i):(on.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function qT(){return{traceId:Pi(),spanId:Pi().substring(16)}}const x4="7.120.4",pM=parseFloat(x4),E4=100;class yM{constructor(e,n,i,r=pM){this._version=r;let s;n?s=n:(s=new _c,s.setClient(e));let a;i?a=i:(a=new _c,a.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=a}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let i;try{i=e(n)}catch(r){throw this.popScope(),r}return H_(i)?i.then(r=>(this.popScope(),r),r=>{throw this.popScope(),r}):(this.popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const i=this._lastEventId=n&&n.event_id?n.event_id:Pi(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...n,event_id:i}),i}captureMessage(e,n,i){const r=this._lastEventId=i&&i.event_id?i.event_id:Pi(),s=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r}),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:Pi();return e.type||(this._lastEventId=i),this.getScope().captureEvent(e,{...n,event_id:i}),i}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:i,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=E4}=r.getOptions&&r.getOptions()||{};if(a<=0)return;const u={timestamp:B_(),...e},d=s?sM(()=>s(u,n)):u;d!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",d,n),i.addBreadcrumb(d,a))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:i}=this.getStackTop();i&&e(n)}run(e){const n=WT(this);try{e(this)}finally{WT(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return qn&&on.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const i=this._callExtensionMethod("startTransaction",e,n);return qn&&!i&&(this.getClient()?on.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):on.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),i}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,i=n.getSession();i&&u4(i),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:i}=this.getStackTop(),{release:r,environment:s=uM}=i&&i.getOptions()||{},{userAgent:a}=Jn.navigator||{},l=c4({release:r,environment:s,user:n.getUser(),...a&&{userAgent:a},...e}),u=n.getSession&&n.getSession();return u&&u.status==="ok"&&Bm(u,{status:"exited"}),this.endSession(),n.setSession(l),l}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),i=e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}_callExtensionMethod(e,...n){const r=Vc().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,n);qn&&on.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Vc(){return Jn.__SENTRY__=Jn.__SENTRY__||{extensions:{},hub:void 0},Jn}function WT(t){const e=Vc(),n=D0(e);return vM(e,t),n}function $m(){const t=Vc();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return R4(t)}function R4(t=Vc()){return(!C4(t)||D0(t).isOlderThan(pM))&&vM(t,new yM),D0(t)}function C4(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function D0(t){return iM("hub",()=>new yM,t)}function vM(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function T4(t){return(t||$m()).getScope().getTransaction()}let GT=!1;function A4(){GT||(GT=!0,Jq(k0),t4(k0))}function k0(){const t=T4();if(t){const e="internal_error";qn&&on.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}k0.tag="sentry_tracingErrorCallback";var YT;(function(t){t.Ok="ok";const n="deadline_exceeded";t.DeadlineExceeded=n;const i="unauthenticated";t.Unauthenticated=i;const r="permission_denied";t.PermissionDenied=r;const s="not_found";t.NotFound=s;const a="resource_exhausted";t.ResourceExhausted=a;const l="invalid_argument";t.InvalidArgument=l;const u="unimplemented";t.Unimplemented=u;const d="unavailable";t.Unavailable=d;const h="internal_error";t.InternalError=h;const m="unknown_error";t.UnknownError=m;const p="cancelled";t.Cancelled=p;const y="already_exists";t.AlreadyExists=y;const b="failed_precondition";t.FailedPrecondition=b;const _="aborted";t.Aborted=_;const w="out_of_range";t.OutOfRange=w;const x="data_loss";t.DataLoss=x})(YT||(YT={}));function O4(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function D4(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=O4(e);n!=="unknown_error"&&t.setStatus(n)}function k4(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=mM(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}const M4="_sentryScope",N4="_sentryIsolationScope";function I4(t){return{scope:t[M4],isolationScope:t[N4]}}const cb="sentry.source",mc="sentry.sample_rate",Xh="sentry.op",Zh="sentry.origin",P4="profile_id";class j4{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class V_{constructor(e={}){this._traceId=e.traceId||Pi(),this._spanId=e.spanId||Pi().substring(16),this._startTime=e.startTimestamp||Hm(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Zh]:e.origin||"manual",[Xh]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[Xh]}set op(e){this.setAttribute(Xh,e)}get origin(){return this._attributes[Zh]}set origin(e){this.setAttribute(Zh,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:i}=this;return{spanId:e,traceId:n,traceFlags:i?dM:f4}}startChild(e){const n=new V_({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const i=Xg(this);if(n.transaction=i,qn&&i){const r=e&&e.op||"< unknown op >",s=Ya(n).description||"< unknown name >",a=i.spanContext().spanId,l=`[Tracing] Starting '${r}' span on transaction '${s}' (${a}).`;on.log(l),this._logMessage=l}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return D4(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=Xg(this);if(qn&&n&&n.spanContext().spanId!==this._spanId){const i=this._logMessage;i&&on.log(i.replace("Starting","Finishing"))}this._endTime=hM(e)}toTraceparent(){return fM(this)}toContext(){return Lr({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return $_(this)}getSpanJSON(){return Lr({data:this._getData(),description:this._name,op:this._attributes[Xh],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Zh],_metrics_summary:void 0,profile_id:this._attributes[P4],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,i=Object.keys(e).length>0,r=Object.keys(n).length>0;if(!(!i&&!r))return i&&r?{...e,...n}:i?e:n}}class L4 extends V_{constructor(e,n){super(e),this._contexts={},this._hub=n||$m(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const i=this._metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext={...i})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[cb]&&{source:this._attributes[cb]},...this._attributes[mc]&&{sampleRate:this._attributes[mc]}}}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(cb,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new j4(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,i=""){this._measurements[e]={value:n,unit:i}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const n=hM(e),i=this._finishTransaction(n);if(i)return this._hub.captureEvent(i)}toContext(){const e=super.toContext();return Lr({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return O0(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(qn&&on.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){qn&&on.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const i=this.spanRecorder?this.spanRecorder.spans.filter(h=>h!==this&&Ya(h).timestamp):[];if(this._trimEnd&&i.length>0){const h=i.map(m=>Ya(m).timestamp).filter(Boolean);this._endTime=h.reduce((m,p)=>m>p?m:p)}const{scope:r,isolationScope:s}=I4(this),{metadata:a}=this,{source:l}=a,u={contexts:{...this._contexts,trace:$_(this)},spans:i,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...a,capturedSpanScope:r,capturedSpanIsolationScope:s,...Lr({dynamicSamplingContext:O0(this)})},_metrics_summary:void 0,...l&&{transaction_info:{source:l}}};return Object.keys(this._measurements).length>0&&(qn&&on.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),u.measurements=this._measurements),qn&&on.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),u}}function F4(t,e,n){if(!k4(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(mc,Number(t.sampled)),t;let i;return typeof e.tracesSampler=="function"?(i=e.tracesSampler(n),t.setAttribute(mc,Number(i))):n.parentSampled!==void 0?i=n.parentSampled:typeof e.tracesSampleRate<"u"?(i=e.tracesSampleRate,t.setAttribute(mc,Number(i))):(i=1,t.setAttribute(mc,i)),U4(i)?i?(t.sampled=Math.random()<i,t.sampled?(qn&&on.log(`[Tracing] starting ${t.op} transaction - ${Ya(t).description}`),t):(qn&&on.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),t)):(qn&&on.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(qn&&on.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function U4(t){return Gq(t)||!(typeof t=="number"||typeof t=="boolean")?(qn&&on.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(qn&&on.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function z4(){const e=this.getScope().getSpan();return e?{"sentry-trace":fM(e)}:{}}function H4(t,e){const n=this.getClient(),i=n&&n.getOptions()||{},r=i.instrumenter||"sentry",s=t.instrumenter||"sentry";r!==s&&(qn&&on.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${r}\` instrumenter.
The transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),t.sampled=!1);let a=new L4(t,this);return a=F4(a,i,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),a.isRecording()&&a.initSpanRecorder(i._experiments&&i._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function B4(){const t=Vc();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=H4),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=z4),A4())}function $4(){const t=Vc();if(!t.__SENTRY__)return;const e={mongodb(){const i=Wo(module,"./node/integrations/mongo");return new i.Mongo},mongoose(){const i=Wo(module,"./node/integrations/mongo");return new i.Mongo},mysql(){const i=Wo(module,"./node/integrations/mysql");return new i.Mysql},pg(){const i=Wo(module,"./node/integrations/postgres");return new i.Postgres}},n=Object.keys(e).filter(i=>!!s4(i)).map(i=>{try{return e[i]()}catch{return}}).filter(i=>i);n.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...n])}function V4(){B4(),r4()&&$4()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&V4();const Ke={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"},QT={[Ke.VALIDATION_ERROR]:"I dati inseriti non sono validi. Controlla i campi evidenziati.",[Ke.NETWORK_ERROR]:"Errore di connessione. Verifica la tua connessione internet.",[Ke.AUTHENTICATION_ERROR]:"Sessione scaduta. Effettua nuovamente l'accesso.",[Ke.AUTHORIZATION_ERROR]:"Non hai i permessi per eseguire questa operazione.",[Ke.NOT_FOUND_ERROR]:"La risorsa richiesta non  stata trovata.",[Ke.SERVER_ERROR]:"Errore del server. Riprova pi tardi.",[Ke.BUSINESS_LOGIC_ERROR]:"Operazione non consentita dalle regole di business.",[Ke.UNKNOWN_ERROR]:"Si  verificato un errore imprevisto."};class pt extends Error{constructor(e,n=Ke.UNKNOWN_ERROR,i=500,r={}){super(e),this.name="AppError",this.type=n,this.statusCode=i,this.context=r,this.timestamp=new Date().toISOString(),this.userMessage=QT[n]||QT[Ke.UNKNOWN_ERROR]}toJSON(){return{message:this.message,type:this.type,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage}}}const bM=6048e5,q4=864e5,W4=36e5,KT=Symbol.for("constructDateFrom");function os(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&KT in t?t[KT](e):t instanceof Date?new t.constructor(e):new Date(e)}function ei(t,e){return os(e||t,t)}function sf(t,e,n){const i=ei(t,n?.in);return isNaN(e)?os(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function G4(t,e,n){return os(t,+ei(t)+e)}function XT(t,e,n){return G4(t,e*W4)}let Y4={};function Vm(){return Y4}function tl(t,e){const n=Vm(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=ei(t,e?.in),s=r.getDay(),a=(s<i?7:0)+s-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function Zg(t,e){return tl(t,{...e,weekStartsOn:1})}function _M(t,e){const n=ei(t,e?.in),i=n.getFullYear(),r=os(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const s=Zg(r),a=os(n,0);a.setFullYear(i,0,4),a.setHours(0,0,0,0);const l=Zg(a);return n.getTime()>=s.getTime()?i+1:n.getTime()>=l.getTime()?i:i-1}function ZT(t){const e=ei(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Q4(t,...e){const n=os.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function JT(t,e){const n=ei(t,e?.in);return n.setHours(0,0,0,0),n}function K4(t,e,n){const[i,r]=Q4(n?.in,t,e),s=JT(i),a=JT(r),l=+s-ZT(s),u=+a-ZT(a);return Math.round((l-u)/q4)}function X4(t,e){const n=_M(t,e),i=os(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Zg(i)}function SM(t,e,n){return sf(t,e*7,n)}function Z4(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function J4(t){return!(!Z4(t)&&typeof t!="number"||isNaN(+ei(t)))}function e6(t,e){const n=ei(t,e?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function wM(t,e){const n=ei(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const t6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n6=(t,e,n)=>{let i;const r=t6[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function ub(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const i6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},r6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},s6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a6={date:ub({formats:i6,defaultWidth:"full"}),time:ub({formats:r6,defaultWidth:"full"}),dateTime:ub({formats:s6,defaultWidth:"full"})},o6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l6=(t,e,n,i)=>o6[t];function Qu(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;r=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const c6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},h6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m6=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},p6={ordinalNumber:m6,era:Qu({values:c6,defaultWidth:"wide"}),quarter:Qu({values:u6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qu({values:d6,defaultWidth:"wide"}),day:Qu({values:f6,defaultWidth:"wide"}),dayPeriod:Qu({values:h6,defaultWidth:"wide",formattingValues:g6,defaultFormattingWidth:"wide"})};function Ku(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const a=s[0],l=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?v6(l,m=>m.test(a)):y6(l,m=>m.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function y6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function v6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function b6(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(r.length);return{value:a,rest:l}}}const _6=/^(\d+)(th|st|nd|rd)?/i,S6=/\d+/i,w6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x6={any:[/^b/i,/^(a|c)/i]},E6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},R6={any:[/1/i,/2/i,/3/i,/4/i]},C6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},T6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},A6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},D6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},M6={ordinalNumber:b6({matchPattern:_6,parsePattern:S6,valueCallback:t=>parseInt(t,10)}),era:Ku({matchPatterns:w6,defaultMatchWidth:"wide",parsePatterns:x6,defaultParseWidth:"any"}),quarter:Ku({matchPatterns:E6,defaultMatchWidth:"wide",parsePatterns:R6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ku({matchPatterns:C6,defaultMatchWidth:"wide",parsePatterns:T6,defaultParseWidth:"any"}),day:Ku({matchPatterns:A6,defaultMatchWidth:"wide",parsePatterns:O6,defaultParseWidth:"any"}),dayPeriod:Ku({matchPatterns:D6,defaultMatchWidth:"any",parsePatterns:k6,defaultParseWidth:"any"})},N6={code:"en-US",formatDistance:n6,formatLong:a6,formatRelative:l6,localize:p6,match:M6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I6(t,e){const n=ei(t,e?.in);return K4(n,wM(n))+1}function P6(t,e){const n=ei(t,e?.in),i=+Zg(n)-+X4(n);return Math.round(i/bM)+1}function xM(t,e){const n=ei(t,e?.in),i=n.getFullYear(),r=Vm(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=os(e?.in||t,0);a.setFullYear(i+1,0,s),a.setHours(0,0,0,0);const l=tl(a,e),u=os(e?.in||t,0);u.setFullYear(i,0,s),u.setHours(0,0,0,0);const d=tl(u,e);return+n>=+l?i+1:+n>=+d?i:i-1}function j6(t,e){const n=Vm(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=xM(t,e),s=os(e?.in||t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),tl(s,e)}function L6(t,e){const n=ei(t,e?.in),i=+tl(n,e)-+j6(n,e);return Math.round(i/bM)+1}function At(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Da={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return At(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):At(n+1,2)},d(t,e){return At(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return At(t.getHours()%12||12,e.length)},H(t,e){return At(t.getHours(),e.length)},m(t,e){return At(t.getMinutes(),e.length)},s(t,e){return At(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return At(r,e.length)}},oc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eA={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Da.y(t,e)},Y:function(t,e,n,i){const r=xM(t,i),s=r>0?r:1-r;if(e==="YY"){const a=s%100;return At(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):At(s,e.length)},R:function(t,e){const n=_M(t);return At(n,e.length)},u:function(t,e){const n=t.getFullYear();return At(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return At(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return At(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Da.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return At(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=L6(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):At(r,e.length)},I:function(t,e,n){const i=P6(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):At(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Da.d(t,e)},D:function(t,e,n){const i=I6(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):At(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return At(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return At(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return At(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=oc.noon:i===0?r=oc.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=oc.evening:i>=12?r=oc.afternoon:i>=4?r=oc.morning:r=oc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Da.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Da.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):At(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):At(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Da.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Da.s(t,e)},S:function(t,e){return Da.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return nA(i);case"XXXX":case"XX":return Io(i);case"XXXXX":case"XXX":default:return Io(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return nA(i);case"xxxx":case"xx":return Io(i);case"xxxxx":case"xxx":default:return Io(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+tA(i,":");case"OOOO":default:return"GMT"+Io(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+tA(i,":");case"zzzz":default:return"GMT"+Io(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return At(i,e.length)},T:function(t,e,n){return At(+t,e.length)}};function tA(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+At(s,2)}function nA(t,e){return t%60===0?(t>0?"-":"+")+At(Math.abs(t)/60,2):Io(t,e)}function Io(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=At(Math.trunc(i/60),2),s=At(i%60,2);return n+r+e+s}const iA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},EM=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},F6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return iA(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",iA(i,e)).replace("{{time}}",EM(r,e))},U6={p:EM,P:F6},z6=/^D+$/,H6=/^Y+$/,B6=["D","DD","YY","YYYY"];function $6(t){return z6.test(t)}function V6(t){return H6.test(t)}function q6(t,e,n){const i=W6(t,e,n);if(console.warn(i),B6.includes(t))throw new RangeError(i)}function W6(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const G6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Y6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Q6=/^'([^]*?)'?$/,K6=/''/g,X6=/[a-zA-Z]/;function Wn(t,e,n){const i=Vm(),r=i.locale??N6,s=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,l=ei(t,n?.in);if(!J4(l))throw new RangeError("Invalid time value");let u=e.match(Y6).map(h=>{const m=h[0];if(m==="p"||m==="P"){const p=U6[m];return p(h,r.formatLong)}return h}).join("").match(G6).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const m=h[0];if(m==="'")return{isToken:!1,value:Z6(h)};if(eA[m])return{isToken:!0,value:h};if(m.match(X6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:r};return u.map(h=>{if(!h.isToken)return h.value;const m=h.value;(V6(m)||$6(m))&&q6(m,e,String(t));const p=eA[m[0]];return p(l,m,r.localize,d)}).join("")}function Z6(t){const e=t.match(Q6);return e?e[1].replace(K6,"'"):t}function J6(t,e){return ei(t,e?.in).getDay()}function eW(t,e){return+ei(t)>+ei(e)}function tW(t,e,n){return SM(t,-1,n)}class nW{async init(){try{const{error:e}=await fn.from("machines").select("count").limit(1);if(e)throw new pt(`API initialization failed: ${e.message}`,Ke.SERVER_ERROR,500,e,"API.init");return!0}catch(e){throw e instanceof pt?e:new pt(`API initialization failed: ${e.message}`,Ke.SERVER_ERROR,500,e,"API.init")}}async getMachines(){try{const{data:e,error:n}=await fn.from("machines").select("*").order("machine_name");if(n)throw n;return e||[]}catch(e){throw new pt(`Failed to get machines: ${e.message}`,Ke.SERVER_ERROR,500,e,"API.getMachines")}}async addMachine(e){try{const{data:n,error:i}=await fn.from("machines").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new pt(`Failed to add machine: ${kn(n)}`,Ke.SERVER_ERROR,500,n,"API.addMachine")}}async updateMachine(e,n){try{const{data:i,error:r}=await fn.from("machines").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new pt(`Failed to update machine: ${kn(i)}`,Ke.SERVER_ERROR,500,i,"API.updateMachine")}}async removeMachine(e){try{const{error:n}=await fn.from("machines").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new pt(`Failed to remove machine: ${kn(n)}`,Ke.SERVER_ERROR,500,n,"API.removeMachine")}}async getOdpOrders(){try{const{data:e,error:n}=await fn.from("odp_orders").select("*").order("created_at",{ascending:!1});if(n)throw n;return e||[]}catch(e){throw new pt(`Failed to fetch ODP orders: ${kn(e)}`,Ke.SERVER_ERROR,500,e,"API.getOdpOrders")}}async getOdpOrder(e){try{const{data:n,error:i}=await fn.from("odp_orders").select("*").eq("id",e).single();if(i)throw i;return n}catch(n){throw new pt(`Failed to fetch ODP order: ${kn(n)}`,Ke.SERVER_ERROR,500,n,"API.getOdpOrder")}}async addOdpOrder(e){try{const{data:n,error:i}=await fn.from("odp_orders").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new pt(`Failed to add ODP order: ${kn(n)}`,Ke.SERVER_ERROR,500,n,"API.addOdpOrder")}}async updateOdpOrder(e,n){try{const{data:i,error:r}=await fn.from("odp_orders").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new pt(`Failed to update ODP order: ${kn(i)}`,Ke.SERVER_ERROR,500,i,"API.updateOdpOrder")}}async removeOdpOrder(e){try{const{error:n}=await fn.from("odp_orders").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new pt(`Failed to remove ODP order: ${kn(n)}`,Ke.SERVER_ERROR,500,n,"API.removeOdpOrder")}}async getPhases(){try{const{data:e,error:n}=await fn.from("phases").select("*").order("name");if(n)throw n;return e||[]}catch(e){throw new pt(`Failed to fetch phases: ${kn(e)}`,Ke.SERVER_ERROR,500,e,"API.getPhases")}}async addPhase(e){try{const{data:n,error:i}=await fn.from("phases").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new pt(`Failed to add phase: ${kn(n)}`,Ke.SERVER_ERROR,500,n,"API.addPhase")}}async updatePhase(e,n){try{const{data:i,error:r}=await fn.from("phases").update(n).eq("id",e).select().single();if(r)throw r;return i}catch(i){throw new pt(`Failed to update phase: ${kn(i)}`,Ke.SERVER_ERROR,500,i,"API.updatePhase")}}async removePhase(e){try{const{error:n}=await fn.from("phases").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new pt(`Failed to remove phase: ${kn(n)}`,Ke.SERVER_ERROR,500,n,"API.removePhase")}}async getMachineAvailabilityForDateRange(e,n,i){try{const{data:r,error:s}=await fn.from("machine_availability").select("*").eq("machine_id",e).gte("date",n).lte("date",i).order("date");if(s)throw s;return r||[]}catch(r){throw new pt(`Failed to fetch machine availability for date range: ${kn(r)}`,Ke.SERVER_ERROR,500,r,"API.getMachineAvailabilityForDateRange")}}async getMachineAvailabilityForDate(e,n){try{const{data:i,error:r}=await fn.from("machine_availability").select("*").eq("machine_id",e).eq("date",n).maybeSingle();if(r)throw r;return i||null}catch(i){throw new pt(`Failed to fetch machine availability: ${kn(i)}`,Ke.SERVER_ERROR,500,i,"API.getMachineAvailabilityForDate")}}async getMachineAvailability(e,n){try{return(await this.getMachineAvailabilityForDate(e,n))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(e,n,i){try{const{data:r,error:s}=await fn.from("machine_availability").upsert([{machine_id:e,date:n,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(s)throw s;return r}catch(r){throw new pt(`Failed to set machine availability: ${kn(r)}`,Ke.SERVER_ERROR,500,r,"API.setMachineAvailability")}}async getMachineAvailabilityForDateAllMachines(e){try{const{data:n,error:i}=await fn.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new pt(`Failed to fetch machine availability for all machines: ${kn(n)}`,Ke.SERVER_ERROR,500,n,"API.getMachineAvailabilityForDateAllMachines")}}async getEventsByDate(e){try{const{data:n,error:i}=await fn.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new pt(`Failed to fetch events by date: ${kn(n)}`,Ke.SERVER_ERROR,500,n,"API.getEventsByDate")}}async setUnavailableHoursForRange(e,n,i,r,s){try{const a=parseInt(r.split(":")[0]),l=parseInt(s.split(":")[0]),u=[];for(let y=a;y<l;y++)u.push(y.toString());const d=new Date(n),h=new Date(i);let m=new Date(d);const p=[];for(;m<=h;){const y=Wn(m,"yyyy-MM-dd"),_=(await this.getMachineAvailabilityForDate(e,y))?.unavailable_hours||[],w=[...new Set([..._,...u])].sort((E,C)=>parseInt(E)-parseInt(C)),x=await this.setMachineAvailability(e,y,w);p.push(x),m=sf(m,1)}return p}catch(a){throw new pt(`Failed to set unavailable hours for range: ${kn(a)}`,Ke.SERVER_ERROR,500,a,"API.setUnavailableHoursForRange")}}async bulkUpsertMachineAvailability(e){try{const{error:n}=await fn.from("machine_availability").upsert(e,{onConflict:"machine_id,date"});if(n)throw n;return{success:!0}}catch(n){throw new pt(`Failed to bulk set machine availability: ${kn(n)}`,Ke.SERVER_ERROR,500,n,"API.bulkUpsertMachineAvailability")}}setupRealtimeSubscriptions(e,n,i){return fn.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},e).on("postgres_changes",{event:"*",schema:"public",table:"machines"},n).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i).subscribe(s=>{})}cleanupRealtimeSubscriptions(e){if(e)try{e.unsubscribe()}catch{}}}const xt=new nW,M0=Object.freeze(Object.defineProperty({__proto__:null,apiService:xt},Symbol.toStringTag,{value:"Module"})),Sc=zm((t,e)=>({odpOrders:[],getOdpOrders:()=>e().odpOrders,getOrderById:n=>e().odpOrders.find(i=>i.id===n),getScheduledOrders:()=>e().odpOrders.filter(n=>n.status==="SCHEDULED"),getUnscheduledOrders:()=>e().odpOrders.filter(n=>n.status==="NOT SCHEDULED"),getOdpOrdersByWorkCenter:n=>n==="BOTH"?e().odpOrders:e().odpOrders.filter(i=>i.work_center===n),setOdpOrders:n=>t({odpOrders:n||[]}),cleanupDuplicateOrders:()=>{const n=e(),i=[],r=new Set;n.odpOrders.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({odpOrders:i})},reset:()=>t({odpOrders:[]})}));zm((t,e)=>({machines:[],getMachines:()=>e().machines,getMachineById:n=>e().machines.find(i=>i.id===n),getMachinesByWorkCenter:n=>n==="BOTH"?e().machines:e().machines.filter(i=>i.work_center===n),setMachines:n=>t({machines:n||[]}),cleanupDuplicateMachines:()=>{const n=e(),i=[],r=new Set;n.machines.forEach(s=>{r.has(s.id)||(r.add(s.id),i.push(s))}),t({machines:i})},reset:()=>t({machines:[]})}));const Yt={MACHINE:{DEPARTMENT:"STAMPA",WORK_CENTER:"ZANICA",MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:["T1"],STATUS:"ACTIVE"},PHASE:{DEPARTMENT:"STAMPA",NUMERO_PERSONE:1,WORK_CENTER:"ZANICA",V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:3,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},iW={MAX_TASK_SEGMENTS:50},Jh={MINUTES_PER_HOUR:60,MILLISECONDS_PER_MINUTE:60*1e3},ss=zm((t,e)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:localStorage.getItem("selectedWorkCenter")||yt.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null},getLoadingState:()=>e().isLoading,getInitializationState:()=>e().isInitialized,getSelectedWorkCenter:()=>e().selectedWorkCenter,getEditMode:()=>e().isEditMode,getConfirmDialog:()=>e().confirmDialog,getConflictDialog:()=>e().conflictDialog,getSchedulingLoading:()=>e().schedulingLoading,getDragPreview:()=>e().dragPreview,setLoading:n=>t({isLoading:n}),setInitialized:n=>t({isInitialized:n}),setSelectedWorkCenter:n=>{localStorage.setItem("selectedWorkCenter",n),t({selectedWorkCenter:n})},toggleEditMode:()=>t(n=>({isEditMode:!n.isEditMode})),setEditMode:n=>t({isEditMode:n}),setSchedulingLoading:n=>t({schedulingLoading:n}),startSchedulingOperation:(n,i=null)=>t({schedulingLoading:{isScheduling:n==="schedule",isRescheduling:n==="reschedule",isShunting:n==="shunt",isNavigating:n==="navigate",operationType:n,taskId:i}}),stopSchedulingOperation:()=>t({schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null}}),showConfirmDialog:(n,i,r,s="danger")=>t({confirmDialog:{isOpen:!0,title:n,message:i,onConfirm:r,type:s}}),hideConfirmDialog:()=>t({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),showConflictDialog:n=>t({conflictDialog:{isOpen:!0,details:n}}),hideConflictDialog:()=>t({conflictDialog:{isOpen:!1,details:null}}),setDragPreview:n=>t({dragPreview:n}),clearDragPreview:()=>t({dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}}),showAlert:(n,i="info")=>{kr(n,i)},reset:()=>t({isLoading:!1,isInitialized:!1,selectedWorkCenter:yt.BOTH,isEditMode:!1,schedulingLoading:{isScheduling:!1,isRescheduling:!1,isShunting:!1,isNavigating:!1,operationType:null,taskId:null},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},conflictDialog:{isOpen:!1,details:null},dragPreview:{isActive:!1,startSlot:null,durationSlots:0,machineId:null}})}));class rW{constructor(e,n){this.get=e,this.set=n}setSplitTaskInfo=(e,n)=>{this.set(i=>({splitTasksInfo:{...i.splitTasksInfo,[e]:n}}))};getSplitTaskInfo=e=>{const n=this.get().splitTasksInfo[e];if(n&&n.segments)return n;const{getOrderById:i}=li.getState(),r=i(e);if(r&&r.description&&r.status==="SCHEDULED")try{const s=JSON.parse(r.description);if(s.segments&&Array.isArray(s.segments))return setTimeout(()=>{this.setSplitTaskInfo(e,s)},0),s}catch{}return null};clearSplitTaskInfo=e=>{this.set(n=>{const i={...n.splitTasksInfo};return delete i[e],{splitTasksInfo:i}})};updateTaskWithSplitInfo=async(e,n,i=null,r=null,s=null)=>{const{apiService:a}=await Hr(async()=>{const{apiService:l}=await Promise.resolve().then(()=>M0);return{apiService:l}},void 0);if(n){this.setSplitTaskInfo(e,n);const u={description:JSON.stringify(n),status:"SCHEDULED"};if(i&&(u.scheduled_start_time=i.toISOString()),r&&(u.scheduled_end_time=r.toISOString()),s&&(u.scheduled_machine_id=s),!(u.scheduled_start_time&&u.scheduled_end_time&&u.scheduled_machine_id))if(!u.scheduled_start_time&&!u.scheduled_end_time&&!u.scheduled_machine_id)delete u.scheduled_start_time,delete u.scheduled_end_time,delete u.scheduled_machine_id,u.status="NOT SCHEDULED";else{const{getOrderById:h}=li.getState(),m=h(e);m&&(u.scheduled_start_time||(u.scheduled_start_time=m.scheduled_start_time),u.scheduled_end_time||(u.scheduled_end_time=m.scheduled_end_time),u.scheduled_machine_id||(u.scheduled_machine_id=m.scheduled_machine_id))}const d=await a.updateOdpOrder(e,u);this.updateSplitTaskInfo(e,d)}else{this.clearSplitTaskInfo(e);const l=await a.updateOdpOrder(e,{description:""});this.updateSplitTaskInfo(e,l)}};updateSplitTaskInfo=(e,n)=>{if(this.clearSplitTaskInfo(e),n.description&&n.status==="SCHEDULED")try{const i=JSON.parse(n.description);i.segments&&Array.isArray(i.segments)?this.validateSegments(i.segments.map(s=>({start:new Date(s.start),end:new Date(s.end),duration:s.duration}))).isValid?this.setSplitTaskInfo(e,i):this.clearSplitTaskInfo(e):this.clearSplitTaskInfo(e)}catch{this.clearSplitTaskInfo(e)}else this.clearSplitTaskInfo(e)};restoreSplitTaskInfo=()=>{const{getOdpOrders:e}=Sc.getState(),n=e(),i={};let r=0;n.forEach(s=>{if(s.description&&s.status==="SCHEDULED")try{const a=JSON.parse(s.description);a.segments&&Array.isArray(a.segments)&&(i[s.id]=a,r++)}catch{}}),this.set({splitTasksInfo:i})};validateSegments=e=>{if(!Array.isArray(e)||e.length===0)return{isValid:!1,error:"Segments must be a non-empty array"};for(let n=0;n<e.length;n++){const i=e[n];if(!i.start||!i.end||i.duration===void 0)return{isValid:!1,error:`Segment ${n} missing required properties (start, end, duration)`};const r=new Date(i.start),s=new Date(i.end);if(isNaN(r.getTime())||isNaN(s.getTime()))return{isValid:!1,error:`Segment ${n} has invalid date values`};if(s<=r)return{isValid:!1,error:`Segment ${n} end time must be after start time`};if(i.duration<=0)return{isValid:!1,error:`Segment ${n} duration must be positive`};if(n>0){const a=e[n-1],l=new Date(a.end);if(r<l)return{isValid:!1,error:`Segment ${n} overlaps with previous segment`}}}return{isValid:!0}};createSegmentInfo=(e,n)=>{const i=this.validateSegments(e);if(!i.isValid)throw new Error(`Invalid segments: ${i.error}`);return{totalSegments:e.length,segments:e.map(r=>({start:r.start.toISOString(),end:r.end.toISOString(),duration:r.duration})),originalDuration:n,wasSplit:e.length>1}};getTaskOccupiedSegments=e=>{const n=this.getSplitTaskInfo(e.id);if(n&&n.segments)return n.segments.map(i=>({start:new Date(i.start),end:new Date(i.end),duration:i.duration}));if(e.description)try{const i=JSON.parse(e.description);if(i.segments&&Array.isArray(i.segments))return i.segments.map(r=>({start:new Date(r.start),end:new Date(r.end),duration:r.duration}))}catch{}if(e.scheduled_start_time){const i=new Date(e.scheduled_start_time),r=e.time_remaining||e.duration||1,s=new Date(i.getTime()+r*60*60*1e3);return[{start:i,end:s,duration:r}]}return[]};doTimeRangesOverlap=(e,n,i,r)=>e<r&&n>i;checkTaskOverlap=(e,n,i)=>{const r=this.getTaskOccupiedSegments(i);for(const s of r)if(this.doTimeRangesOverlap(e,n,s.start,s.end))return{hasOverlap:!0,conflictingSegment:s,existingTask:i};return{hasOverlap:!1}};checkMachineOverlaps=(e,n,i,r=null,s=[])=>{const{getEntities:a}=li.getState(),l=[r,...s].filter(h=>h);console.log(" SPLIT TASK MANAGER: Checking machine overlaps",{machineId:i,excludeTaskId:r,additionalExcludeIds:s,newTaskStart:e.toISOString(),newTaskEnd:n.toISOString()});const u=a().filter(h=>h.scheduled_machine_id===i&&h.status==="SCHEDULED"&&!l.includes(h.id)&&h.scheduled_start_time&&h.scheduled_end_time&&h.scheduled_machine_id);console.log(" SPLIT TASK MANAGER: Found existing tasks on machine:",{machineId:i,existingTasksCount:u.length,existingTasks:u.map(h=>({id:h.id,odp_number:h.odp_number,start:h.scheduled_start_time,end:h.scheduled_end_time}))});const d=u.sort((h,m)=>{const p=this.getTaskOccupiedSegments(h),y=this.getTaskOccupiedSegments(m),b=p.length>0?p[0].start:new Date(h.scheduled_start_time),_=y.length>0?y[0].start:new Date(m.scheduled_start_time);return b.getTime()-_.getTime()});for(const h of d){const m=this.checkTaskOverlap(e,n,h);if(m.hasOverlap)return{hasOverlap:!0,conflictingTask:h,conflictingSegment:m.conflictingSegment}}return{hasOverlap:!1}};migrateExistingTasksToSegmentFormat=async()=>{const{getOdpOrders:e}=Sc.getState(),n=e();for(const i of n)if(i.status==="SCHEDULED"&&i.scheduled_start_time){const r=this.getSplitTaskInfo(i.id);if(r&&r.segments)continue;if(i.description)try{const h=JSON.parse(i.description);if(h.segments&&Array.isArray(h.segments)){this.setSplitTaskInfo(i.id,h);continue}}catch{}const s=new Date(i.scheduled_start_time),a=i.time_remaining||i.duration||1,l=new Date(s.getTime()+a*60*60*1e3),u=[{start:s,end:l,duration:a}],d=this.createSegmentInfo(u,a);await this.updateTaskWithSplitInfo(i.id,d)}};verifyAllTasksHaveSegmentInfo=()=>{const{getOdpOrders:e}=Sc.getState(),i=e().filter(s=>s.status==="SCHEDULED"),r=[];for(const s of i){const a=this.getSplitTaskInfo(s.id);(!a||!a.segments)&&r.push({id:s.id,odp_number:s.odp_number,description:s.description})}return{totalScheduledTasks:i.length,tasksWithSegments:i.length-r.length,tasksWithoutSegments:r}}}class sW{constructor(e,n,i,r){this.get=e,this.set=n,this.splitTaskManager=i,this.machineAvailabilityManager=r}createAbsoluteDate=(e,n,i,r=0,s=0)=>new Date(Date.UTC(e,n-1,i,r,s,0,0));splitTaskAcrossAvailableSlots=(e,n,i,r)=>{try{const s=[];let a=new Date(e),l=n,u=!0;for(;u;){u=!1;for(const d of r)if(a>=d.start&&a<d.end){a=new Date(d.end),u=!0;break}}for(;l>0;){let d=null,h=null,m=null;for(const p of r){const y=new Date(p.start),b=new Date(p.end);y>=a&&(!d||y<h)&&(d=p,h=y,m=b)}if(d){const p=(h.getTime()-a.getTime())/36e5;if(p>0){const b=Math.min(p,l),_=new Date(a.getTime()+b*60*60*1e3);s.push({start:new Date(a),end:_,duration:b}),l-=b}a=new Date(m);let y=!0;for(;y;){y=!1;for(const b of r)if(a>=b.start&&a<b.end){a=new Date(b.end),y=!0;break}}}else{const p=new Date(a.getTime()+l*60*60*1e3);s.push({start:new Date(a),end:p,duration:l}),l=0}if(s.length>iW.MAX_TASK_SEGMENTS){console.warn("Task splitting exceeded maximum segments limit");break}}return s}catch(s){return console.error("Error in splitTaskAcrossAvailableSlots:",s),[]}};splitTaskAcrossAvailableSlotsBackward=(e,n,i,r)=>{try{const s=[];let a=new Date(e),l=n,u=!0;for(;u;){u=!1;for(const h of r)if(a>h.start&&a<=h.end){a=new Date(h.start),u=!0;break}}for(;l>0;){let h=null,m=null,p=null;for(const E of r){const C=new Date(E.start),D=new Date(E.end);D<=a&&(!h||D>p)&&(h=E,m=C,p=D)}let y;h?y=new Date(p):y=new Date(a.getTime()-l*60*60*1e3);let b=!0;for(;b;){b=!1;for(const E of r)if(y<E.end&&y>=E.start){y=new Date(E.end),b=!0;break}}const _=(a.getTime()-y.getTime())/(1e3*60*60);if(_<=0){a=h?new Date(m):new Date(a.getTime()-3600*1e3);continue}const w=Math.min(_,l),x=new Date(a.getTime()-w*60*60*1e3);s.push({start:x,end:new Date(a),duration:w}),l-=w,a=new Date(x)}return s.reverse()}catch(s){return console.error("Error in splitTaskAcrossAvailableSlotsBackward:",s),[]}};collectUnavailableSlots=(e,n,i)=>{const r=[],s=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),a=this.createAbsoluteDate(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()+7);let u=new Date(s);for(;u<=l;){const d=Wn(u,"yyyy-MM-dd"),h=this.get().machineAvailability[d];if(h&&Array.isArray(h)){const m=h.find(p=>p.machine_id===i);if(m&&m.unavailable_hours&&Array.isArray(m.unavailable_hours)){const[p,y,b]=d.split("-").map(Number);for(const _ of m.unavailable_hours){const w=this.createAbsoluteDate(p,y,b,parseInt(_),0),x=new Date(w.getTime()+3600*1e3);r.push({start:w,end:x,hour:parseInt(_),date:d})}}}u.setUTCDate(u.getUTCDate()+1)}return r.sort((d,h)=>d.start.getTime()-h.start.getTime())};loadMachineAvailabilityForExtendedRange=async(e,n,i)=>{const r=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()+n*60*60*1e3),a=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()+7);let u=new Date(r);for(;u<=l;){const d=Wn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return l};loadMachineAvailabilityForBackwardRange=async(e,n,i)=>{const r=this.createAbsoluteDate(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()),s=new Date(e.getTime()-n*60*60*1e3),a=this.createAbsoluteDate(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),l=new Date(a);l.setUTCDate(l.getUTCDate()-7);let u=new Date(l);for(;u<=r;){const d=Wn(u,"yyyy-MM-dd");await this.machineAvailabilityManager.loadMachineAvailabilityForDate(d),u.setUTCDate(u.getUTCDate()+1)}return{taskStartDateWithBuffer:l,taskEndDate:r}};checkSegmentsForOverlaps=(e,n,i,r=[])=>{[i,...r].filter(s=>s),console.log(" CHECKING SEGMENTS FOR OVERLAPS:",{segmentsCount:e.length,machineId:n,excludeTaskId:i,additionalExcludeIds:r});for(const s of e){const a=this.splitTaskManager.checkMachineOverlaps(s.start,s.end,n,i,r);if(a.hasOverlap)return console.log(" OVERLAP FOUND!",{segment:s,conflictingTask:a.conflictingTask?.odp_number,conflictingSegment:a.conflictingSegment}),{hasOverlap:!0,conflictingSegment:s,conflictingTask:a.conflictingTask,conflictingExistingSegment:a.conflictingSegment}}return{hasOverlap:!1}};scheduleTaskWithSplitting=async(e,n,i,r,s=[])=>{const a=await this.loadMachineAvailabilityForExtendedRange(n,i,r),l=this.collectUnavailableSlots(n,a,r),u=new Date(n.getTime()+i*60*60*1e3);if(l.some(h=>n<h.end&&u>h.start)){const h=this.splitTaskAcrossAvailableSlots(n,i,r,l);if(h.length>0){const m=this.checkSegmentsForOverlaps(h,r,e,s);if(m.hasOverlap)return console.log(" SCHEDULING LOGIC: Conflict detected in split segments!",{conflictingTask:m.conflictingTask?.odp_number,conflictingSegment:m.conflictingExistingSegment,proposedSegments:h}),{conflict:!0,conflictingTask:m.conflictingTask,conflictingSegment:m.conflictingExistingSegment,proposedSegments:h};const p=h[0],y=h[h.length-1];if(!p?.start||!y?.end)return console.error("Invalid segments returned from splitTaskAcrossAvailableSlots:",h),null;const b=this.splitTaskManager.createSegmentInfo(h,i);return await this.splitTaskManager.updateTaskWithSplitInfo(e,b,p.start,y.end,r),{startTime:p.start,endTime:y.end,wasSplit:!0,segments:h,originalDuration:i}}}else{const h=[{start:n,end:u,duration:i}],m=this.checkSegmentsForOverlaps(h,r,e,s);if(m.hasOverlap)return console.log(" SCHEDULING LOGIC: Conflict detected in simple scheduling!",{conflictingTask:m.conflictingTask?.odp_number,conflictingSegment:m.conflictingExistingSegment,proposedSegments:h}),{conflict:!0,conflictingTask:m.conflictingTask,conflictingSegment:m.conflictingExistingSegment,proposedSegments:h};const p=this.splitTaskManager.createSegmentInfo(h,i);return await this.splitTaskManager.updateTaskWithSplitInfo(e,p,n,u,r),{startTime:n,endTime:u,wasSplit:!1,segments:h,originalDuration:i}}return null};scheduleTaskEndingAtWithSplitting=async(e,n,i,r,s=[])=>{const{taskStartDateWithBuffer:a,taskEndDate:l}=await this.loadMachineAvailabilityForBackwardRange(n,i,r),u=this.collectUnavailableSlots(a,l,r),d=this.splitTaskAcrossAvailableSlotsBackward(n,i,r,u);if(d.length===0)return null;const h=this.checkSegmentsForOverlaps(d,r,e,s);if(h.hasOverlap)return{conflict:!0,conflictingTask:h.conflictingTask,conflictingSegment:h.conflictingExistingSegment,proposedSegments:d};const m=this.splitTaskManager.createSegmentInfo(d,i),p=d[0],y=d[d.length-1];return!p?.start||!y?.end?(console.error("Invalid segments returned from splitTaskAcrossAvailableSlotsBackward:",d),null):(await this.splitTaskManager.updateTaskWithSplitInfo(e,m,p.start,y.end,r),{startTime:p.start,endTime:y.end,wasSplit:d.length>1,segments:d,originalDuration:i})};handleTaskDurationShrinking=async(e,n,i,r={})=>{try{console.log(" DURATION SHRINKING: Starting cascading rescheduling for task",e),console.log(" DURATION SHRINKING: New duration:",n,"hours");const{getOrderById:s,getEntities:a}=li.getState(),{getMachineById:l}=as.getState(),u=s(e),d=l(i),h=a();if(!u||!d)return{success:!1,error:"Task or machine not found"};if(!u.scheduled_start_time||!u.scheduled_end_time)return{success:!1,error:"Task is not scheduled"};const m=new Date(u.scheduled_start_time),p=u.duration,y=new Date(m.getTime()+p*60*60*1e3);console.log(" DURATION SHRINKING: Original end time (pre-shrinking):",y.toISOString()),console.log(" DURATION SHRINKING: Original duration:",p,"New duration:",n);const b=this.findCascadingChain(e,y,i,h);console.log(" DURATION SHRINKING: Found cascading chain of",b.length,"tasks to reschedule"),console.log(" DURATION SHRINKING: Chain tasks:",b.map(k=>k.odp_number));const _=u.quantity_completed/u.quantity||0,w=n*(1-_);console.log(" DURATION SHRINKING: Calculated time_remaining:",w,"from new duration:",n,"and progress:",_),console.log(" DURATION SHRINKING: Progress calculation:",u.quantity_completed,"/",u.quantity,"=",_),console.log(" DURATION SHRINKING: Rescheduling original task with new time_remaining");const x=await this.scheduleTaskWithSplitting(e,m,w,i,[]);if(!x)return console.error(" DURATION SHRINKING: Failed to reschedule original task"),{success:!1,error:"Failed to reschedule original task. Not enough space available.",rescheduledTasks:[]};if(x.conflict)return console.error(" DURATION SHRINKING: Conflict detected while rescheduling original task"),{success:!1,error:"Conflict detected while rescheduling original task. Consider using conflict resolution.",rescheduledTasks:[]};await this.splitTaskManager.updateTaskWithSplitInfo(e,x.segments?{segments:x.segments,totalSegments:x.segments.length,originalDuration:x.originalDuration||w,wasSplit:x.wasSplit||!1}:null,x.startTime,x.endTime,i);const E={duration:n,time_remaining:w,...r};console.log(" DURATION SHRINKING: Final update data:",E),await xt.updateOdpOrder(e,E);const C=[{id:e,odp_number:u.odp_number,new_start_time:x.startTime.toISOString(),new_end_time:x.endTime.toISOString(),was_split:x.wasSplit}];let D=new Date(x.endTime);const O=D.getUTCMinutes(),N=Math.ceil(O/15)*15;N===60?D.setUTCHours(D.getUTCHours()+1,0,0,0):D.setUTCMinutes(N,0,0);for(const k of b){console.log(" DURATION SHRINKING: Rescheduling task",k.odp_number,"to start at",D.toISOString());const j=await this.scheduleTaskWithSplitting(k.id,D,k.time_remaining||k.duration||1,i,[e]);if(!j)return console.error(" DURATION SHRINKING: Failed to reschedule task",k.odp_number),{success:!1,error:`Failed to reschedule task ${k.odp_number}. Not enough space available.`,rescheduledTasks:C};if(j.conflict)return console.error(" DURATION SHRINKING: Conflict detected while rescheduling task",k.odp_number),{success:!1,error:`Conflict detected while rescheduling task ${k.odp_number}. Consider using conflict resolution.`,rescheduledTasks:C};await this.splitTaskManager.updateTaskWithSplitInfo(k.id,j.segments?{segments:j.segments,totalSegments:j.segments.length,originalDuration:j.originalDuration||k.time_remaining||k.duration||1,wasSplit:j.wasSplit||!1}:null,j.startTime,j.endTime,i),C.push({id:k.id,odp_number:k.odp_number,new_start_time:j.startTime.toISOString(),new_end_time:j.endTime.toISOString(),was_split:j.wasSplit}),D=new Date(j.endTime);const H=D.getUTCMinutes(),$=Math.ceil(H/15)*15;$===60?D.setUTCHours(D.getUTCHours()+1,0,0,0):D.setUTCMinutes($,0,0)}console.log(" DURATION SHRINKING: Successfully rescheduled",C.length,"tasks");const I=li.getState().getOrderById(e);return{success:!0,message:`Successfully rescheduled ${C.length} tasks due to duration reduction`,rescheduledTasks:C,updatedTask:I}}catch(s){return console.error(" DURATION SHRINKING ERROR:",s),{success:!1,error:s.message||"Unknown error during duration shrinking",rescheduledTasks:[]}}};findCascadingChain=(e,n,i,r)=>{const s=[],a=new Set,l=r.filter(h=>h.scheduled_machine_id===i&&h.status==="SCHEDULED"&&h.id!==e&&h.scheduled_start_time).sort((h,m)=>new Date(h.scheduled_start_time)-new Date(m.scheduled_start_time)),u=l.filter(h=>{const p=(new Date(h.scheduled_start_time).getTime()-n.getTime())/(1e3*60);return p>=0&&p<=15});console.log(" DURATION SHRINKING: Initial candidates within 15 minutes:",u.map(h=>h.odp_number));const d=h=>{for(const m of l){if(a.has(m.id))continue;const p=new Date(m.scheduled_start_time),y=(p.getTime()-h.getTime())/(1e3*60);if(y>=0&&y<=15){a.add(m.id),s.push(m);const b=m.time_remaining||m.duration||1,_=new Date(p.getTime()+b*60*60*1e3);console.log(" DURATION SHRINKING: Added to chain:",m.odp_number,"ends at",_.toISOString()),d(_)}}};return d(n),console.log(" DURATION SHRINKING: Complete chain found:",s.map(h=>h.odp_number)),s}}class aW{constructor(e,n,i,r){this.get=e,this.set=n,this.schedulingLogic=i,this.splitTaskManager=r}getTaskDurationMinutes=e=>Math.round((e.time_remaining||e.duration||1)*Jh.MINUTES_PER_HOUR);getTaskEndTime=e=>{const n=new Date(e.scheduled_start_time),i=this.getTaskDurationMinutes(e);return new Date(n.getTime()+i*Jh.MILLISECONDS_PER_MINUTE)};addMinutesToDate=(e,n)=>new Date(e.getTime()+n*Jh.MILLISECONDS_PER_MINUTE);roundUpToNext15MinSlot=e=>{const n=e.getUTCMinutes(),i=e.getUTCHours(),r=Math.ceil(n/15)*15,s=new Date(e);return r===Jh.MINUTES_PER_HOUR?s.setUTCHours(i+1,0,0,0):s.setUTCMinutes(r,0,0),s};scheduleTaskWithSplittingForShunt=async(e,n,i)=>await this.scheduleTaskWithSplittingForShuntExcluding(e,n,i,[e.id]);scheduleTaskWithSplittingForShuntExcluding=async(e,n,i,r,s=3)=>{const a=this.getTaskDurationMinutes(e)/60,l=r.filter(d=>d!==e.id),u=await this.schedulingLogic.scheduleTaskWithSplitting(e.id,n,a,i.id,l);return u&&!u.conflict?{startTime:u.startTime,endTime:u.endTime,wasSplit:u.wasSplit}:u&&u.conflict?(console.log(` CASCADING SHUNT: Task ${e.odp_number} conflicts with ${u.conflictingTask?.odp_number}, attempting cascading resolution`),s>0?await this.handleCascadingConflict(e,n,i,r,u,s-1):(console.warn(` CASCADING SHUNT: Max depth reached for task ${e.odp_number}, returning conflict info`),{conflict:!0,conflictingTask:u.conflictingTask,conflictingSegment:u.conflictingSegment,proposedSegments:u.proposedSegments})):u?{startTime:n,endTime:this.addMinutesToDate(n,this.getTaskDurationMinutes(e)),wasSplit:!1}:null};handleCascadingConflict=async(e,n,i,r,s,a)=>{const l=s.conflictingTask,u=s.conflictingSegment;console.log(` CASCADING SHUNT: Attempting to shunt conflicting task ${l?.odp_number} to resolve conflict with ${e.odp_number}`);const d=new Date(n.getTime()+this.getTaskDurationMinutes(e)*60*1e3),h=this.roundUpToNext15MinSlot(d),m=[...r,l.id];try{const p=await this.scheduleTaskWithSplittingForShuntExcluding(l,h,i,m,a);if(p&&!p.conflict){console.log(` CASCADING SHUNT: Successfully shunted conflicting task ${l.odp_number}`),await this.updateTaskSchedule(l.id,p.startTime,p.endTime);const y=await this.scheduleTaskWithSplittingForShuntExcluding(e,n,i,m,a);return y&&!y.conflict?(console.log(` CASCADING SHUNT: Successfully scheduled original task ${e.odp_number} after resolving conflicts`),y):(console.warn(` CASCADING SHUNT: Original task ${e.odp_number} still conflicts after shunting conflicting task`),y||{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments})}else return console.warn(` CASCADING SHUNT: Could not shunt conflicting task ${l?.odp_number}`),p||{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments}}catch(p){return console.error(" CASCADING SHUNT: Error during cascading conflict resolution:",p),{conflict:!0,conflictingTask:l,conflictingSegment:u,proposedSegments:s.proposedSegments}}};updateTaskSchedule=async(e,n,i)=>{try{const{updateOrder:r}=Sc.getState();await r(e,{scheduled_start_time:n.toISOString(),scheduled_end_time:i.toISOString()})}catch(r){console.error(` CASCADING SHUNT: Failed to update task ${e} schedule:`,r)}};checkShuntingOverlaps=(e,n,i,r=[])=>{const s=i.filter(a=>a.scheduled_machine_id===n&&a.status==="SCHEDULED"&&!r.includes(a.id));for(const a of e)for(const l of s){const u=this.splitTaskManager.checkTaskOverlap(a.start,a.end,l);if(u.hasOverlap)return{hasOverlap:!0,conflictingTask:l,conflictingSegment:u.conflictingSegment,newTaskSegment:a}}return{hasOverlap:!1}};resolveConflictByShunting=async(e,n,i,r)=>{try{const{conflictingTask:s,proposedStartTime:a,machine:l}=e,u=new Date(a),d=i.filter(O=>O.scheduled_machine_id===l.id&&O.status==="SCHEDULED"&&O.id!==r.id).sort((O,N)=>{const I=this.splitTaskManager.getTaskOccupiedSegments(O),k=this.splitTaskManager.getTaskOccupiedSegments(N),j=I.length>0?I[0].start:new Date(O.scheduled_start_time),H=k.length>0?k[0].start:new Date(N.scheduled_start_time);return j-H}),h=d.findIndex(O=>O.id===s.id);if(h===-1)throw new pt("Conflicting task not found",Ke.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const m=this.getTaskDurationMinutes(r),p=[];let y=!1;if(n==="right")for(let O=h;O<d.length&&!y;O++){const N=d[O];if(p.push(N),O<d.length-1){const I=d[O+1],k=this.splitTaskManager.getTaskOccupiedSegments(N),j=this.splitTaskManager.getTaskOccupiedSegments(I);if(k.length>0&&j.length>0){const H=Math.max(...k.map(se=>se.end.getTime())),$=Math.min(...j.map(se=>se.start.getTime()));Math.floor(($-H)/(60*1e3))>=m&&(y=!0)}}else y=!0}else for(let O=h;O>=0&&!y;O--){const N=d[O];if(p.unshift(N),O>0){const I=d[O-1],k=this.splitTaskManager.getTaskOccupiedSegments(I),j=this.splitTaskManager.getTaskOccupiedSegments(N);if(k.length>0&&j.length>0){const H=Math.max(...k.map(se=>se.end.getTime())),$=Math.min(...j.map(se=>se.start.getTime()));Math.floor(($-H)/(60*1e3))>=m&&(y=!0)}}else{const I=this.splitTaskManager.getTaskOccupiedSegments(N);if(I.length>0){const k=Math.min(...I.map($=>$.start.getTime())),j=new Date(k);if(j.setUTCHours(6,0,0,0),Math.floor((k-j.getTime())/(60*1e3))>=m)y=!0;else{const $=new Date(k),G=new Date($);G.setUTCHours(6,0,0,0),$.getTime()>G.getTime()&&(y=!0)}}}}const b=new Set,_=new Set;for(const O of p)b.add(O.id),_.add(O.id);_.add(r.id);let w=0;const x=10;for(;w<x;){w++;let O=!1;const N=Array.from(b);for(const I of N){const k=d.find(se=>se.id===I)||r;if(!k)continue;let j;if(n==="right"){const se=new Date(u.getTime()+m*60*1e3);if(j=this.roundUpToNext15MinSlot(se),k.id!==r.id){const pe=Array.from(b).indexOf(I);if(pe>0){const ve=Array.from(b)[pe-1],B=d.find(ae=>ae.id===ve)||r,X=this.getTaskDurationMinutes(B),me=new Date(j.getTime()+X*60*1e3);j=this.roundUpToNext15MinSlot(me)}}}else{const se=u,pe=this.getTaskDurationMinutes(k);j=this.roundUpToNext15MinSlot(this.addMinutesToDate(se,-pe))}const H=this.getTaskDurationMinutes(k)/60,$=this.schedulingLogic.collectUnavailableSlots(j,new Date(j.getTime()+H*60*60*1e3),l.id);if($.some(se=>j<se.end&&new Date(j.getTime()+H*60*60*1e3)>se.start)){const se=this.schedulingLogic.splitTaskAcrossAvailableSlots(j,H,l.id,$);for(const pe of se)for(const ve of d)!_.has(ve.id)&&ve.id!==k.id&&this.splitTaskManager.checkTaskOverlap(pe.start,pe.end,ve).hasOverlap&&(_.add(ve.id),b.add(ve.id),O=!0)}else{const se=new Date(j.getTime()+H*60*60*1e3);for(const pe of d)!_.has(pe.id)&&pe.id!==k.id&&this.splitTaskManager.checkTaskOverlap(j,se,pe).hasOverlap&&(_.add(pe.id),b.add(pe.id),O=!0)}}if(!O)break}if(w>=x)throw console.error(` SHUNTING ERROR: Maximum iterations (${x}) reached, possible infinite loop`),new pt("Too many conflicts detected during shunting",Ke.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");const E=d.filter(O=>b.has(O.id));if(p.length=0,p.push(...E),!y&&p.length===d.length){const O=this.getTaskDurationMinutes(r),N=p.length,I=l.machine_name||"Unknown Machine";console.warn(` SHUNTING WARNING: No gap found for ${O} minutes on machine ${I}`),console.warn(` All ${N} tasks on machine would need to be moved`),console.warn(" Attempting to schedule at earliest possible time...");const k=d[0],j=this.splitTaskManager.getTaskOccupiedSegments(k);if(j.length>0){const H=Math.min(...j.map(G=>G.start.getTime())),$=new Date(H);if($.setUTCHours(6,0,0,0),$.getTime()<H)y=!0;else throw console.error(` SHUNTING FAILED: No space even at 6 AM on machine ${I}`),console.error(" Consider: 1) Moving to different machine, 2) Reducing task duration, 3) Scheduling on different day"),new pt(`Non c' spazio sufficiente per spostare i lavori. Il task ${r.odp_number} (${O} minuti) richiederebbe di spostare tutti i ${N} lavori sulla macchina ${I}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,Ke.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}else throw new pt(`Non c' spazio sufficiente per spostare i lavori. Il task ${r.odp_number} (${O} minuti) richiederebbe di spostare tutti i ${N} lavori sulla macchina ${I}. Prova a: 1) Spostare su una macchina diversa, 2) Ridurre la durata del task, 3) Programmare in un giorno diverso.`,Ke.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting")}const C=[];let D=null;if(n==="right"){const O=new Date(u),N=[...Array.from(_)];if(D=await this.scheduleTaskWithSplittingForShuntExcluding(r,O,l,N),D&&D.conflict)return console.warn(` CASCADING SHUNT: Dragged task ${r.odp_number} still has conflicts after cascading resolution`),{error:`Impossibile programmare il task ${r.odp_number} alla posizione richiesta. Conflitti non risolvibili automaticamente.`,conflict:D.conflict,conflictingTask:D.conflictingTask,conflictingSegment:D.conflictingSegment};let I=D.endTime?this.roundUpToNext15MinSlot(D.endTime):new Date;for(const k of p){const j=[...Array.from(_)],H=await this.scheduleTaskWithSplittingForShuntExcluding(k,I,l,j);if(!H)throw console.error(` Failed to schedule task ${k.odp_number} at ${I.toISOString()}`),new pt(`Impossibile programmare il task ${k.odp_number} alla posizione richiesta. Non c' spazio sufficiente.`,Ke.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(H&&H.conflict){console.warn(` CASCADING SHUNT: Task ${k.odp_number} still has conflicts after cascading resolution`);continue}C.push({id:k.id,scheduled_start_time:H.startTime?.toISOString(),scheduled_end_time:H.endTime?.toISOString()}),H.endTime&&(I=this.roundUpToNext15MinSlot(H.endTime))}}else{const O=new Date(u);let N=this.roundUpToNext15MinSlot(this.addMinutesToDate(O,-1));for(let I=p.length-1;I>=0;I--){const k=p[I],j=[...Array.from(_)],H=await this.schedulingLogic.scheduleTaskEndingAtWithSplitting(k.id,N,this.getTaskDurationMinutes(k)/60,l.id,j);if(!H)throw console.error(` Failed to schedule task ${k.odp_number} ending at ${N.toISOString()}`),new pt(`Impossibile programmare il task ${k.odp_number} alla posizione richiesta. Non c' spazio sufficiente.`,Ke.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");if(H&&H.conflict){console.warn(` CASCADING SHUNT: Task ${k.odp_number} still has conflicts after cascading resolution (LEFT direction)`);continue}C.push({id:k.id,scheduled_start_time:H.startTime?.toISOString(),scheduled_end_time:H.endTime?.toISOString()}),H.startTime&&(N=this.roundUpToNext15MinSlot(this.addMinutesToDate(H.startTime,-1)))}}if(!D){const O=new Date(u),N=[...Array.from(_)];D=await this.scheduleTaskWithSplittingForShuntExcluding(r,O,l,N)}if(!D)throw console.error(` Failed to schedule dragged task ${r.odp_number} at ${proposedStart.toISOString()}`),new pt(`Impossibile programmare il task ${r.odp_number} alla posizione richiesta. Non c' spazio sufficiente.`,Ke.BUSINESS_LOGIC_ERROR,400,null,"ConflictResolution.resolveConflictByShunting");C.push({id:r.id,scheduled_machine_id:l.id,scheduled_start_time:D.startTime?.toISOString(),scheduled_end_time:D.endTime?.toISOString(),status:"SCHEDULED"});for(const O of C)await xt.updateOdpOrder(O.id,O);return ss.getState().hideConflictDialog(),ss.getState().showAlert("Lavori riprogrammati con successo","success"),{success:!0}}catch(s){return console.error(" SHUNTING ERROR:",s),{error:(s instanceof pt?s:new pt(s.message||"Errore durante la riprogrammazione",Ke.BUSINESS_LOGIC_ERROR,400,s,"ConflictResolution.resolveConflictByShunting")).message}}}}class oW{constructor(e,n){this.get=e,this.set=n,this.updateLocks=new Map}getLockKey=(e,n)=>`${e}-${n}`;acquireLock=async(e,n)=>{const i=this.getLockKey(e,n);this.updateLocks.has(i)&&await this.updateLocks.get(i);let r;const s=new Promise(a=>{r=a});return this.updateLocks.set(i,s),r};releaseLock=(e,n)=>{const i=this.getLockKey(e,n);this.updateLocks.delete(i)};loadMachineAvailabilityForDate=async e=>{const{machineAvailability:n}=this.get();if(!n[e]?._loading&&!(n[e]&&n[e].length>=0)){this.set(i=>({machineAvailability:{...i.machineAvailability,[e]:{_loading:!0}}}));try{const i=await xt.getMachineAvailabilityForDateAllMachines(e);this.set(r=>({machineAvailability:{...r.machineAvailability,[e]:i||[]}}))}catch(i){throw this.set(r=>{const s={...r.machineAvailability};return s[e]&&delete s[e]._loading,{machineAvailability:s}}),i}}};loadMachineAvailabilityForDateRange=async(e,n,i)=>{const r=n instanceof Date?Wn(n,"yyyy-MM-dd"):n,s=i instanceof Date?Wn(i,"yyyy-MM-dd"):i;try{const a=await xt.getMachineAvailabilityForDateRange(e,r,s);return this.set(l=>{const u={...l.machineAvailability};return Array.isArray(a)&&a.forEach(d=>{if(d.date&&d.unavailable_hours){const h=d.date;u[h]||(u[h]=[]);const m=u[h].find(p=>p.machine_id===e);m?m.unavailable_hours=d.unavailable_hours:u[h].push({machine_id:e,date:h,unavailable_hours:d.unavailable_hours})}}),{machineAvailability:u}}),a}catch(a){throw a}};getMachineAvailability=async(e,n)=>{try{const i=this.get().machineAvailability[n];if(i&&Array.isArray(i)){const s=i.find(a=>a.machine_id===e);if(s)return s.unavailable_hours||[]}const r=await xt.getMachineAvailabilityForDate(e,n);if(r){const s=(r.unavailable_hours||[]).map(a=>a.toString());return this.set(a=>{const l={...a.machineAvailability};l[n]||(l[n]=[]);const u=l[n].find(d=>d.machine_id===e);return u?u.unavailable_hours=s:l[n].push({machine_id:e,date:n,unavailable_hours:s}),{machineAvailability:l}}),s}return[]}catch{return[]}};loadMachineAvailabilityForMachine=async(e,n,i)=>{const r={};try{try{await xt.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let s=new Date(n);for(;s<=i;){const a=Wn(s,"yyyy-MM-dd");this.get().machineAvailability[a]||await this.loadMachineAvailabilityForDate(a);const u=this.get().machineAvailability[a];if(Array.isArray(u)){const d=u.find(h=>h.machine_id===e);d&&(r[a]=d.unavailable_hours||[])}s=sf(s,1)}return r}catch{return{}}};isTimeSlotUnavailable=async(e,n,i)=>(await this.getMachineAvailability(e,n)).includes(i.toString());setMachineAvailability=async(e,n,i)=>{const r=await this.acquireLock(e,n);try{const{getOdpOrders:s}=Sc.getState(),a=s().filter(p=>p.scheduled_machine_id===e&&p.status==="SCHEDULED"&&p.scheduled_start_time&&p.scheduled_end_time),[l,u,d]=n.split("-").map(Number),h=new Date(Date.UTC(l,u-1,d)),m=new Date(h.getTime()+1440*60*1e3);for(const p of a){const y=new Date(p.scheduled_start_time),b=new Date(p.scheduled_end_time);if(y<m&&b>h)for(const _ of i){const w=new Date(h.getTime()+parseInt(_)*60*60*1e3),x=new Date(w.getTime()+3600*1e3);if(w<b&&x>y)throw new pt(`Cannot set machine unavailable during scheduled task: ${p.odp_number}`,Ke.BUSINESS_LOGIC_ERROR,400,null,"MachineAvailabilityManager.setMachineUnavailability")}}return await xt.setMachineAvailability(e,n,i),this.set(p=>{const y={...p.machineAvailability};y[n]||(y[n]=[]);const b=y[n].find(_=>_.machine_id===e);return b?b.unavailable_hours=i:y[n].push({machine_id:e,date:n,unavailable_hours:i}),{machineAvailability:y}}),ss.getState().showAlert(`Machine availability updated successfully for ${n}`,"success"),!0}catch(s){const a=Ho(s,"Machine Availability");throw ss.getState().showAlert(a.message,"error"),a}finally{r(),this.releaseLock(e,n)}};toggleMachineHourAvailability=async(e,n,i)=>{const r=await this.acquireLock(e,n);try{const s=await this.getMachineAvailability(e,n),a=i.toString();let l;return s.includes(a)?l=s.filter(u=>u!==a):l=[...s,a].sort((u,d)=>parseInt(u)-parseInt(d)),await xt.setMachineAvailability(e,n,l),this.set(u=>{const d={...u.machineAvailability};d[n]||(d[n]=[]);const h=d[n].find(m=>m.machine_id===e);return h?h.unavailable_hours=l:d[n].push({machine_id:e,date:n,unavailable_hours:l}),{machineAvailability:d}}),ss.getState().showAlert(`Time slot ${a}:00 updated successfully`,"success"),!0}catch(s){const a=Ho(s,"Machine Availability");throw ss.getState().showAlert(a.message,"error"),a}finally{r(),this.releaseLock(e,n)}};setMachineUnavailability=async(e,n,i,r,s)=>{try{const a=await xt.setUnavailableHoursForRange(e,n,i,r,s),l=new Date(n),u=new Date(i),d=await this.loadMachineAvailabilityForDateRange(e,l,u);return d&&Array.isArray(d)&&this.set(h=>{const m={...h.machineAvailability};return d.forEach(p=>{if(p.date&&p.unavailable_hours){const y=Wn(new Date(p.date),"yyyy-MM-dd");m[y]||(m[y]=[]);const b=m[y].find(_=>_.machine_id===e);b?b.unavailable_hours=p.unavailable_hours:m[y].push({machine_id:e,date:y,unavailable_hours:p.unavailable_hours})}}),{machineAvailability:m}}),a}catch(a){throw a}};isMachineAvailabilityAccessible=async()=>{try{return await xt.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}};getMachineAvailabilityStatus=async()=>{try{const e=await this.isMachineAvailabilityAccessible();return{accessible:e,message:e?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(e){return{accessible:!1,message:`Error checking table: ${e.message}`}}};initializeEmptyMachineAvailability=()=>{const{machineAvailability:e}=this.get(),n={...e};this.set({machineAvailability:n})}}const af=zm((t,e)=>{const n=new rW(e,t),i=new oW(e,t),r=new sW(e,t,n,i),s=new aW(e,t,r,n);return{machineAvailability:{},shuntPreview:null,splitTasksInfo:{},getMachineAvailabilityState:()=>e().machineAvailability,getSplitTaskInfo:a=>n.getSplitTaskInfo(a),setMachineAvailabilityState:a=>t({machineAvailability:a}),setShuntPreview:a=>t({shuntPreview:a}),clearShuntPreview:()=>t({shuntPreview:null}),setSplitTaskInfo:n.setSplitTaskInfo,clearSplitTaskInfo:n.clearSplitTaskInfo,updateSplitTaskInfo:n.updateSplitTaskInfo,restoreSplitTaskInfo:n.restoreSplitTaskInfo,updateTaskWithSplitInfo:n.updateTaskWithSplitInfo,getTaskOccupiedSegments:n.getTaskOccupiedSegments,checkTaskOverlap:n.checkTaskOverlap,checkMachineOverlaps:n.checkMachineOverlaps,migrateExistingTasksToSegmentFormat:n.migrateExistingTasksToSegmentFormat,verifyAllTasksHaveSegmentInfo:n.verifyAllTasksHaveSegmentInfo,createAbsoluteDate:r.createAbsoluteDate,splitTaskAcrossAvailableSlots:r.splitTaskAcrossAvailableSlots,collectUnavailableSlots:r.collectUnavailableSlots,scheduleTaskWithSplitting:r.scheduleTaskWithSplitting,findAdjacentTasksChain:r.findAdjacentTasksChain,handleTaskDurationShrinking:r.handleTaskDurationShrinking,scheduleTaskFromSlot:async(a,l,u,d,h,m=null,p=null)=>{const{startSchedulingOperation:y,stopSchedulingOperation:b}=ss.getState();try{y("schedule",a);const{getOrderById:_,getEntities:w}=li.getState(),{getMachineById:x}=as.getState(),E=_(a),C=x(l.id),D=w();if(!E||!C)return{error:"Task or machine not found"};const O=u.getUTCFullYear(),N=u.getUTCMonth()+1,I=u.getUTCDate(),k=r.createAbsoluteDate(O,N,I,d,h),j=m||E.time_remaining||E.duration||1;console.log(" SCHEDULER: Using duration:",j,"overrideDuration:",m);const H={machine:l.id,start_time:k.toISOString(),end_time:XT(k,j).toISOString()};console.log(" SCHEDULER: Calling scheduleTask with:",{taskId:a,scheduleData:H,overrideDuration:m});const $=await e().scheduleTask(a,H,D,m,p);return console.log(" SCHEDULER: scheduleTask result:",$),$}catch(_){return{error:Ho(_,"SchedulerStore.scheduleTaskFromSlot").message}}finally{b()}},rescheduleTaskToSlot:async(a,l,u,d,h,m=null)=>{const{startSchedulingOperation:p,stopSchedulingOperation:y}=ss.getState();try{p("reschedule",a);const{getOrderById:b,getEntities:_}=li.getState(),{getMachineById:w}=as.getState(),x=b(a),E=w(l.id),C=_();if(!x||!E)return{error:"Event or machine not found"};const D=u.getUTCFullYear(),O=u.getUTCMonth()+1,N=u.getUTCDate(),I=r.createAbsoluteDate(D,O,N,d,h),k=x.time_remaining||x.duration||1,j={machine:l.id,start_time:I.toISOString(),end_time:XT(I,k).toISOString()};return await e().scheduleTask(a,j,C,null,m)}catch(b){return{error:Ho(b,"SchedulerStore.rescheduleTaskToSlot").message}}finally{y()}},scheduleTask:async(a,l,u=null,d=null,h=null)=>{try{console.log(" SCHEDULER: scheduleTask called with:",{taskId:a,eventData:l,overrideDuration:d});const{getOrderById:m,getEntities:p}=li.getState(),{getMachineById:y}=as.getState(),b=m(a),_=y(l.machine),w=u||p();if(console.log(" SCHEDULER: Task found:",b?.odp_number,"Machine found:",_?.machine_name||_?.name),console.log(" SCHEDULER: Machine lookup debug:",{machineId:l.machine,machine:_,machineKeys:_?Object.keys(_):"null"}),b&&_&&b.work_center&&_.work_center&&b.work_center!==_.work_center)return{error:`Work center mismatch: task requires '${b.work_center}' but machine is '${_.work_center}'`};const x=new Date(l.start_time),E=d||b.time_remaining||b.duration||1;console.log(" SCHEDULER: scheduleTask using duration:",E,"overrideDuration:",d),console.log(" SCHEDULER: Calling scheduleTaskWithSplitting with:",{taskId:a,newStart:x.toISOString(),timeRemainingHours:E,machineId:l.machine});const C=await r.scheduleTaskWithSplitting(a,x,E,l.machine);if(console.log(" SCHEDULER: scheduleTaskWithSplitting result:",C),console.log(" SCHEDULER: Checking for conflict...",{hasConflict:!!C?.conflict,conflictDetails:C?.conflict?C:"No conflict detected"}),!C)return{error:"No available time slots found for this task"};if(C.conflict)return{conflict:!0,conflictingTask:C.conflictingTask,draggedTask:b,proposedStartTime:l.start_time,proposedEndTime:l.end_time,machine:_,conflictingSegment:C.conflictingSegment,proposedSegments:C.proposedSegments,tasks:w};l.start_time=C.startTime.toISOString(),l.end_time=C.endTime.toISOString();const D={scheduled_machine_id:l.machine,scheduled_start_time:l.start_time,scheduled_end_time:l.end_time,status:"SCHEDULED"};if(C.segments){const I={segments:C.segments,totalSegments:C.segments.length,originalDuration:C.originalDuration||b.time_remaining||b.duration||1,wasSplit:C.wasSplit||!1};D.description=JSON.stringify(I)}const{apiService:O}=await Hr(async()=>{const{apiService:I}=await Promise.resolve().then(()=>M0);return{apiService:I}},void 0),N=await O.updateOdpOrder(a,D);if(C.segments){const I={segments:C.segments,totalSegments:C.segments.length,originalDuration:C.originalDuration||b.time_remaining||b.duration||1,wasSplit:C.wasSplit||!1};n.setSplitTaskInfo(a,I)}return h&&(h.invalidateQueries({queryKey:["orders"]}),h.invalidateQueries({queryKey:["orders",a]})),{success:!0,updatedTask:N,schedulingResult:C}}catch(m){return{error:Ho(m,"SchedulerStore.scheduleTask").message}}},unscheduleTask:async(a,l=null)=>{const{startSchedulingOperation:u,stopSchedulingOperation:d}=ss.getState();try{u("unschedule",a),n.clearSplitTaskInfo(a);const h={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,status:"NOT SCHEDULED",description:""},{apiService:m}=await Hr(async()=>{const{apiService:p}=await Promise.resolve().then(()=>M0);return{apiService:p}},void 0);return await m.updateOdpOrder(a,h),l&&(l.invalidateQueries({queryKey:["orders"]}),l.invalidateQueries({queryKey:["orders",a]})),{success:!0}}catch(h){return{error:Ho(h,"SchedulerStore.unscheduleTask").message}}finally{d()}},loadMachineAvailabilityForDate:i.loadMachineAvailabilityForDate,loadMachineAvailabilityForDateRange:i.loadMachineAvailabilityForDateRange,getMachineAvailability:i.getMachineAvailability,loadMachineAvailabilityForMachine:i.loadMachineAvailabilityForMachine,isTimeSlotUnavailable:i.isTimeSlotUnavailable,setMachineAvailability:i.setMachineAvailability,toggleMachineHourAvailability:i.toggleMachineHourAvailability,setMachineUnavailability:i.setMachineUnavailability,isMachineAvailabilityAccessible:i.isMachineAvailabilityAccessible,getMachineAvailabilityStatus:i.getMachineAvailabilityStatus,initializeEmptyMachineAvailability:i.initializeEmptyMachineAvailability,resolveConflictByShunting:async(a,l,u=null)=>{const{startSchedulingOperation:d,stopSchedulingOperation:h}=ss.getState();try{d("shunt",a.draggedTask?.id);const{getEntities:m}=li.getState(),p=m(),y=await s.resolveConflictByShunting(a,l,p,a.draggedTask);if(y&&!y.error&&u){console.log(" SHUNTING: Invalidating React Query cache to refresh UI");const b=[u.invalidateQueries({queryKey:["orders"]}),u.invalidateQueries({queryKey:["machines"]})];a.draggedTask?.id&&b.push(u.invalidateQueries({queryKey:["orders",a.draggedTask.id]})),await Promise.all(b)}return y}catch(m){return console.error(" SHUNTING ERROR in scheduler store:",m),{error:m.message||"Errore durante lo spostamento del task"}}finally{h()}},validateSlotAvailability:async(a,l,u,d)=>{try{const h=Wn(l,"yyyy-MM-dd");if(await e().isTimeSlotUnavailable(a.id,h,u))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:p}=Sc.getState(),y=new Date(l);y.setUTCHours(u,d,0,0);const b=new Date(y.getTime()+3600*1e3),_=p().filter(w=>w.scheduled_machine_id===a.id&&w.status==="SCHEDULED"&&w.scheduled_start_time);for(const w of _){const x=new Date(w.scheduled_start_time),E=w.time_remaining||w.duration||1,C=new Date(x.getTime()+E*60*60*1e3);if(y<C&&b>x)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch(h){return{error:Ho(h,"SchedulerStore.validateSlotAvailability").message}}},getEventsByDate:async a=>{try{return await xt.getEventsByDate(a)}catch{return[]}},reset:()=>t({machineAvailability:{},shuntPreview:null,splitTasksInfo:{}})}}),RM=()=>{const t=A.useCallback(d=>{if(!d||!d.department)return{isValid:!1,error:"Invalid phase data"};const{department:h}=d;if(h==="STAMPA"){const m=parseFloat(d.v_stampa);if(isNaN(m)||m<=0)return{isValid:!1,error:"Velocit di stampa non valida. Inserisci un valore maggiore di zero."}}else if(h==="CONFEZIONAMENTO"){const m=parseFloat(d.v_conf);if(isNaN(m)||m<=0)return{isValid:!1,error:"Velocit di confezionamento non valida. Inserisci un valore maggiore di zero."}}else return{isValid:!1,error:"Reparto non riconosciuto"};return{isValid:!0}},[]),e=A.useCallback((d,h,m)=>{if(!d||!h||d.department==="STAMPA"&&!m||!t(d).isValid)return null;try{const{department:y}=d;if(y==="STAMPA"){const b=parseFloat(d.v_stampa),_=parseFloat(d.t_setup_stampa)||0,w=parseFloat(d.costo_h_stampa)||0;if(isNaN(b)||b<=0)return null;const E=m*h/1e3/b,C=E+_,D=C*w;return{totals:{duration:C,cost:D},breakdown:{print:{time:E,cost:E*w},setup:{time:_,cost:_*w}}}}else if(y==="CONFEZIONAMENTO"){const b=parseFloat(d.v_conf),_=parseFloat(d.t_setup_conf)||0,w=parseFloat(d.costo_h_conf)||0;if(isNaN(b)||b<=0)return null;const x=h/b,E=_,C=x+E,D=C*w;return{totals:{duration:C,cost:D},breakdown:{package:{time:x,cost:x*w},setup:{time:E,cost:E*w}}}}return null}catch{return null}},[t]),n=A.useCallback(d=>d&&(d.startsWith("P05")||d.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),i=A.useCallback(d=>d&&d.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),r=A.useCallback(d=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[d]||[],[]),s=A.useCallback((d,h)=>{const p={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[d]||"MACH",y=h==="BUSTO_GAROLFO"?"BGF":"ZAN",b=Date.now().toString(36);return`${p}_${y}_${b}`},[]),a=A.useCallback((d,h)=>!(h<0||h>d),[]),l=A.useCallback((d,h)=>!d||d===0?0:Math.round(h*100/d),[]),u=A.useCallback((d,h)=>!d||d===0?0:!h||h===0?d:Math.round(d*(1-h/100)*100)/100,[]);return{calculateProductionMetrics:e,validatePhaseParameters:t,autoDetermineWorkCenter:n,autoDetermineDepartment:i,getValidMachineTypes:r,generateMachineId:s,validateQuantityCompleted:a,calculateCompletionRate:l,calculateTimeRemaining:u}};var db,rA;function lW(){if(rA)return db;rA=1;function t(x){this._maxSize=x,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(x){return this._values[x]},t.prototype.set=function(x,E){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=E};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),u=new t(a),d=new t(a);db={Cache:t,split:m,normalizePath:h,setter:function(x){var E=h(x);return u.get(x)||u.set(x,function(D,O){for(var N=0,I=E.length,k=D;N<I-1;){var j=E[N];if(j==="__proto__"||j==="constructor"||j==="prototype")return D;k=k[E[N++]]}k[E[N]]=O})},getter:function(x,E){var C=h(x);return d.get(x)||d.set(x,function(O){for(var N=0,I=C.length;N<I;)if(O!=null||!E)O=O[C[N++]];else return;return O})},join:function(x){return x.reduce(function(E,C){return E+(y(C)||n.test(C)?"["+C+"]":(E?".":"")+C)},"")},forEach:function(x,E,C){p(Array.isArray(x)?x:m(x),E,C)}};function h(x){return l.get(x)||l.set(x,m(x).map(function(E){return E.replace(s,"$2")}))}function m(x){return x.match(e)||[""]}function p(x,E,C){var D=x.length,O,N,I,k;for(N=0;N<D;N++)O=x[N],O&&(w(O)&&(O='"'+O+'"'),k=y(O),I=!k&&/^\d+$/.test(O),E.call(C,O,k,I,N,x))}function y(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function b(x){return x.match(i)&&!x.match(n)}function _(x){return r.test(x)}function w(x){return!y(x)&&(b(x)||_(x))}return db}var Qo=lW(),fb,sA;function cW(){if(sA)return fb;sA=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=h=>h.match(t)||[],n=h=>h[0].toUpperCase()+h.slice(1),i=(h,m)=>e(h).join(m).toLowerCase(),r=h=>e(h).reduce((m,p)=>`${m}${m?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return fb={words:e,upperFirst:n,camelCase:r,pascalCase:h=>n(r(h)),snakeCase:h=>i(h,"_"),kebabCase:h=>i(h,"-"),sentenceCase:h=>n(i(h," ")),titleCase:h=>e(h).map(n).join(" ")},fb}var hb=cW(),eg={exports:{}},aA;function uW(){if(aA)return eg.exports;aA=1,eg.exports=function(r){return t(e(r),r)},eg.exports.array=t;function t(r,s){var a=r.length,l=new Array(a),u={},d=a,h=n(s),m=i(r);for(s.forEach(function(y){if(!m.has(y[0])||!m.has(y[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)u[d]||p(r[d],d,new Set);return l;function p(y,b,_){if(_.has(y)){var w;try{w=", node was:"+JSON.stringify(y)}catch{w=""}throw new Error("Cyclic dependency"+w)}if(!m.has(y))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(y));if(!u[b]){u[b]=!0;var x=h.get(y)||new Set;if(x=Array.from(x),b=x.length){_.add(y);do{var E=x[--b];p(E,m.get(E),_)}while(b);_.delete(y)}l[--a]=y}}}function e(r){for(var s=new Set,a=0,l=r.length;a<l;a++){var u=r[a];s.add(u[0]),s.add(u[1])}return Array.from(s)}function n(r){for(var s=new Map,a=0,l=r.length;a<l;a++){var u=r[a];s.has(u[0])||s.set(u[0],new Set),s.has(u[1])||s.set(u[1],new Set),s.get(u[0]).add(u[1])}return s}function i(r){for(var s=new Map,a=0,l=r.length;a<l;a++)s.set(r[a],a);return s}return eg.exports}var dW=uW();const fW=jc(dW),hW=Object.prototype.toString,gW=Error.prototype.toString,mW=RegExp.prototype.toString,pW=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",yW=/^Symbol\((.*)\)(.*)$/;function vW(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function oA(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return vW(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return pW.call(t).replace(yW,"Symbol($1)");const i=hW.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+gW.call(t)+"]":i==="RegExp"?mW.call(t):null}function Ws(t,e){let n=oA(t,e);return n!==null?n:JSON.stringify(t,function(i,r){let s=oA(this[i],e);return s!==null?s:r},2)}function CM(t){return t==null?[]:[].concat(t)}let TM,AM,OM,bW=/\$\{\s*(\w+)\s*\}/g;TM=Symbol.toStringTag;class lA{constructor(e,n,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[TM]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=r,this.errors=[],this.inner=[],CM(e).forEach(s=>{if(pi.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}AM=Symbol.hasInstance;OM=Symbol.toStringTag;class pi extends Error{static formatError(e,n){const i=n.label||n.path||"this";return n=Object.assign({},n,{path:i,originalPath:n.path}),typeof e=="string"?e.replace(bW,(r,s)=>Ws(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,r,s){const a=new lA(e,n,i,r);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[OM]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,pi)}static[AM](e){return lA[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let is={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const r=i!=null&&i!==n?` (cast from the value \`${Ws(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ws(n,!0)}\``+r:`${t} must match the configured type. The validated value was: \`${Ws(n,!0)}\``+r}},Ai={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ma={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},N0={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},_W={isValue:"${path} field must be ${value}"},Rg={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Cg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},SW={notType:t=>{const{path:e,value:n,spec:i}=t,r=i.types.length;if(Array.isArray(n)){if(n.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${n.length} for value: \`${Ws(n,!0)}\``;if(n.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${n.length} for value: \`${Ws(n,!0)}\``}return pi.formatError(is.notType,t)}};Object.assign(Object.create(null),{mixed:is,string:Ai,number:Ma,date:N0,object:Rg,array:Cg,boolean:_W,tuple:SW});const qm=t=>t&&t.__isYupSchema__;class Jg{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=n,a=typeof i=="function"?i:(...l)=>l.every(u=>u===i);return new Jg(e,(l,u)=>{var d;let h=a(...l)?r:s;return(d=h?.(u))!=null?d:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(s=>s.getValue(n?.value,n?.parent,n?.context)),r=this.fn(i,e,n);if(r===void 0||r===e)return e;if(!qm(r))throw new TypeError("conditions must return a schema object");return r.resolve(n)}}const tg={context:"$",value:"."};class cl{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===tg.context,this.isValue=this.key[0]===tg.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?tg.context:this.isValue?tg.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Qo.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let r=this.isContext?i:this.isValue?e:n;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}cl.prototype.__isYupRef=!0;const Bs=t=>t==null;function lc(t){function e({value:n,path:i="",options:r,originalValue:s,schema:a},l,u){const{name:d,test:h,params:m,message:p,skipAbsent:y}=t;let{parent:b,context:_,abortEarly:w=a.spec.abortEarly,disableStackTrace:x=a.spec.disableStackTrace}=r;const E={value:n,parent:b,context:_};function C($={}){const G=DM(Object.assign({value:n,originalValue:s,label:a.spec.label,path:$.path||i,spec:a.spec,disableStackTrace:$.disableStackTrace||x},m,$.params),E),se=new pi(pi.formatError($.message||p,G),n,G.path,$.type||d,G.disableStackTrace);return se.params=G,se}const D=w?l:u;let O={path:i,parent:b,type:d,from:r.from,createError:C,resolve($){return kM($,E)},options:r,originalValue:s,schema:a};const N=$=>{pi.isError($)?D($):$?u(null):D(C())},I=$=>{pi.isError($)?D($):l($)};if(y&&Bs(n))return N(!0);let j;try{var H;if(j=h.call(O,n,O),typeof((H=j)==null?void 0:H.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${O.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(j).then(N,I)}}catch($){I($);return}N(j)}return e.OPTIONS=t,e}function DM(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=kM(t[n],e);return t}function kM(t,e){return cl.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function wW(t,e,n,i=n){let r,s,a;return e?(Qo.forEach(e,(l,u,d)=>{let h=u?l.slice(1,l.length-1):l;t=t.resolve({context:i,parent:r,value:n});let m=t.type==="tuple",p=d?parseInt(h,10):0;if(t.innerType||m){if(m&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);r=n,n=n&&n[p],t=m?t.spec.types[p]:t.innerType}if(!d){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);r=n,n=n&&n[h],t=t.fields[h]}s=h,a=u?"["+l+"]":"."+l}),{schema:t,parent:r,parentPath:s}):{parent:r,parentPath:e,schema:t}}class em extends Set{describe(){const e=[];for(const n of this.values())e.push(cl.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new em(this.values())}merge(e,n){const i=this.clone();return e.forEach(r=>i.add(r)),n.forEach(r=>i.delete(r)),i}}function pc(t,e=new Map){if(qm(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=pc(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,r]of t.entries())n.set(i,pc(r,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(pc(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,r]of Object.entries(t))n[i]=pc(r,e)}else throw Error(`Unable to clone ${t}`);return n}function xW(t){if(!(t!=null&&t.length))return;const e=[];let n="",i=!1,r=!1;for(let s=0;s<t.length;s++){const a=t[s];if(a==="["&&!r){n&&(e.push(...n.split(".").filter(Boolean)),n=""),i=!0;continue}if(a==="]"&&!r){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),i=!1;continue}if(a==='"'){r=!r;continue}if(a==="."&&!i&&!r){n&&(e.push(n),n="");continue}n+=a}return n&&e.push(...n.split(".").filter(Boolean)),e}function EW(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(i=>({message:i,path:xW(n)}))}function MM(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return EW(t,e);const i=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(r=>MM(r,i))}class Er{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new em,this._blacklist=new em,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(is.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=pc(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const r=Object.assign({},n.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((r,s)=>s.resolve(r,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,r,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({},n,{value:e})),r=n.assert==="ignore-optionality",s=i._cast(e,n);if(n.assert!==!1&&!i.isType(s)){if(r&&Bs(s))return s;let a=Ws(e),l=Ws(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return s}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((r,s)=>s.call(this,r,e,this,n),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,r){let{path:s,originalValue:a=e,strict:l=this.spec.strict}=n,u=e;l||(u=this._cast(u,Object.assign({assert:!1},n)));let d=[];for(let h of Object.values(this.internalTests))h&&d.push(h);this.runTests({path:s,value:u,originalValue:a,options:n,tests:d},i,h=>{if(h.length)return r(h,u);this.runTests({path:s,value:u,originalValue:a,options:n,tests:this.tests},i,r)})}runTests(e,n,i){let r=!1,{tests:s,value:a,originalValue:l,path:u,options:d}=e,h=_=>{r||(r=!0,n(_,a))},m=_=>{r||(r=!0,i(_,a))},p=s.length,y=[];if(!p)return m([]);let b={value:a,originalValue:l,path:u,options:d,schema:this};for(let _=0;_<s.length;_++){const w=s[_];w(b,h,function(E){E&&(Array.isArray(E)?y.push(...E):y.push(E)),--p<=0&&m(y)})}}asNestedTest({key:e,index:n,parent:i,parentPath:r,originalParent:s,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let d=i[l];const h=Object.assign({},a,{strict:!0,parent:i,value:d,originalValue:s[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${r||""}[${u?l:`"${l}"`}]`:(r?`${r}.`:"")+e});return(m,p,y)=>this.resolve(h)._validate(d,h,p,y)}validate(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s=(i=n?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((a,l)=>r._validate(e,n,(u,d)=>{pi.isError(u)&&(u.value=d),l(u)},(u,d)=>{u.length?l(new pi(u,d,void 0,void 0,s)):a(d)}))}validateSync(e,n){var i;let r=this.resolve(Object.assign({},n,{value:e})),s,a=(i=n?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(e,Object.assign({},n,{sync:!0}),(l,u)=>{throw pi.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new pi(l,e,void 0,void 0,a);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(pi.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(pi.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):pc(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=lc({message:n,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=lc({message:n,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=is.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=is.notNull){return this.nullability(!1,e)}required(e=is.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=is.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=lc(n),s=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(a=>!(a.OPTIONS.name===n.name&&(s||a.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),r=CM(e).map(s=>new cl(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof n=="function"?new Jg(r,n):Jg.fromOptions(r,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=lc({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=is.oneOf){let i=this.clone();return e.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=lc({message:n,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),i}notOneOf(e,n=is.notOneOf){let i=this.clone();return e.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=lc({message:n,name:"notOneOf",test(r){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:r,optional:s,nullable:a}=n.spec;return{meta:r,label:i,optional:s,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((u,d,h)=>h.findIndex(m=>m.OPTIONS.name===u.OPTIONS.name)===d).map(u=>{const d=u.OPTIONS.params&&e?DM(Object.assign({},u.OPTIONS.params),e):u.OPTIONS.params;return{name:u.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await e.validate(i,{abortEarly:!1})}}catch(r){if(r instanceof pi)return{issues:MM(r)};throw r}}}}}Er.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Er.prototype[`${t}At`]=function(e,n,i={}){const{parent:r,parentPath:s,schema:a}=wW(this,e,n,i.context);return a[t](r&&r[s],Object.assign({},i,{parent:r,path:e}))};for(const t of["equals","is"])Er.prototype[t]=Er.prototype.oneOf;for(const t of["not","nope"])Er.prototype[t]=Er.prototype.notOneOf;const RW=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function CW(t){const e=I0(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function I0(t){var e,n;const i=RW.exec(t);return i?{year:Ms(i[1]),month:Ms(i[2],1)-1,day:Ms(i[3],1),hour:Ms(i[4]),minute:Ms(i[5]),second:Ms(i[6]),millisecond:i[7]?Ms(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Ms(i[10]),minuteOffset:Ms(i[11])}:null}function Ms(t,e=0){return Number(t)||e}let TW=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,AW=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,OW=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,DW="^\\d{4}-\\d{2}-\\d{2}",kW="\\d{2}:\\d{2}:\\d{2}",MW="(([+-]\\d{2}(:?\\d{2})?)|Z)",NW=new RegExp(`${DW}T${kW}(\\.\\d+)?${MW}$`),IW=t=>Bs(t)||t===t.trim(),PW={}.toString();function Di(){return new NM}class NM extends Er{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===PW?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||is.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Ai.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=Ai.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=Ai.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,r,s;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:r,name:s}=n:r=n),this.test({name:s||"matches",message:r||Ai.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&i||a.search(e)!==-1})}email(e=Ai.email){return this.matches(TW,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ai.url){return this.matches(AW,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ai.uuid){return this.matches(OW,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,r;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:r=void 0}=e:n=e),this.matches(NW,{name:"datetime",message:n||Ai.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Ai.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:s=>{if(!s||i)return!0;const a=I0(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Ai.datetime_precision,params:{precision:r},skipAbsent:!0,test:s=>{if(!s||r==null)return!0;const a=I0(s);return a?a.precision===r:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ai.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:IW})}lowercase(e=Ai.lowercase){return this.transform(n=>Bs(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Bs(n)||n===n.toLowerCase()})}uppercase(e=Ai.uppercase){return this.transform(n=>Bs(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Bs(n)||n===n.toUpperCase()})}}Di.prototype=NM.prototype;let jW=t=>t!=+t;function In(){return new IM}class IM extends Er{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!jW(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return this.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=Ma.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,n=Ma.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,n=Ma.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,n=Ma.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=Ma.positive){return this.moreThan(0,e)}negative(e=Ma.negative){return this.lessThan(0,e)}integer(e=Ma.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Bs(e)?e:e|0)}round(e){var n;let i=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(r=>Bs(r)?r:Math[e](r))}}In.prototype=IM.prototype;let PM=new Date(""),LW=t=>Object.prototype.toString.call(t)==="[object Date]";function md(){return new of}class of extends Er{constructor(){super({type:"date",check(e){return LW(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=CW(e),isNaN(e)?of.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(cl.isRef(e))i=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(e,n=N0.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(e,n=N0.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}of.INVALID_DATE=PM;md.prototype=of.prototype;md.INVALID_DATE=PM;function FW(t,e=[]){let n=[],i=new Set,r=new Set(e.map(([a,l])=>`${a}-${l}`));function s(a,l){let u=Qo.split(a)[0];i.add(u),r.has(`${l}-${u}`)||n.push([l,u])}for(const a of Object.keys(t)){let l=t[a];i.add(a),cl.isRef(l)&&l.isSibling?s(l.path,a):qm(l)&&"deps"in l&&l.deps.forEach(u=>s(u,a))}return fW.array(Array.from(i),n).reverse()}function cA(t,e){let n=1/0;return t.some((i,r)=>{var s;if((s=e.path)!=null&&s.includes(i))return n=r,!0}),n}function jM(t){return(e,n)=>cA(t,e)-cA(t,n)}const LM=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function Tg(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=Tg(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Tg(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Tg)}):"optional"in t?t.optional():t}const UW=(t,e)=>{const n=[...Qo.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),r=Qo.getter(Qo.join(n),!0)(t);return!!(r&&i in r)};let uA=t=>Object.prototype.toString.call(t)==="[object Object]";function dA(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const zW=jM([]);function io(t){return new FM(t)}class FM extends Er{constructor(e){super({type:"object",check(n){return uA(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=zW,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let r=super._cast(e,n);if(r===void 0)return this.getDefault(n);if(!this._typeCheck(r))return r;let s=this.fields,a=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(r).filter(m=>!this._nodes.includes(m))),u={},d=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const m of l){let p=s[m],y=m in r,b=r[m];if(p){let _;d.path=(n.path?`${n.path}.`:"")+m,p=p.resolve({value:b,context:n.context,parent:u});let w=p instanceof Er?p.spec:void 0,x=w?.strict;if(w!=null&&w.strip){h=h||m in r;continue}_=!n.__validating||!x?p.cast(b,d):b,_!==void 0&&(u[m]=_)}else y&&!a&&(u[m]=b);(y!==m in u||u[m]!==b)&&(h=!0)}return h?u:r}_validate(e,n={},i,r){let{from:s=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...s],n.__validating=!0,n.originalValue=a,super._validate(e,n,i,(u,d)=>{if(!l||!uA(d)){r(u,d);return}a=a||d;let h=[];for(let m of this._nodes){let p=this.fields[m];!p||cl.isRef(p)||h.push(p.asNestedTest({options:n,key:m,parent:d,parentPath:n.path,originalParent:a}))}this.runTests({tests:h,value:d,originalValue:a,options:n},i,m=>{r(m.sort(this._sortErrors).concat(u),d)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[r,s]of Object.entries(this.fields)){const a=i[r];i[r]=a===void 0?s:a}return n.withMutation(r=>r.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var r;const s=this.fields[i];let a=e;(r=a)!=null&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n[i]=s&&"getDefault"in s?s.getDefault(a):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=FW(e,n),i._sortErrors=jM(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),r=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),r)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Tg(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,r])=>e.includes(i)&&e.includes(r)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let r=Qo.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return UW(s,e)&&(a=Object.assign({},s),i||delete a[e],a[n]=r(s)),a})}json(){return this.transform(LM)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Rg.exact,test(n){if(n==null)return!0;const i=dA(this.schema,n);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Rg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(r){if(r==null)return!0;const s=dA(this.schema,r);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=Rg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const r of Object.keys(n))i[e(r)]=n[r];return i})}camelCase(){return this.transformKeys(hb.camelCase)}snakeCase(){return this.transformKeys(hb.snakeCase)}constantCase(){return this.transformKeys(e=>hb.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[s,a]of Object.entries(n.fields)){var r;let l=e;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),i.fields[s]=a.describe(l)}return i}}io.prototype=FM.prototype;function UM(t){return new zM(t)}class zM extends Er{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const i=super._cast(e,n);if(!this._typeCheck(i)||!this.innerType)return i;let r=!1;const s=i.map((a,l)=>{const u=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${l}]`,parent:i,originalValue:a,value:a,index:l}));return u!==a&&(r=!0),u});return r?s:i}_validate(e,n={},i,r){var s;let a=this.innerType,l=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,i,(u,d)=>{var h;if(!l||!a||!this._typeCheck(d)){r(u,d);return}let m=new Array(d.length);for(let y=0;y<d.length;y++){var p;m[y]=a.asNestedTest({options:n,index:y,parent:d,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:d,tests:m,originalValue:(h=n.originalValue)!=null?h:e,options:n},i,y=>r(y.concat(u),d))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(LM)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!qm(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Ws(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=Cg.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n){return n=n||Cg.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n){return n=n||Cg.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(i,r,s)=>!e(i,r,s):i=>!!i;return this.transform(i=>i!=null?i.filter(n):i)}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);if(n.innerType){var r;let s=e;(r=s)!=null&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),i.innerType=n.innerType.describe(s)}return i}}UM.prototype=zM.prototype;const an=Di().required("This field is required");In().required("This field is required").min(0,"Value must be at least 0");const es=In().nullable().transform(t=>isNaN(t)?null:t).min(0,"Value must be at least 0"),HW=t=>t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0,BW=io({machine_name:an.min(2,"Machine name must be at least 2 characters").max(100,"Machine name must be at most 100 characters").matches(/^[a-zA-Z0-9\s\-_]+$/,"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"),machine_type:an,department:an.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:an.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),status:an.oneOf(["ACTIVE","INACTIVE"],"Invalid status"),min_web_width:es,max_web_width:es,min_bag_height:es,max_bag_height:es,standard_speed:es,setup_time_standard:es,changeover_color:es,changeover_material:es,active_shifts:UM().of(Di().oneOf(["T1","T2","T3"]))}).test("web-width-logic","Minimum web width cannot exceed maximum web width",function(t){return t.min_web_width&&t.max_web_width?t.min_web_width<=t.max_web_width:!0}).test("bag-height-logic","Minimum bag height cannot exceed maximum bag height",function(t){return t.min_bag_height&&t.max_bag_height?t.min_bag_height<=t.max_bag_height:!0}),$W=io({name:an.min(2,"Phase name must be at least 2 characters").max(100,"Phase name must be at most 100 characters"),department:an.oneOf(["STAMPA","CONFEZIONAMENTO"],"Invalid department"),work_center:an.oneOf(["ZANICA","BUSTO_GAROLFO"],"Invalid work center"),numero_persone:In().required("Number of people is required").min(1,"Number of people must be at least 1"),bag_width:es,bag_step:es,v_stampa:In().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Printing speed must be greater than 0")}),t_setup_stampa:In().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_stampa:In().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"STAMPA",then:t=>t.min(0,"Hourly cost cannot be negative")}),v_conf:In().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Packaging speed must be greater than 0")}),t_setup_conf:In().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Setup time cannot be negative")}),costo_h_conf:In().nullable().transform(t=>isNaN(t)?null:t).when("department",{is:"CONFEZIONAMENTO",then:t=>t.min(0,"Hourly cost cannot be negative")})}).test("bag-width-step-logic","Bag width cannot be less than bag step",HW),fA=io({odp_number:an.min(1,"Il numero ODP  obbligatorio"),article_code:an.min(1,"Il codice articolo  obbligatorio"),work_center:an.oneOf(["ZANICA","BUSTO_GAROLFO"],"Seleziona un centro di lavoro valido"),nome_cliente:an.min(1,"Il nome del cliente  obbligatorio"),quantity:In().required("La quantit  obbligatoria").min(0,"La quantit deve essere maggiore o uguale a 0").typeError("La quantit deve essere un numero valido"),delivery_date:md().required("La data di consegna  obbligatoria").typeError("Inserisci una data di consegna valida"),customer_order_ref:an.min(1,"Il riferimento ordine cliente  obbligatorio"),department:an.oneOf(["STAMPA","CONFEZIONAMENTO"],"Seleziona un reparto valido"),status:Di().oneOf(["NOT SCHEDULED","SCHEDULED","IN PROGRESS","COMPLETED","CANCELLED"],"Stato non valido").default("NOT SCHEDULED"),quantity_completed:In().min(0,"La quantit completata deve essere maggiore o uguale a 0").default(0),production_lot:Di().nullable(),description:Di().nullable(),bag_height:In().nullable().transform(t=>isNaN(t)?null:t).min(0,"L'altezza busta deve essere maggiore o uguale a 0"),bag_width:In().nullable().transform(t=>isNaN(t)?null:t).min(0,"La larghezza busta deve essere maggiore o uguale a 0"),bag_step:In().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il passo busta deve essere maggiore o uguale a 0"),seal_sides:In().nullable().transform(t=>isNaN(t)?null:t).oneOf([3,4],"I lati di sigillatura devono essere 3 o 4"),product_type:Di().nullable().oneOf(["CREMA","LIQUIDO","POLVERI"],"Seleziona un tipo di prodotto valido"),internal_customer_code:Di().nullable().test("not-empty-if-provided","Il codice cliente interno non pu essere vuoto",function(t){return!t||t.trim().length>0}),external_customer_code:Di().nullable().test("not-empty-if-provided","Il codice cliente esterno non pu essere vuoto",function(t){return!t||t.trim().length>0}),fase:Di().nullable(),duration:In().nullable().transform(t=>isNaN(t)?null:t).min(0,"La durata deve essere maggiore o uguale a 0"),cost:In().nullable().transform(t=>isNaN(t)?null:t).min(0,"Il costo deve essere maggiore o uguale a 0"),scheduled_start_time:md().nullable(),scheduled_end_time:md().nullable(),scheduled_machine_id:Di().nullable(),user_notes:Di().nullable(),asd_notes:Di().nullable(),material_availability_global:In().nullable().transform(t=>isNaN(t)?null:t).min(0,"Material availability must be between 0 and 100").max(100,"Material availability must be between 0 and 100")}).test("bag-width-step-logic","La larghezza busta non pu essere minore del passo busta",function(t){return t.bag_width&&t.bag_step?t.bag_width>=t.bag_step:!0}).test("quantity-completed-logic","La quantit completata non pu superare la quantit totale",function(t){return t.quantity&&t.quantity_completed!==void 0?t.quantity_completed<=t.quantity:!0}).test("scheduled-time-order","L'ora di fine programmata deve essere dopo l'ora di inizio",function(t){return t.scheduled_start_time&&t.scheduled_end_time?new Date(t.scheduled_end_time)>new Date(t.scheduled_start_time):!0}).test("scheduling-logic","I campi di programmazione devono essere tutti forniti o tutti nulli",function(t){const e=!!t.scheduled_start_time,n=!!t.scheduled_end_time,i=!!t.scheduled_machine_id;return e&&n&&i||!e&&!n&&!i}),VW=io({startDate:an,startTime:an,endDate:an,endTime:an}).test("date-logic","End date cannot be before start date",function(t){return t.startDate&&t.endDate?new Date(t.startDate)<=new Date(t.endDate):!0}).test("time-logic","End time must be after start time when dates are the same",function(t){return t.startDate&&t.endDate&&t.startDate===t.endDate&&t.startTime&&t.endTime?t.startTime<t.endTime:!0}),qW=io({email:an.email("Please enter a valid email address"),password:an.min(6,"Password must be at least 6 characters")}),WW=io({email:an.email("Please enter a valid email address"),password:an.min(6,"Password must be at least 6 characters"),confirmPassword:Di().required("Please confirm your password")}).test("passwords-match","Passwords must match",function(t){return t.password===t.confirmPassword}),GW=io({email:an.email("Please enter a valid email address")}),YW=(t,e)=>{try{return e.validateSync(t,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(n){const i={};return n.inner.forEach(r=>{i[r.path]=r.message}),{isValid:!1,errors:i}}},QW={MACHINE:BW,PHASE:$W,ORDER:fA,BACKLOG:fA,OFF_TIME:VW,LOGIN:qW,SIGNUP:WW,FORGOT_PASSWORD:GW},KW=()=>{const t=A.useCallback((p,y)=>{const b=QW[y];if(!b)throw new Error(`Unknown schema type: ${y}`);return YW(p,b)},[]),e=A.useCallback(p=>t(p,"MACHINE"),[t]),n=A.useCallback(p=>t(p,"PHASE"),[t]),i=A.useCallback(p=>t(p,"ORDER"),[t]),r=A.useCallback(p=>t(p,"OFF_TIME"),[t]),s=A.useCallback((p,y)=>t(p,y),[t]),a=A.useCallback((p,y)=>{const b={};return y.some(w=>w.scheduled_machine_id===p)&&(b.general="Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),{isValid:Object.keys(b).length===0,errors:b}},[]),l=A.useCallback(p=>{const y={};return p?(p.quantity_completed>0&&(y.general="Cannot delete order that has started production"),p.scheduled_machine_id&&(y.general="Cannot delete scheduled order. Please unschedule first."),{isValid:Object.keys(y).length===0,errors:y}):(y.general="Order is required",{isValid:!1,errors:y})},[]),u=A.useCallback((p,y,b,_)=>{const w={};return p?y?!b||!_?(w.general="Start and end times are required",{isValid:!1,errors:w}):(y.status!=="ACTIVE"&&(w.general=`Machine ${y.machine_name} is not active`),p.scheduled_machine_id&&p.scheduled_machine_id!==y.id&&(w.general="Order is already scheduled on a different machine"),p.fase||(w.general="Order must have a production phase selected"),(!p.quantity||p.quantity<=0)&&(w.general="Order must have a valid quantity"),(!p.duration||p.duration<=0)&&(w.general="Order must have calculated duration"),{isValid:Object.keys(w).length===0,errors:w}):(w.general="Machine is required",{isValid:!1,errors:w}):(w.general="Order is required",{isValid:!1,errors:w})},[]),d=A.useCallback((p,y)=>{const b={};if(!p)return b.general="Please select a production phase",{isValid:!1,errors:b};y.department&&p.department!==y.department&&(b.general=`Selected phase is for ${p.department} department, but order is for ${y.department}`),y.work_center&&p.work_center!==y.work_center&&(b.general=`Selected phase is for ${p.work_center} work center, but order is for ${y.work_center}`);const _=n(p);return _.isValid||Object.assign(b,_.errors),{isValid:Object.keys(b).length===0,errors:b}},[n]),h=A.useCallback((p,y)=>{if(p.status!=="ACTIVE")return!1;const b=p.active_shifts||[];if(b.length===0)return!1;const _=y.getUTCHours();return b.some(x=>{switch(x){case"T1":return _>=6&&_<14;case"T2":return _>=14&&_<22;case"T3":return _>=22||_<6;default:return!1}})},[]),m=A.useCallback(p=>({name:p?.machine_name||"Unknown Machine",type:p?.machine_type||"Unknown Type",department:p?.department||"Unknown Department",workCenter:p?.work_center||"Unknown Work Center",status:p?.status||"UNKNOWN",isActive:p?.status==="ACTIVE"}),[]);return{validate:t,validateMachine:e,validatePhase:n,validateOrder:i,validateOffTime:r,validateAuth:s,validateMachineDeletion:a,validateOrderDeletion:l,validateOrderScheduling:u,validatePhaseSelection:d,isMachineAvailable:h,getMachineDisplayInfo:m}},XW=(t,e,n=null)=>{const{entities:i}=Kg(),[r,s]=A.useState(""),[a,l]=A.useState(!1),[u,d]=A.useState(null),[h,m]=A.useState({}),p=A.useRef(null),y=A.useMemo(()=>!i||i.length===0?[]:t||e?i.filter(D=>(!t||D.department===t)&&(!e||D.work_center===e)).filter(D=>D.name.toLowerCase().includes(r.toLowerCase())):[],[r,t,e,i]);A.useEffect(()=>{if(n&&i&&i.length>0&&!u){const C=i.find(D=>D.id===n);C&&(d(C),s(C.name),m({v_stampa:C.v_stampa||null,t_setup_stampa:C.t_setup_stampa||null,costo_h_stampa:C.costo_h_stampa||null,v_conf:C.v_conf||null,t_setup_conf:C.t_setup_conf||null,costo_h_conf:C.costo_h_conf||null}))}},[n,i,u]),A.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const b=A.useCallback((C,D)=>{const O=D===""?null:parseFloat(D);m(N=>({...N,[C]:O}))},[]),_=A.useCallback((C,D,O)=>{D("fase",C.id),d(C),s(C.name),l(!1),O("fase"),m({v_stampa:C.v_stampa||null,t_setup_stampa:C.t_setup_stampa||null,costo_h_stampa:C.costo_h_stampa||null,v_conf:C.v_conf||null,t_setup_conf:C.t_setup_conf||null,costo_h_conf:C.costo_h_conf||null})},[]),w=A.useCallback(()=>{s(""),d(null),m({})},[]),x=A.useCallback(()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>l(!1),150)},[]);return A.useMemo(()=>({phaseSearch:r,setPhaseSearch:s,isDropdownVisible:a,setIsDropdownVisible:l,selectedPhase:u,setSelectedPhase:d,filteredPhases:y,editablePhaseParams:h,setEditablePhaseParams:m,handlePhaseParamChange:b,handlePhaseSelect:_,resetPhaseData:w,handleBlur:x,blurTimeoutRef:p}),[r,a,u,y,h,m,b,_,w,x])};function ZW(t,e){const n=J6(e),i=new Set;if(n===0||n===6){for(let l=0;l<24;l++)i.add(l.toString());return Array.from(i)}for(let l=0;l<24;l++)i.add(l.toString());const{work_center:r,department:s,active_shifts:a=[]}=t;return a.forEach(l=>{if(l==="T3"){i.clear();return}if(l==="T2")for(let u=6;u<22;u++)i.delete(u.toString());if(l==="T1"){if(r===yt.BUSTO_GAROLFO){for(let u=8;u<12;u++)i.delete(u.toString());for(let u=14;u<18;u++)i.delete(u.toString())}else if(r===yt.ZANICA)if(s===sn.PACKAGING){for(let u=8;u<12;u++)i.delete(u.toString());for(let u=13;u<17;u++)i.delete(u.toString())}else{for(let u=8;u<12;u++)i.delete(u.toString());for(let u=13;u<17;u++)i.delete(u.toString())}}}),Array.from(i).sort((l,u)=>parseInt(l)-parseInt(u))}function JW(t,e){const n=[],i=wM(new Date(e,0,1)),r=e6(new Date(e,11,31));for(const s of t){let a=new Date(i);for(;!eW(a,r);){const l=ZW(s,a);l.length>0&&n.push({machine_id:s.id,date:Wn(a,"yyyy-MM-dd"),unavailable_hours:l}),a=sf(a,1)}}return n}const mt={machines:["machines"],machine:t=>["machines",t],machinesByWorkCenter:t=>["machines","workCenter",t],orders:["orders"],order:t=>["orders",t],phases:["phases"],phase:t=>["phases",t],machineAvailability:(t,e,n)=>["machineAvailability",t,e,n],machineAvailabilityForDate:(t,e)=>["machineAvailability",t,"date",e],machineAvailabilityForDateAllMachines:t=>["machineAvailability","allMachines",t]},Wm=()=>sl({queryKey:mt.machines,queryFn:()=>xt.getMachines(),staleTime:120*1e3}),eG=t=>sl({queryKey:mt.machinesByWorkCenter(t),queryFn:()=>xt.getMachines().then(e=>t===yt.BOTH?e:e.filter(n=>n.work_center===t)),staleTime:120*1e3}),tG=()=>{const t=ji();return ea({mutationFn:async e=>{const n=await xt.addMachine(e);try{const i=new Date().getUTCFullYear(),r=JW([n],i);r.length>0&&await xt.bulkUpsertMachineAvailability(r),ol(`Machine "${n?.machine_name||"Unknown"}" added and calendar set successfully`)}catch(i){rd(`Machine added, but failed to set calendar: ${i.message}`)}return n},onSuccess:e=>{t.invalidateQueries({queryKey:mt.machines}),t.invalidateQueries({queryKey:mt.machinesByWorkCenter()}),t.setQueryData(mt.machines,n=>n?[...n,e]:[e])}})},nG=()=>{const t=ji();return ea({mutationFn:({id:e,updates:n})=>xt.updateMachine(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:mt.machines}),t.invalidateQueries({queryKey:mt.machinesByWorkCenter()}),t.setQueryData(mt.machines,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(mt.machine(n),e),ol(`Machine "${e?.machine_name||"Unknown"}" updated successfully`)}})},iG=()=>{const t=ji();return ea({mutationFn:async e=>{const n=await xt.getMachines().then(i=>i.find(r=>r.id===e));return await xt.removeMachine(e),n},onSuccess:e=>{t.invalidateQueries({queryKey:mt.machines}),t.invalidateQueries({queryKey:mt.machinesByWorkCenter()}),t.setQueryData(mt.machines,n=>n?.filter(i=>i.id!==e.id)),t.removeQueries({queryKey:mt.machine(e.id)}),ol(`Machine "${e?.machine_name||"Unknown"}" deleted successfully`)}})},Gm=()=>sl({queryKey:mt.orders,queryFn:()=>xt.getOdpOrders(),staleTime:60*1e3}),rG=t=>sl({queryKey:mt.order(t),queryFn:async()=>{try{return await xt.getOdpOrder(t)}catch{const i=(await xt.getOdpOrders()).find(r=>r.id===t);if(!i)throw new Error(`Order with id ${t} not found`);return i}},enabled:!!t,staleTime:60*1e3}),sG=()=>{const t=ji();return ea({mutationFn:e=>xt.addOdpOrder(e),onSuccess:e=>{t.invalidateQueries({queryKey:mt.orders}),t.setQueryData(mt.orders,n=>n?[e,...n]:[e])}})},aG=()=>{const t=ji();return ea({mutationFn:({id:e,updates:n})=>xt.updateOdpOrder(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:mt.orders}),t.setQueryData(mt.orders,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(mt.order(n),e)}})},oG=()=>{const t=ji();return ea({mutationFn:e=>xt.removeOdpOrder(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:mt.orders}),t.setQueryData(mt.orders,i=>i?.filter(r=>r.id!==n)),t.removeQueries({queryKey:mt.order(n)})}})},q_=()=>sl({queryKey:mt.phases,queryFn:()=>xt.getPhases(),staleTime:300*1e3}),lG=t=>sl({queryKey:mt.phase(t),queryFn:()=>xt.getPhases().then(e=>e.find(n=>n.id===t)),enabled:!!t,staleTime:300*1e3}),cG=()=>{const t=ji();return ea({mutationFn:e=>xt.addPhase(e),onSuccess:e=>{t.invalidateQueries({queryKey:mt.phases}),t.setQueryData(mt.phases,n=>n?[...n,e]:[e])}})},uG=()=>{const t=ji();return ea({mutationFn:({id:e,updates:n})=>xt.updatePhase(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:mt.phases}),t.setQueryData(mt.phases,i=>i?.map(r=>r.id===n?{...r,...e}:r)),t.setQueryData(mt.phase(n),e)}})},dG=()=>{const t=ji();return ea({mutationFn:e=>xt.removePhase(e),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:mt.phases}),t.setQueryData(mt.phases,i=>i?.filter(r=>r.id!==n)),t.removeQueries({queryKey:mt.phase(n)})}})},lre=t=>sl({queryKey:mt.machineAvailabilityForDateAllMachines(t),queryFn:()=>xt.getMachineAvailabilityForDateAllMachines(t),enabled:!!t,staleTime:30*1e3}),fG=()=>{const{data:t,isLoading:e,error:n}=Wm(),{data:i,isLoading:r,error:s}=Gm(),{data:a,isLoading:l,error:u}=q_(),{setEntities:d}=as(),{setEntities:h}=li(),{setEntities:m}=Kg();return A.useEffect(()=>{t&&!e&&!n&&d(t)},[t,e,n,d]),A.useEffect(()=>{i&&!r&&!s&&h(i)},[i,r,s,h]),A.useEffect(()=>{a&&!l&&!u&&m(a)},[a,l,u,m]),{isLoading:e||r||l,errors:{machines:n,orders:s,phases:u}}};function hG(){const{selectedWorkCenter:t,showConfirmDialog:e}=vn(),n=cs(),{data:i=[],isLoading:r,error:s}=eG(t),a=iG(),{handleAsync:l}=us("MachineryListPage");if(s)return R.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle macchine: ",s.message]});const u=A.useMemo(()=>[{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Stato",accessorKey:"status"},{header:"Larghezza Min (mm)",accessorKey:"min_web_width"},{header:"Larghezza Max (mm)",accessorKey:"max_web_width"},{header:"Altezza Min (mm)",accessorKey:"min_bag_height"},{header:"Altezza Max (mm)",accessorKey:"max_bag_height"},{header:"Velocit Std",accessorKey:"standard_speed"},{header:"Setup (h)",accessorKey:"setup_time_standard"},{header:"Cambio Colore (h)",accessorKey:"changeover_color"},{header:"Cambio Materiale (h)",accessorKey:"changeover_material"},{header:"Turni Attivi",accessorKey:"active_shifts",cell:m=>Array.isArray(m.getValue())?m.getValue().join(", "):""},{header:"Calendario",accessorKey:"id",cell:m=>R.jsx(Pn,{to:`/machinery/${m.getValue()}/calendar`,className:"inline-flex items-center px-1 py-1 border border-gray-300 rounded shadow-sm text-[10px] font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Visualizza Calendario"})}],[]),d=m=>{n(`/machinery/${m.id}/edit`)},h=async m=>{e("Elimina Macchina",`Sei sicuro di voler eliminare "${m.machine_name}"? Questa azione non pu essere annullata.`,async()=>{await l(async()=>{await a.mutateAsync(m.id)},{context:"Delete Machine",fallbackMessage:"Eliminazione macchina fallita"})},"danger")};return r?R.jsx("div",{children:"Caricamento dati macchine..."}):t?R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Macchine"}),R.jsx(Pn,{to:"/machinery/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Macchina"})]}),R.jsx(z_,{columns:u,data:i,onEditRow:d,onDeleteRow:h,enableGlobalSearch:!1})]}):R.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle macchine."})}const yr={validationSchema:"MACHINE",addButtonText:"Aggiungi Macchina",editButtonText:"Aggiorna Macchina",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Machine",editContext:"Update Machine",addErrorMessage:"Aggiunta macchina fallita",editErrorMessage:"Aggiornamento macchina fallita",sections:[{title:"Identificazione",fields:[{name:"department",label:"Department",type:"select",required:!0,options:[{value:sn.PRINTING,label:sn.PRINTING},{value:sn.PACKAGING,label:sn.PACKAGING}],defaultValue:Yt.MACHINE.DEPARTMENT,validation:{required:"Department is required"}},{name:"machine_type",label:"Machine Type",type:"select",required:!0,placeholder:"Seleziona tipo macchina",options:[],conditional:t=>t===sn.PRINTING||t===sn.PACKAGING,validation:{required:"Machine type is required"}},{name:"machine_name",label:"Machine Name",type:"text",required:!0,placeholder:"Nome descrittivo",validation:{required:"Machine name is required",minLength:{value:2,message:"Machine name must be at least 2 characters"},maxLength:{value:100,message:"Machine name must be at most 100 characters"},pattern:{value:/^[a-zA-Z0-9\s\-_]+$/,message:"Machine name can only contain letters, numbers, spaces, hyphens, and underscores"}}},{name:"work_center",label:"Work Center",type:"select",required:!0,placeholder:"Seleziona un centro di lavoro",options:[{value:yt.ZANICA,label:yt.ZANICA},{value:yt.BUSTO_GAROLFO,label:yt.BUSTO_GAROLFO}],defaultValue:Yt.MACHINE.WORK_CENTER,helpText:"Il centro di lavoro  pre-impostato.",validation:{required:"Work center is required"}}]},{title:"Capacit Tecniche",fields:[{name:"min_web_width",label:"Min Web Width (mm)",type:"number",required:!0,defaultValue:Yt.MACHINE.MIN_WEB_WIDTH,validation:{required:"Min web width is required",min:{value:1,message:"Min web width must be at least 1"}}},{name:"max_web_width",label:"Max Web Width (mm)",type:"number",required:!0,defaultValue:Yt.MACHINE.MAX_WEB_WIDTH,validation:{required:"Max web width is required",min:{value:1,message:"Max web width must be at least 1"}}},{name:"min_bag_height",label:"Min Bag Height (mm)",type:"number",required:!0,defaultValue:Yt.MACHINE.MIN_BAG_HEIGHT,validation:{required:"Min bag height is required",min:{value:1,message:"Min bag height must be at least 1"}}},{name:"max_bag_height",label:"Max Bag Height (mm)",type:"number",required:!0,defaultValue:Yt.MACHINE.MAX_BAG_HEIGHT,validation:{required:"Max bag height is required",min:{value:1,message:"Max bag height must be at least 1"}}}]},{title:"Performance",fields:[{name:"standard_speed",label:"Standard Speed",type:"number",required:!0,placeholder:"pz/h o mt/h",validation:{required:"Standard speed is required",min:{value:1,message:"Standard speed must be at least 1"}}},{name:"setup_time_standard",label:"Setup Time Standard (h)",type:"number",required:!0,defaultValue:Yt.MACHINE.SETUP_TIME_STANDARD,validation:{required:"Setup time is required",min:{value:0,message:"Setup time must be at least 0"}}},{name:"changeover_color",label:"Changeover Color (h)",type:"number",required:!0,defaultValue:Yt.MACHINE.CHANGEOVER_COLOR,conditional:(t,e,n)=>n("department")===sn.PRINTING,validation:{required:"Changeover color time is required",min:{value:0,message:"Changeover color time must be at least 0"}}},{name:"changeover_material",label:"Material Changeover (h)",type:"number",required:!0,defaultValue:Yt.MACHINE.CHANGEOVER_MATERIAL,conditional:(t,e,n)=>n("department")===sn.PACKAGING,validation:{required:"Changeover material time is required",min:{value:0,message:"Changeover material time must be at least 0"}}}]},{title:"Disponibilit",fields:[{name:"active_shifts",label:"Active Shifts",type:"checkbox",required:!1,defaultValue:Yt.MACHINE.ACTIVE_SHIFTS,options:[{value:Jl.T1,label:Jl.T1},{value:Jl.T2,label:Jl.T2},{value:Jl.T3,label:Jl.T3}]},{name:"status",label:"Status",type:"select",required:!0,defaultValue:Yt.MACHINE.STATUS,options:[{value:Hs.ACTIVE,label:Hs.ACTIVE},{value:Hs.INACTIVE,label:Hs.INACTIVE}],validation:{required:"Status is required"}}]}]},Xr={validationSchema:"PHASE",addButtonText:"Aggiungi Fase",editButtonText:"Aggiorna Fase",addLoadingText:"Aggiunta Fase...",editLoadingText:"Aggiornamento Fase...",addContext:"Add Phase",editContext:"Update Phase",addErrorMessage:"Aggiunta fase fallita",editErrorMessage:"Aggiornamento fase fallita",sections:[{title:"Informazioni Fase",fields:[{name:"name",label:"Nome Fase",type:"text",required:!0,placeholder:"es. Stampa Alta Velocit"},{name:"department",label:"Tipo Fase",type:"select",required:!0,options:[{value:sn.PRINTING,label:sn.PRINTING},{value:sn.PACKAGING,label:sn.PACKAGING}],defaultValue:Yt.PHASE.DEPARTMENT},{name:"numero_persone",label:"Numero di Persone Richieste",type:"number",required:!0,defaultValue:Yt.PHASE.NUMERO_PERSONE},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,options:[{value:yt.ZANICA,label:yt.ZANICA},{value:yt.BUSTO_GAROLFO,label:yt.BUSTO_GAROLFO}],defaultValue:Yt.PHASE.WORK_CENTER,helpText:"Il centro di lavoro  impostato in base alla tua selezione di accesso"}]},{title:"Parametri Stampa",fields:[{name:"v_stampa",label:"Velocit Stampa (mt/h)",type:"number",required:!0,defaultValue:Yt.PHASE.V_STAMPA,conditional:(t,e,n)=>n("department")===sn.PRINTING},{name:"t_setup_stampa",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:Yt.PHASE.T_SETUP_STAMPA,conditional:(t,e,n)=>n("department")===sn.PRINTING},{name:"costo_h_stampa",label:"Costo Orario (/h)",type:"number",required:!0,defaultValue:Yt.PHASE.COSTO_H_STAMPA,conditional:(t,e,n)=>n("department")===sn.PRINTING}]},{title:"Parametri Confezionamento",fields:[{name:"v_conf",label:"Velocit Confezionamento (pz/h)",type:"number",required:!0,defaultValue:Yt.PHASE.V_CONF,conditional:(t,e,n)=>n("department")===sn.PACKAGING},{name:"t_setup_conf",label:"Tempo Setup (ore)",type:"number",required:!0,defaultValue:Yt.PHASE.T_SETUP_CONF,conditional:(t,e,n)=>n("department")===sn.PACKAGING},{name:"costo_h_conf",label:"Costo Orario (/h)",type:"number",required:!0,defaultValue:Yt.PHASE.COSTO_H_CONF,conditional:(t,e,n)=>n("department")===sn.PACKAGING}]},{title:"Descrizione Fase",fields:[{name:"contenuto_fase",label:"Descrizione Contenuto Fase",type:"textarea",required:!0,placeholder:"Descrivi il contenuto della fase e i requisiti...",rows:3}],gridCols:"grid-cols-1"}]},gG={validationSchema:"ORDER",addButtonText:"Aggiungi al Backlog",editButtonText:"Aggiorna Ordine",addLoadingText:"Aggiunta...",editLoadingText:"Aggiornamento...",addContext:"Add Order",editContext:"Update Order",addErrorMessage:"Aggiunta ordine fallita",editErrorMessage:"Aggiornamento ordine fallito",sections:[{title:"Identificazione",fields:[{name:"odp_number",label:"Numero ODP",type:"text",required:!0,placeholder:"Inserisci numero ODP"},{name:"article_code",label:"Codice Articolo",type:"article_code",required:!0,placeholder:"Inserisci codice articolo"},{name:"production_lot",label:"Codice Articolo Esterno",type:"text",required:!0,placeholder:"Inserisci codice articolo esterno"},{name:"work_center",label:"Centro di Lavoro",type:"select",required:!0,placeholder:"Seleziona centro di lavoro",options:[{value:yt.ZANICA,label:yt.ZANICA},{value:yt.BUSTO_GAROLFO,label:yt.BUSTO_GAROLFO}],conditional:(t,e,n)=>!0},{name:"nome_cliente",label:"Nome Cliente",type:"text",required:!0,placeholder:"Inserisci nome cliente"}]},{title:"Specifiche Tecniche",fields:[{name:"bag_height",label:"Altezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci altezza busta"},{name:"bag_width",label:"Larghezza Busta (mm)",type:"number",required:!1,placeholder:"Inserisci larghezza busta"},{name:"bag_step",label:"Passo Busta (mm)",type:"number",required:!1,placeholder:"Inserisci passo busta"},{name:"seal_sides",label:"Lati Sigillatura",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:"3",label:"3"},{value:"4",label:"4"}],defaultValue:Yt.ORDER.SEAL_SIDES},{name:"product_type",label:"Tipo Prodotto",type:"select",required:!1,placeholder:"Seleziona...",options:[{value:Zl.CREMA,label:Zl.CREMA},{value:Zl.LIQUIDO,label:Zl.LIQUIDO},{value:Zl.POLVERI,label:Zl.POLVERI}]},{name:"quantity",label:"Quantit",type:"number",required:!0,placeholder:"Inserisci quantit"},{name:"quantity_completed",label:"Q.t Completata",type:"number",required:!0,defaultValue:Yt.ORDER.QUANTITY_COMPLETED}]},{title:"Dati Commerciali",fields:[{name:"internal_customer_code",label:"Lotto FLEXI",type:"text",required:!0,placeholder:"Inserisci lotto FLEXI"},{name:"external_customer_code",label:"Lotto Cliente",type:"text",required:!0,placeholder:"Inserisci lotto cliente"},{name:"customer_order_ref",label:"Riferimento Cliente",type:"text",required:!0,placeholder:"Inserisci riferimento cliente"},{name:"user_notes",label:"Note Libere",type:"textarea",required:!1,placeholder:"Inserisci note libere per l'ordine...",rows:3},{name:"asd_notes",label:"Note ASD",type:"textarea",required:!1,placeholder:"Inserisci note ASD per l'ordine...",rows:3}],gridCols:"grid-cols-2 md:grid-cols-3"},{title:"Dati Lavorazione & Pianificazione",fields:[{name:"department",label:"Reparto",type:"text",required:!0,readOnly:!0,className:"bg-gray-50"},{name:"phase_search",label:"Cerca Fase di Produzione",type:"phase_search",required:!0},{name:"delivery_date",label:"Data di Consegna",type:"datetime-local",required:!0}]},{title:"Disponibilit Materiali",fields:[{name:"material_availability_global",label:"Disponibilit Materiale Globale (%)",type:"number",required:!1,placeholder:"Inserisci percentuale disponibilit (0-100)",min:0,max:100}]}],customFields:{phase_parameters:{type:"phase_parameters",label:"Parametri Fase Selezionata"},calculation_results:{type:"calculation_results",label:"Risultati Calcolo Produzione"}},customValidation:t=>{const e={};return{isValid:Object.keys(e).length===0,errors:e}}},gb={validationSchema:"OFF_TIME",addButtonText:"Imposta Non Disponibilit",editButtonText:"Aggiorna Non Disponibilit",addLoadingText:"Impostazione...",editLoadingText:"Aggiornamento...",addContext:"Set Machine Unavailability",editContext:"Update Machine Unavailability",addErrorMessage:"Impostazione indisponibilit macchina fallita",editErrorMessage:"Aggiornamento indisponibilit macchina fallita",sections:[{title:"Periodo di Non Disponibilit",fields:[{name:"startDate",label:"Data Inizio",type:"date",required:!0,defaultValue:""},{name:"startTime",label:"Ora Inizio",type:"time",required:!0,defaultValue:Yt.OFF_TIME.START_TIME},{name:"endDate",label:"Data Fine",type:"date",required:!0,defaultValue:""},{name:"endTime",label:"Ora Fine",type:"time",required:!0,defaultValue:Yt.OFF_TIME.END_TIME}]}],customValidation:t=>{const e={};if(t.startDate&&t.endDate){const n=new Date(t.startDate);new Date(t.endDate)<n&&(e.endDate=hC.END_DATE_BEFORE_START),t.startDate===t.endDate&&t.startTime&&t.endTime&&t.startTime>=t.endTime&&(e.endTime=hC.END_TIME_BEFORE_START)}return{isValid:Object.keys(e).length===0,errors:e}}};function mG({machineToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=vn(),{getValidMachineTypes:i}=RM(),r=tG(),s=nG(),a=!!t,l=A.useMemo(()=>{const m={...yr};return m.sections[0].fields[1].options=[...i("STAMPA").map(p=>({value:p,label:p})),...i("CONFEZIONAMENTO").map(p=>({value:p,label:p}))],m.sections[0].fields[1].placeholder="Seleziona tipo macchina",n!==yt.BOTH&&(m.sections[0].fields[3].disabled=!0,m.sections[0].fields[3].defaultValue=n,m.sections[0].fields[3].helpText="Il centro di lavoro  pre-impostato."),m},[i,n]),u=A.useMemo(()=>({department:t?.department||yr.sections[0].fields[0].defaultValue,machine_type:t?.machine_type||"",machine_name:t?.machine_name||"",work_center:t?.work_center||(n===yt.BOTH?yr.sections[0].fields[3].defaultValue:n),min_web_width:t?.min_web_width||yr.sections[1].fields[0].defaultValue,max_web_width:t?.max_web_width||yr.sections[1].fields[1].defaultValue,min_bag_height:t?.min_bag_height||yr.sections[1].fields[2].defaultValue,max_bag_height:t?.max_bag_height||yr.sections[1].fields[3].defaultValue,standard_speed:t?.standard_speed||"",setup_time_standard:t?.setup_time_standard||yr.sections[2].fields[1].defaultValue,changeover_color:t?.changeover_color||yr.sections[2].fields[2].defaultValue,changeover_material:t?.changeover_material||yr.sections[2].fields[3].defaultValue,active_shifts:t?.active_shifts||yr.sections[3].fields[0].defaultValue,status:t?.status||yr.sections[3].fields[1].defaultValue}),[n,t]),d=async m=>{a?await s.mutateAsync({id:t.id,updates:m}):await r.mutateAsync(m),e&&e()},h=r.isPending||s.isPending;return R.jsx(Fm,{config:l,initialData:u,onSubmit:d,onSuccess:e,isEditMode:a,isLoading:h})}function pG({title:t,children:e}){return R.jsx("div",{className:"sticky top-0 z-10 bg-background border-b border-border px-2 py-3 mb-2",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("div",{className:"flex items-center",children:t&&R.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:t})}),e]})})}function hA(){const{id:t}=Om(),e=cs(),{getMachineById:n}=as(),{selectedWorkCenter:i}=vn(),{isLoading:r,isInitialized:s,init:a,cleanup:l}=no(),u=!!t,d=u?n(t):null;return A.useEffect(()=>(s||a(),()=>{l()}),[a,s,l]),A.useEffect(()=>{u&&!r&&!d&&e("/machinery",{replace:!0})},[u,r,d,e]),r?R.jsx("div",{children:"Caricamento..."}):u&&!d?R.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Macchina non trovata."}):i?R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:u?`Modifica Macchina: ${d?.machine_name}`:"Aggiungi Nuova Macchina"}),u&&R.jsx(Pn,{to:`/machinery/${t}/calendar`,className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Visualizza Calendario"})]}),R.jsx(mG,{machineToEdit:d})]}):R.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le macchine."})}function yG({machineId:t,currentDate:e,onSuccess:n}){const{setMachineUnavailability:i}=af(),{showAlert:r}=vn(),s=A.useMemo(()=>{const l=new Date,u=sf(l,1);return{startDate:Wn(l,"yyyy-MM-dd"),endDate:Wn(u,"yyyy-MM-dd"),startTime:gb.sections[0].fields[1].defaultValue,endTime:gb.sections[0].fields[3].defaultValue}},[e]),a=async l=>{await i(t,l.startDate,l.endDate,l.startTime,l.endTime),r("Indisponibilit macchina impostata con successo!","success"),n&&n()};return R.jsx(Fm,{config:gb,initialData:s,onSubmit:a,onSuccess:n,className:"p-1 bg-white rounded-lg shadow-sm border"})}var Ym,Ie,HM,BM,Oc,Bo,gA,$M,VM,tm={},qM=[],vG=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ua(t,e){for(var n in e)t[n]=e[n];return t}function WM(t){var e=t.parentNode;e&&e.removeChild(t)}function F(t,e,n){var i,r,s,a={};for(s in e)s=="key"?i=e[s]:s=="ref"?r=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?Ym.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return Ag(t,a,i,r,null)}function Ag(t,e,n,i,r){var s={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++HM};return r==null&&Ie.vnode!=null&&Ie.vnode(s),s}function vi(){return{current:null}}function It(t){return t.children}function bG(t,e,n,i,r){var s;for(s in n)s==="children"||s==="key"||s in e||nm(t,s,null,n[s],i);for(s in e)r&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||nm(t,s,e[s],n[s],i)}function mA(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||vG.test(e)?n:n+"px"}function nm(t,e,n,i,r){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||mA(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||mA(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?i||t.addEventListener(e,s?yA:pA,s):t.removeEventListener(e,s?yA:pA,s);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function pA(t){Oc=!0;try{return this.l[t.type+!1](Ie.event?Ie.event(t):t)}finally{Oc=!1}}function yA(t){Oc=!0;try{return this.l[t.type+!0](Ie.event?Ie.event(t):t)}finally{Oc=!1}}function Ki(t,e){this.props=t,this.context=e}function Ld(t,e){if(e==null)return t.__?Ld(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Ld(t):null}function GM(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return GM(t)}}function _G(t){Oc?setTimeout(t):$M(t)}function P0(t){(!t.__d&&(t.__d=!0)&&Bo.push(t)&&!im.__r++||gA!==Ie.debounceRendering)&&((gA=Ie.debounceRendering)||_G)(im)}function im(){var t,e,n,i,r,s,a,l;for(Bo.sort(function(u,d){return u.__v.__b-d.__v.__b});t=Bo.shift();)t.__d&&(e=Bo.length,i=void 0,r=void 0,a=(s=(n=t).__v).__e,(l=n.__P)&&(i=[],(r=Ua({},s)).__v=s.__v+1,W_(l,s,r,n.__n,l.ownerSVGElement!==void 0,s.__h!=null?[a]:null,i,a??Ld(s),s.__h),ZM(i,s),s.__e!=a&&GM(s)),Bo.length>e&&Bo.sort(function(u,d){return u.__v.__b-d.__v.__b}));im.__r=0}function YM(t,e,n,i,r,s,a,l,u,d){var h,m,p,y,b,_,w,x=i&&i.__k||qM,E=x.length;for(n.__k=[],h=0;h<e.length;h++)if((y=n.__k[h]=(y=e[h])==null||typeof y=="boolean"?null:typeof y=="string"||typeof y=="number"||typeof y=="bigint"?Ag(null,y,null,null,y):Array.isArray(y)?Ag(It,{children:y},null,null,null):y.__b>0?Ag(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)!=null){if(y.__=n,y.__b=n.__b+1,(p=x[h])===null||p&&y.key==p.key&&y.type===p.type)x[h]=void 0;else for(m=0;m<E;m++){if((p=x[m])&&y.key==p.key&&y.type===p.type){x[m]=void 0;break}p=null}W_(t,y,p=p||tm,r,s,a,l,u,d),b=y.__e,(m=y.ref)&&p.ref!=m&&(w||(w=[]),p.ref&&w.push(p.ref,null,y),w.push(m,y.__c||b,y)),b!=null?(_==null&&(_=b),typeof y.type=="function"&&y.__k===p.__k?y.__d=u=QM(y,u,t):u=KM(t,y,p,x,b,u),typeof n.type=="function"&&(n.__d=u)):u&&p.__e==u&&u.parentNode!=t&&(u=Ld(p))}for(n.__e=_,h=E;h--;)x[h]!=null&&(typeof n.type=="function"&&x[h].__e!=null&&x[h].__e==n.__d&&(n.__d=XM(i).nextSibling),eN(x[h],x[h]));if(w)for(h=0;h<w.length;h++)JM(w[h],w[++h],w[++h])}function QM(t,e,n){for(var i,r=t.__k,s=0;r&&s<r.length;s++)(i=r[s])&&(i.__=t,e=typeof i.type=="function"?QM(i,e,n):KM(n,i,i,r,i.__e,e));return e}function rm(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){rm(n,e)}):e.push(t)),e}function KM(t,e,n,i,r,s){var a,l,u;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(r),a=null;else{for(l=s,u=0;(l=l.nextSibling)&&u<i.length;u+=1)if(l==r)break e;t.insertBefore(r,s),a=s}return a!==void 0?a:r.nextSibling}function XM(t){var e,n,i;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(i=XM(n)))return i}return null}function W_(t,e,n,i,r,s,a,l,u){var d,h,m,p,y,b,_,w,x,E,C,D,O,N,I,k=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=e.__e=n.__e,e.__h=null,s=[l]),(d=Ie.__b)&&d(e);try{e:if(typeof k=="function"){if(w=e.props,x=(d=k.contextType)&&i[d.__c],E=d?x?x.props.value:d.__:i,n.__c?_=(h=e.__c=n.__c).__=h.__E:("prototype"in k&&k.prototype.render?e.__c=h=new k(w,E):(e.__c=h=new Ki(w,E),h.constructor=k,h.render=wG),x&&x.sub(h),h.props=w,h.state||(h.state={}),h.context=E,h.__n=i,m=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),k.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Ua({},h.__s)),Ua(h.__s,k.getDerivedStateFromProps(w,h.__s))),p=h.props,y=h.state,h.__v=e,m)k.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(k.getDerivedStateFromProps==null&&w!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(w,E),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(w,h.__s,E)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(h.props=w,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(j){j&&(j.__=e)}),C=0;C<h._sb.length;C++)h.__h.push(h._sb[C]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(w,h.__s,E),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,y,b)})}if(h.context=E,h.props=w,h.__P=t,D=Ie.__r,O=0,"prototype"in k&&k.prototype.render){for(h.state=h.__s,h.__d=!1,D&&D(e),d=h.render(h.props,h.state,h.context),N=0;N<h._sb.length;N++)h.__h.push(h._sb[N]);h._sb=[]}else do h.__d=!1,D&&D(e),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++O<25);h.state=h.__s,h.getChildContext!=null&&(i=Ua(Ua({},i),h.getChildContext())),m||h.getSnapshotBeforeUpdate==null||(b=h.getSnapshotBeforeUpdate(p,y)),I=d!=null&&d.type===It&&d.key==null?d.props.children:d,YM(t,Array.isArray(I)?I:[I],e,n,i,r,s,a,l,u),h.base=e.__e,e.__h=null,h.__h.length&&a.push(h),_&&(h.__E=h.__=null),h.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=SG(n.__e,e,n,i,r,s,a,u);(d=Ie.diffed)&&d(e)}catch(j){e.__v=null,(u||s!=null)&&(e.__e=l,e.__h=!!u,s[s.indexOf(l)]=null),Ie.__e(j,e,n)}}function ZM(t,e){Ie.__c&&Ie.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){Ie.__e(i,n.__v)}})}function SG(t,e,n,i,r,s,a,l){var u,d,h,m=n.props,p=e.props,y=e.type,b=0;if(y==="svg"&&(r=!0),s!=null){for(;b<s.length;b++)if((u=s[b])&&"setAttribute"in u==!!y&&(y?u.localName===y:u.nodeType===3)){t=u,s[b]=null;break}}if(t==null){if(y===null)return document.createTextNode(p);t=r?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,p.is&&p),s=null,l=!1}if(y===null)m===p||l&&t.data===p||(t.data=p);else{if(s=s&&Ym.call(t.childNodes),d=(m=n.props||tm).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!l){if(s!=null)for(m={},b=0;b<t.attributes.length;b++)m[t.attributes[b].name]=t.attributes[b].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(bG(t,p,m,r,l),h)e.__k=[];else if(b=e.props.children,YM(t,Array.isArray(b)?b:[b],e,n,i,r&&y!=="foreignObject",s,a,s?s[0]:n.__k&&Ld(n,0),l),s!=null)for(b=s.length;b--;)s[b]!=null&&WM(s[b]);l||("value"in p&&(b=p.value)!==void 0&&(b!==t.value||y==="progress"&&!b||y==="option"&&b!==m.value)&&nm(t,"value",b,m.value,!1),"checked"in p&&(b=p.checked)!==void 0&&b!==t.checked&&nm(t,"checked",b,m.checked,!1))}return t}function JM(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){Ie.__e(i,n)}}function eN(t,e,n){var i,r;if(Ie.unmount&&Ie.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||JM(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){Ie.__e(s,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(r=0;r<i.length;r++)i[r]&&eN(i[r],e,n||typeof t.type!="function");n||t.__e==null||WM(t.__e),t.__=t.__e=t.__d=void 0}function wG(t,e,n){return this.constructor(t,n)}function Fd(t,e,n){var i,r,s;Ie.__&&Ie.__(t,e),r=(i=!1)?null:e.__k,s=[],W_(e,t=e.__k=F(It,null,[t]),r||tm,tm,e.ownerSVGElement!==void 0,r?null:e.firstChild?Ym.call(e.childNodes):null,s,r?r.__e:e.firstChild,i),ZM(s,t)}function xG(t,e){var n={__c:e="__cC"+VM++,__:t,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&r.some(function(l){l.__e=!0,P0(l)})},this.sub=function(a){r.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){r.splice(r.indexOf(a),1),l&&l.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}Ym=qM.slice,Ie={__e:function(t,e,n,i){for(var r,s,a;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(t)),a=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,i||{}),a=r.__d),a)return r.__E=r}catch(l){t=l}throw t}},HM=0,BM=function(t){return t!=null&&t.constructor===void 0},Oc=!1,Ki.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ua({},this.state),typeof t=="function"&&(t=t(Ua({},n),this.props)),t&&Ua(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),P0(this))},Ki.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),P0(this))},Ki.prototype.render=It,Bo=[],$M=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,im.__r=0,VM=0;var rs,mb,vA,tN=[],pb=[],bA=Ie.__b,_A=Ie.__r,SA=Ie.diffed,wA=Ie.__c,xA=Ie.unmount;function EG(){for(var t;t=tN.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Og),t.__H.__h.forEach(j0),t.__H.__h=[]}catch(e){t.__H.__h=[],Ie.__e(e,t.__v)}}Ie.__b=function(t){rs=null,bA&&bA(t)},Ie.__r=function(t){_A&&_A(t);var e=(rs=t.__c).__H;e&&(mb===rs?(e.__h=[],rs.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=pb,n.__N=n.i=void 0})):(e.__h.forEach(Og),e.__h.forEach(j0),e.__h=[])),mb=rs},Ie.diffed=function(t){SA&&SA(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(tN.push(e)!==1&&vA===Ie.requestAnimationFrame||((vA=Ie.requestAnimationFrame)||RG)(EG)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==pb&&(n.__=n.__V),n.i=void 0,n.__V=pb})),mb=rs=null},Ie.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Og),n.__h=n.__h.filter(function(i){return!i.__||j0(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Ie.__e(i,n.__v)}}),wA&&wA(t,e)},Ie.unmount=function(t){xA&&xA(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Og(i)}catch(r){e=r}}),n.__H=void 0,e&&Ie.__e(e,n.__v))};var EA=typeof requestAnimationFrame=="function";function RG(t){var e,n=function(){clearTimeout(i),EA&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);EA&&(e=requestAnimationFrame(n))}function Og(t){var e=rs,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),rs=e}function j0(t){var e=rs;t.__c=t.__(),rs=e}function CG(t,e){for(var n in e)t[n]=e[n];return t}function RA(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function CA(t){this.props=t}(CA.prototype=new Ki).isPureReactComponent=!0,CA.prototype.shouldComponentUpdate=function(t,e){return RA(this.props,t)||RA(this.state,e)};var TA=Ie.__b;Ie.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),TA&&TA(t)};var TG=Ie.__e;Ie.__e=function(t,e,n,i){if(t.then){for(var r,s=e;s=s.__;)if((r=s.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}TG(t,e,n,i)};var AA=Ie.unmount;function nN(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=CG({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return nN(i,e,n)})),t}function iN(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return iN(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function yb(){this.__u=0,this.t=null,this.__b=null}function rN(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ng(){this.u=null,this.o=null}Ie.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),AA&&AA(t)},(yb.prototype=new Ki).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=rN(i.__v),s=!1,a=function(){s||(s=!0,n.__R=null,r?r(l):l())};n.__R=a;var l=function(){if(!--i.__u){if(i.state.__a){var d=i.state.__a;i.__v.__k[0]=iN(d,d.__c.__P,d.__c.__O)}var h;for(i.setState({__a:i.__b=null});h=i.t.pop();)h.forceUpdate()}},u=e.__h===!0;i.__u++||u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(a,a)},yb.prototype.componentWillUnmount=function(){this.t=[]},yb.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=nN(this.__b,n,i.__O=i.__P)}this.__b=null}var r=e.__a&&F(It,null,t.fallback);return r&&(r.__h=null),[F(It,null,e.__a?null:t.children),r]};var OA=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function AG(t){return this.getChildContext=function(){return t.context},t.children}function OG(t){var e=this,n=t.i;e.componentWillUnmount=function(){Fd(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Fd(F(AG,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function DG(t,e){var n=F(OG,{__v:t,i:e});return n.containerInfo=e,n}(ng.prototype=new Ki).__a=function(t){var e=this,n=rN(e.__v),i=e.o.get(t);return i[0]++,function(r){var s=function(){e.props.revealOrder?(i.push(r),OA(e,t,i)):r()};n?n(s):s()}},ng.prototype.render=function(t){this.u=null,this.o=new Map;var e=rm(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},ng.prototype.componentDidUpdate=ng.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){OA(t,n,e)})};var kG=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,MG=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,NG=typeof document<"u",IG=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Ki.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ki.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var DA=Ie.event;function PG(){}function jG(){return this.cancelBubble}function LG(){return this.defaultPrevented}Ie.event=function(t){return DA&&(t=DA(t)),t.persist=PG,t.isPropagationStopped=jG,t.isDefaultPrevented=LG,t.nativeEvent=t};var kA={configurable:!0,get:function(){return this.class}},MA=Ie.vnode;Ie.vnode=function(t){var e=t.type,n=t.props,i=n;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var s in i={},n){var a=n[s];NG&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&a==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&a===!0?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!IG(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():r&&MG.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():a===null&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),i[s]&&(s="oninputCapture")),i[s]=a)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=rm(n.children).forEach(function(l){l.props.selected=i.value.indexOf(l.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=rm(n.children).forEach(function(l){l.props.selected=i.multiple?i.defaultValue.indexOf(l.props.value)!=-1:i.defaultValue==l.props.value})),t.props=i,n.class!=n.className&&(kA.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",kA))}t.$$typeof=kG,MA&&MA(t)};var NA=Ie.__r;Ie.__r=function(t){NA&&NA(t),t.__c};const sN=[],L0=new Map;function Qm(t){sN.push(t),L0.forEach(e=>{oN(e,t)})}function FG(t){t.isConnected&&t.getRootNode&&aN(t.getRootNode())}function aN(t){let e=L0.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=zG();n&&(e.nonce=n);const i=t===document?document.head:t,r=t===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}L0.set(t,e),UG(e)}}function UG(t){for(const e of sN)oN(t,e)}function oN(t,e){const{sheet:n}=t,i=n.cssRules.length;e.split("}").forEach((r,s)=>{r=r.trim(),r&&n.insertRule(r+"}",i+s)})}let vb;function zG(){return vb===void 0&&(vb=HG()),vb}function HG(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&aN(document);var BG=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Qm(BG);class G_{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:i}=this;e in i&&(n?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Y_(t){t.parentNode&&t.parentNode.removeChild(t)}function oi(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if($G(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function $G(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function VG(t,e){let n=t instanceof HTMLElement?[t]:t,i=[];for(let r=0;r<n.length;r+=1){let s=n[r].querySelectorAll(e);for(let a=0;a<s.length;a+=1)i.push(s[a])}return i}const qG=/(top|left|right|bottom|width|height)$/i;function pd(t,e){for(let n in e)lN(t,n,e[n])}function lN(t,e,n){n==null?t.style[e]="":typeof n=="number"&&qG.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function cN(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let IA=0;function qa(){return IA+=1,"fc-dom-"+IA}function Km(t){t.preventDefault()}function WG(t,e){return n=>{let i=oi(n.target,t);i&&e.call(i,n,i)}}function uN(t,e,n,i){let r=WG(n,i);return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}function GG(t,e,n,i){let r;return uN(t,"mouseover",e,(s,a)=>{if(a!==r){r=a,n(s,a);let l=u=>{r=null,i(u,a),a.removeEventListener("mouseleave",l)};a.addEventListener("mouseleave",l)}})}const PA=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function YG(t,e){let n=i=>{e(i),PA.forEach(r=>{t.removeEventListener(r,n)})};PA.forEach(i=>{t.addEventListener(i,n)})}function dN(t){return Object.assign({onClick:t},fN(t))}function fN(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let jA=0;function ul(){return jA+=1,String(jA)}function Q_(){document.body.classList.add("fc-not-allowed")}function K_(){document.body.classList.remove("fc-not-allowed")}function QG(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Km)}function KG(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Km)}function XG(t){t.addEventListener("contextmenu",Km)}function ZG(t){t.removeEventListener("contextmenu",Km)}function JG(t){let e=[],n=[],i,r;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),i=0;i<n.length;i+=1)r=n[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function e8(t,e,n){let i,r;for(i=0;i<n.length;i+=1)if(r=t8(t,e,n[i]),r)return r;return 0}function t8(t,e,n){return n.func?n.func(t,e):n8(t[n.field],e[n.field])*(n.order||1)}function n8(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function wc(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function yd(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((i,r,s)=>i.replace("$"+s,r||""),t):n}function i8(t,e){return t-e}function Dg(t){return t%1===0}function r8(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const LA=["years","months","days","milliseconds"],s8=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ut(t,e){return typeof t=="string"?a8(t):typeof t=="object"&&t?FA(t):typeof t=="number"?FA({[e||"milliseconds"]:t}):null}function a8(t){let e=s8.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function FA(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function o8(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function F0(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function l8(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function c8(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function u8(t){return xc(t)/365}function d8(t){return xc(t)/30}function xc(t){return Fr(t)/864e5}function Fr(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function X_(t,e){let n=null;for(let i=0;i<LA.length;i+=1){let r=LA[i];if(e[r]){let s=t[r]/e[r];if(!Dg(s)||n!==null&&n!==s)return null;n=s}else if(t[r])return null}return n}function U0(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Qa(t,e,n){if(t===e)return!0;let i=t.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(t[r],e[r]):t[r]===e[r]))return!1;return!0}const f8=["sun","mon","tue","wed","thu","fri","sat"];function UA(t,e){let n=za(t);return n[2]+=e*7,Ii(n)}function On(t,e){let n=za(t);return n[2]+=e,Ii(n)}function Ka(t,e){let n=za(t);return n[6]+=e,Ii(n)}function h8(t,e){return ro(t,e)/7}function ro(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function g8(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function m8(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function p8(t,e){return(e.valueOf()-t.valueOf())/1e3}function y8(t,e){let n=Ft(t),i=Ft(e);return{years:0,months:0,days:Math.round(ro(n,i)),milliseconds:e.valueOf()-i.valueOf()-(t.valueOf()-n.valueOf())}}function v8(t,e){let n=sm(t,e);return n!==null&&n%7===0?n/7:null}function sm(t,e){return Ha(t)===Ha(e)?Math.round(ro(t,e)):null}function Ft(t){return Ii([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function b8(t){return Ii([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function _8(t){return Ii([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function S8(t){return Ii([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function w8(t,e,n){let i=t.getUTCFullYear(),r=bb(t,i,e,n);if(r<1)return bb(t,i-1,e,n);let s=bb(t,i+1,e,n);return s>=1?Math.min(r,s):r}function bb(t,e,n,i){let r=Ii([e,0,1+x8(e,n,i)]),s=Ft(t),a=Math.round(ro(r,s));return Math.floor(a/7)+1}function x8(t,e,n){let i=7+e-n;return-((7+Ii([t,0,i]).getUTCDay()-e)%7)+i-1}function zA(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function HA(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function za(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Ii(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function hN(t){return!isNaN(t.valueOf())}function Ha(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function gN(t,e,n=!1){let i=t.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",Z_(e,!0)))),i}function lf(t){return t.toISOString().replace(/T.*$/,"")}function E8(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function R8(t){return wc(t.getUTCHours(),2)+":"+wc(t.getUTCMinutes(),2)+":"+wc(t.getUTCSeconds(),2)}function Z_(t,e=!1){let n=t<0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),s=Math.round(i%60);return e?`${n+wc(r,2)}:${wc(s,2)}`:`GMT${n}${r}${s?`:${wc(s,2)}`:""}`}function Me(t,e,n){let i,r;return function(...s){if(!i)r=t.apply(this,s);else if(!Qa(i,s)){let a=t.apply(this,s);(!e||!e(a,r))&&(r=a)}return i=s,r}}function kg(t,e,n){let i,r;return s=>(i?Br(i,s)||(r=t.call(this,s)):r=t.call(this,s),i=s,r)}const _b={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},am={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},ig=/\s*([ap])\.?m\.?/i,C8=/,/g,T8=/\s+/g,A8=/\u200e/g,O8=/UTC|GMT/;class D8{constructor(e){let n={},i={},r=9;for(let s in e)s in _b?(i[s]=e[s],_b[s]<9&&(r=Math.min(_b[s],r))):(n[s]=e[s],s in am&&(r=Math.min(am[s],r)));this.standardDateProps=n,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=Me(BA)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,i,r){let{standardDateProps:s,extendedSettings:a}=this,l=j8(e.marker,n.marker,i.calendarSystem);if(!l)return this.format(e,i);let u=l;u>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(u=1);let d=this.format(e,i),h=this.format(n,i);if(d===h)return d;let m=L8(s,u),p=BA(m,a,i),y=p(e),b=p(n),_=F8(d,y,h,b),w=a.separator||r||i.defaultSeparator||"";return _?_.before+y+w+b+_.after:d+w+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function BA(t,e,n){let i=Object.keys(t).length;return i===1&&t.timeZoneName==="short"?r=>Z_(r.timeZoneOffset):i===0&&e.week?r=>P8(n.computeWeekNumber(r.marker),n.weekText,n.weekTextLong,n.locale,e.week):k8(t,e,n)}function k8(t,e,n){t=Object.assign({},t),e=Object.assign({},e),M8(t,e),t.timeZone="UTC";let i=new Intl.DateTimeFormat(n.locale.codes,t),r;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,r=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:a}=s,l;r&&!a.getUTCMinutes()?l=r:l=i;let u=l.format(a);return N8(u,s,t,e,n)}}function M8(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function N8(t,e,n,i,r){return t=t.replace(A8,""),n.timeZoneName==="short"&&(t=I8(t,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Z_(e.timeZoneOffset))),i.omitCommas&&(t=t.replace(C8,"").trim()),i.omitZeroMinute&&(t=t.replace(":00","")),i.meridiem===!1?t=t.replace(ig,"").trim():i.meridiem==="narrow"?t=t.replace(ig,(s,a)=>a.toLocaleLowerCase()):i.meridiem==="short"?t=t.replace(ig,(s,a)=>`${a.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(t=t.replace(ig,s=>s.toLocaleLowerCase())),t=t.replace(T8," "),t=t.trim(),t}function I8(t,e){let n=!1;return t=t.replace(O8,()=>(n=!0,e)),n||(t+=` ${e}`),t}function P8(t,e,n,i,r){let s=[];return r==="long"?s.push(n):(r==="short"||r==="narrow")&&s.push(e),(r==="long"||r==="short")&&s.push(" "),s.push(i.simpleNumberFormat.format(t)),i.options.direction==="rtl"&&s.reverse(),s.join("")}function j8(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Ha(t)!==Ha(e)?1:0}function L8(t,e){let n={};for(let i in t)(!(i in am)||am[i]<=e)&&(n[i]=t[i]);return n}function F8(t,e,n,i){let r=0;for(;r<t.length;){let s=t.indexOf(e,r);if(s===-1)break;let a=t.substr(0,s);r=s+e.length;let l=t.substr(r),u=0;for(;u<n.length;){let d=n.indexOf(i,u);if(d===-1)break;let h=n.substr(0,d);u=d+i.length;let m=n.substr(u);if(a===h&&l===m)return{before:a,after:l}}}return null}function $A(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function om(t,e,n,i){let r=$A(t,n.calendarSystem),s=e?$A(e,n.calendarSystem):null;return{date:r,start:r,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}class U8{constructor(e){this.cmdStr=e}format(e,n,i){return n.cmdFormatter(this.cmdStr,om(e,null,n,i))}formatRange(e,n,i,r){return i.cmdFormatter(this.cmdStr,om(e,n,i,r))}}class z8{constructor(e){this.func=e}format(e,n,i){return this.func(om(e,null,n,i))}formatRange(e,n,i,r){return this.func(om(e,n,i,r))}}function Qt(t){return typeof t=="object"&&t?new D8(t):typeof t=="string"?new U8(t):typeof t=="function"?new z8(t):null}const VA={navLinkDayClick:ee,navLinkWeekClick:ee,duration:ut,bootstrapFontAwesome:ee,buttonIcons:ee,customButtons:ee,defaultAllDayEventDuration:ut,defaultTimedEventDuration:ut,nextDayThreshold:ut,scrollTime:ut,scrollTimeReset:Boolean,slotMinTime:ut,slotMaxTime:ut,dayPopoverFormat:Qt,slotDuration:ut,snapDuration:ut,headerToolbar:ee,footerToolbar:ee,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Qt,dayHeaderClassNames:ee,dayHeaderContent:ee,dayHeaderDidMount:ee,dayHeaderWillUnmount:ee,dayCellClassNames:ee,dayCellContent:ee,dayCellDidMount:ee,dayCellWillUnmount:ee,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:ee,weekNumbers:Boolean,weekNumberClassNames:ee,weekNumberContent:ee,weekNumberDidMount:ee,weekNumberWillUnmount:ee,editable:Boolean,viewClassNames:ee,viewDidMount:ee,viewWillUnmount:ee,nowIndicator:Boolean,nowIndicatorSnap:ee,nowIndicatorClassNames:ee,nowIndicatorContent:ee,nowIndicatorDidMount:ee,nowIndicatorWillUnmount:ee,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:ee,locale:ee,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:ee,eventOrder:JG,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:ee,contentHeight:ee,direction:String,weekNumberFormat:Qt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:ee,initialDate:ee,now:ee,eventDataTransform:ee,stickyHeaderDates:ee,stickyFooterScrollbar:ee,viewHeight:ee,defaultAllDay:Boolean,eventSourceFailure:ee,eventSourceSuccess:ee,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:ee,eventConstraint:ee,eventAllow:ee,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:ee,eventContent:ee,eventDidMount:ee,eventWillUnmount:ee,selectConstraint:ee,selectOverlap:ee,selectAllow:ee,droppable:Boolean,unselectCancel:String,slotLabelFormat:ee,slotLaneClassNames:ee,slotLaneContent:ee,slotLaneDidMount:ee,slotLaneWillUnmount:ee,slotLabelClassNames:ee,slotLabelContent:ee,slotLabelDidMount:ee,slotLabelWillUnmount:ee,dayMaxEvents:ee,dayMaxEventRows:ee,dayMinWidth:Number,slotLabelInterval:ut,allDayText:String,allDayClassNames:ee,allDayContent:ee,allDayDidMount:ee,allDayWillUnmount:ee,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Qt,rerenderDelay:Number,moreLinkText:ee,moreLinkHint:ee,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:ee,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:ut,hiddenDays:ee,fixedWeekCount:Boolean,validRange:ee,visibleRange:ee,titleFormat:ee,eventInteractive:Boolean,noEventsText:String,viewHint:ee,navLinkHint:ee,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:ee,moreLinkClassNames:ee,moreLinkContent:ee,moreLinkDidMount:ee,moreLinkWillUnmount:ee,monthStartFormat:Qt,handleCustomRendering:ee,customRenderingMetaMap:ee,customRenderingReplaces:Boolean},vd={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},qA={datesSet:ee,eventsSet:ee,eventAdd:ee,eventChange:ee,eventRemove:ee,windowResize:ee,eventClick:ee,eventMouseEnter:ee,eventMouseLeave:ee,select:ee,unselect:ee,loading:ee,_unmount:ee,_beforeprint:ee,_afterprint:ee,_noEventDrop:ee,_noEventResize:ee,_resize:ee,_scrollRequest:ee},WA={buttonText:ee,buttonHints:ee,views:ee,plugins:ee,initialEvents:ee,events:ee,eventSources:ee},Po={headerToolbar:jo,footerToolbar:jo,buttonText:jo,buttonHints:jo,buttonIcons:jo,dateIncrement:jo,plugins:rg,events:rg,eventSources:rg,resources:rg};function jo(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Br(t,e):t===e}function rg(t,e){return Array.isArray(t)&&Array.isArray(e)?Qa(t,e):t===e}const H8={type:String,component:ee,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:ee,usesMinMaxTime:Boolean,classNames:ee,content:ee,didMount:ee,willUnmount:ee};function Sb(t){return eS(t,Po)}function J_(t,e){let n={},i={};for(let r in e)r in t&&(n[r]=e[r](t[r]));for(let r in t)r in e||(i[r]=t[r]);return{refined:n,extra:i}}function ee(t){return t}const{hasOwnProperty:lm}=Object.prototype;function eS(t,e){let n={};if(e){for(let i in e)if(e[i]===jo){let r=[];for(let s=t.length-1;s>=0;s-=1){let a=t[s][i];if(typeof a=="object"&&a)r.unshift(a);else if(a!==void 0){n[i]=a;break}}r.length&&(n[i]=eS(r))}}for(let i=t.length-1;i>=0;i-=1){let r=t[i];for(let s in r)s in n||(n[s]=r[s])}return n}function nl(t,e){let n={};for(let i in t)e(t[i],i)&&(n[i]=t[i]);return n}function Xs(t,e){let n={};for(let i in t)n[i]=e(t[i],i);return n}function mN(t){let e={};for(let n of t)e[n]=!0;return e}function tS(t){let e=[];for(let n in t)e.push(t[n]);return e}function Br(t,e){if(t===e)return!0;for(let n in t)if(lm.call(t,n)&&!(n in e))return!1;for(let n in e)if(lm.call(e,n)&&t[n]!==e[n])return!1;return!0}const B8=/^on[A-Z]/;function $8(t,e){const n=V8(t,e);for(let i of n)if(!B8.test(i))return!1;return!0}function V8(t,e){let n=[];for(let i in t)lm.call(t,i)&&(i in e||n.push(i));for(let i in e)lm.call(e,i)&&t[i]!==e[i]&&n.push(i);return n}function wb(t,e,n={}){if(t===e)return!0;for(let i in e)if(!(i in t&&q8(t[i],e[i],n[i])))return!1;for(let i in t)if(!(i in e))return!1;return!0}function q8(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function W8(t,e=0,n,i=1){let r=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=i){let a=t[s];a!==void 0&&r.push(a)}return r}let pN={};function G8(t,e){pN[t]=e}function Y8(t){return new pN[t]}class Q8{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Ii(e)}markerToArray(e){return za(e)}}G8("gregory",Q8);const K8=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function X8(t){let e=K8.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(hN(n)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class Z8{constructor(e){let n=this.timeZone=e.timeZone,i=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=Y8(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Ii(zA(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Ii(e)),n===null||!hN(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=X8(e);if(n===null)return null;let{marker:i}=n,r=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-n.timeZoneOffset*60*1e3):r=n.timeZoneOffset),{marker:i,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n.years,i[1]+=n.months,i[2]+=n.days,i[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]-=n.years,i[1]-=n.months,i[2]-=n.days,i[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n,this.calendarSystem.arrayToMarker(i)}addMonths(e,n){let i=this.calendarSystem.markerToArray(e);return i[1]+=n,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,n){let{calendarSystem:i}=this;return Ha(e)===Ha(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)&&i.getMarkerMonth(e)===i.getMarkerMonth(n)?i.getMarkerYear(n)-i.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:i}=this;return Ha(e)===Ha(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)?i.getMarkerMonth(n)-i.getMarkerMonth(e)+(i.getMarkerYear(n)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let i=this.diffWholeYears(e,n);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,n),i!==null?{unit:"month",value:i}:(i=v8(e,n),i!==null?{unit:"week",value:i}:(i=sm(e,n),i!==null?{unit:"day",value:i}:(i=g8(e,n),Dg(i)?{unit:"hour",value:i}:(i=m8(e,n),Dg(i)?{unit:"minute",value:i}:(i=p8(e,n),Dg(i)?{unit:"second",value:i}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,i){let r;return i.years&&(r=this.diffWholeYears(e,n),r!==null)?r/u8(i):i.months&&(r=this.diffWholeMonths(e,n),r!==null)?r/d8(i):i.days&&(r=sm(e,n),r!==null)?r/xc(i):(n.valueOf()-e.valueOf())/Fr(i)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Ft(e):n==="hour"?b8(e):n==="minute"?_8(e):n==="second"?S8(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):w8(e,this.weekDow,this.weekDoy)}format(e,n,i={}){return n.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,i,r={}){return r.isEndExclusive&&(n=Ka(n,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(n)},this,r.defaultSeparator)}formatIso(e,n={}){let i=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?i=n.forcedTzo:i=this.offsetForMarker(e)),gN(e,i,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Ii(zA(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Ii(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-HA(za(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(za(e)):null}toDate(e,n){return this.timeZone==="local"?HA(za(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(za(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class cf{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,i;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(i in e)n[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let i;return n&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}cf.prototype.classes={};cf.prototype.iconClasses={};cf.prototype.baseIconClass="";cf.prototype.iconOverridePrefix="";function cm(t){t();let e=Ie.debounceRendering,n=[];function i(r){n.push(r)}for(Ie.debounceRendering=i,Fd(F(J8,{}),document.createElement("div"));n.length;)n.shift()();Ie.debounceRendering=e}class J8 extends Ki{render(){return F("div",{})}componentDidMount(){this.setState({})}}function yN(t){let e=xG(t),n=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=n.apply(this,arguments);if(i){let s=[];this.shouldComponentUpdate=a=>{this.props.value!==a.value&&s.forEach(l=>{l.context=a.value,l.forceUpdate()})},this.sub=a=>{s.push(a);let l=a.componentWillUnmount;a.componentWillUnmount=()=>{s.splice(s.indexOf(a),1),l&&l.call(a)}}}return r},e}class eY{constructor(e,n,i,r){this.execFunc=e,this.emitter=n,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ta=yN({});function tY(t,e,n,i,r,s,a,l,u,d,h,m,p,y){return{dateEnv:r,nowManager:s,options:n,pluginHooks:l,emitter:h,dispatch:u,getCurrentData:d,calendarApi:m,viewSpec:t,viewApi:e,dateProfileGenerator:i,theme:a,isRtl:n.direction==="rtl",addResizeHandler(b){h.on("_resize",b)},removeResizeHandler(b){h.off("_resize",b)},createScrollResponder(b){return new eY(b,h,ut(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:p,unregisterInteractiveComponent:y}}class dl extends Ki{shouldComponentUpdate(e,n){return!wb(this.props,e,this.propEquality)||!wb(this.state,n,this.stateEquality)}safeSetState(e){wb(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}dl.addPropsEquality=nY;dl.addStateEquality=iY;dl.contextType=ta;dl.prototype.propEquality={};dl.prototype.stateEquality={};class St extends dl{}St.contextType=ta;function nY(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function iY(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function ls(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class nS extends St{constructor(){super(...arguments),this.id=ul(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:i}=this.props;(!n.customRenderingReplaces||!z0(i,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ls(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:i}=n,{customGenerator:r,defaultGenerator:s,renderProps:a}=e,l=vN(e,[],this.handleEl);let u=!1,d,h=[],m;if(r!=null){const p=typeof r=="function"?r(a,F):r;if(p===!0)u=!0;else{const y=p&&typeof p=="object";y&&"html"in p?l.dangerouslySetInnerHTML={__html:p.html}:y&&"domNodes"in p?h=Array.prototype.slice.call(p.domNodes):(y?BM(p):typeof p!="function")?d=p:m=p}}else u=!z0(e.generatorName,i);return u&&s&&(d=s(a)),this.queuedDomNodes=h,this.currentGeneratorMeta=m,F(e.elTag,l,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:i,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:a}=r.options;if(s){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:a?.[i.generatorName];l&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},i),{elClasses:(i.elClasses||[]).filter(rY)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,i=this.base;if(!Qa(e,n)){n.forEach(Y_);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}nS.addPropsEquality({elClasses:Qa,elStyle:Br,elAttrs:$8,renderProps:Br});function z0(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function vN(t,e,n){const i=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(i.className=(t.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),t.elStyle&&(i.style=t.elStyle),i}function rY(t){return!!t}const bN=yN(0);class di extends Ki{constructor(){super(...arguments),this.InnerContent=sY.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ls(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=aY(e.classNameGenerator,e.renderProps);if(e.children){const i=vN(e,n,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.elTag?F(e.elTag,i,r):r}else return F(nS,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}di.contextType=bN;function sY(t,e){const n=t.props;return F(nS,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function aY(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Ud extends St{render(){let{props:e,context:n}=this,{options:i}=n,r={view:n.viewApi};return F(di,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[..._N(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount},()=>e.children)}}function _N(t){return[`fc-${t.type}-view`,"fc-view"]}function oY(t,e){let n=null,i=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(i=e.createMarker(t.end)),!n&&!i||n&&i&&i<n?null:{start:n,end:i}}function GA(t,e){let n=[],{start:i}=e,r,s;for(t.sort(lY),r=0;r<t.length;r+=1)s=t[r],s.start>i&&n.push({start:i,end:s.start}),s.end>i&&(i=s.end);return i<e.end&&n.push({start:i,end:e.end}),n}function lY(t,e){return t.start.valueOf()-e.start.valueOf()}function Xa(t,e){let{start:n,end:i}=t,r=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(n===null||i===null||n<i)&&(r={start:n,end:i}),r}function cY(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function iS(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Xm(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Gs(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function uY(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function SN(t){let e=Math.floor(ro(t.start,t.end))||1,n=Ft(t.start),i=On(n,e);return{start:n,end:i}}function rS(t,e=ut(0)){let n=null,i=null;if(t.end){i=Ft(t.end);let r=t.end.valueOf()-i.valueOf();r&&r>=Fr(e)&&(i=On(i,1))}return t.start&&(n=Ft(t.start),i&&i<=n&&(i=On(n,1))),{start:n,end:i}}function dY(t){let e=rS(t);return ro(e.start,e.end)>1}function yc(t,e,n,i){return i==="year"?ut(n.diffWholeYears(t,e),"year"):i==="month"?ut(n.diffWholeMonths(t,e),"month"):y8(t,e)}class wN{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,i){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,i)}buildNext(e,n,i){let{dateEnv:r}=this.props,s=r.add(r.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,i)}build(e,n,i=!0){let{props:r}=this,s,a,l,u,d,h;return s=this.buildValidRange(),s=this.trimHiddenDays(s),i&&(e=uY(e,s)),a=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(a.unit),u=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,l),u=this.trimHiddenDays(u),d=u,r.showNonCurrentDates||(d=Xa(d,a.range)),d=this.adjustActiveRange(d),d=Xa(d,s),h=iS(a.range,s),Gs(u,e)||(e=u.start),{currentDate:e,validRange:s,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:l,activeRange:d,renderRange:u,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:h,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:i}=this,r=null,s=null,a=null,l;return i.duration?(r=i.duration,s=i.durationUnit,a=this.buildRangeFromDuration(e,n,r,s)):(l=this.props.dayCount)?(s="day",a=this.buildRangeFromDayCount(e,n,l)):(a=this.buildCustomVisibleRange(e))?s=i.dateEnv.greatestWholeUnit(a.start,a.end).unit:(r=this.getFallbackDuration(),s=U0(r).unit,a=this.buildRangeFromDuration(e,n,r,s)),{duration:r,unit:s,range:a}}getFallbackDuration(){return ut({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:s}=this.props,{start:a,end:l}=e;return i&&(xc(r)<0&&(a=Ft(a),a=n.add(a,r)),xc(s)>1&&(l=Ft(l),l=On(l,-1),l=n.add(l,s))),{start:a,end:l}}buildRangeFromDuration(e,n,i,r){let{dateEnv:s,dateAlignment:a}=this.props,l,u,d;if(!a){let{dateIncrement:m}=this.props;m&&Fr(m)<Fr(i)?a=U0(m).unit:a=r}xc(i)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=Ft(l));function h(){l=s.startOf(e,a),u=s.add(l,i),d={start:l,end:u}}return h(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,n),h()),d}buildRangeFromDayCount(e,n,i){let{dateEnv:r,dateAlignment:s}=this.props,a=0,l=e,u;s&&(l=r.startOf(l,s)),l=Ft(l),l=this.skipHiddenDays(l,n),u=l;do u=On(u,1),this.isHiddenDay(u)||(a+=1);while(a<i);return{start:l,end:u}}buildCustomVisibleRange(e){let{props:n}=this,i=n.visibleRangeInput,r=typeof i=="function"?i.call(n.calendarApi,n.dateEnv.toDate(e)):i,s=this.refineRange(r);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,i){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,i;return n||((i=this.props.dateAlignment)?ut(1,i):e||ut({days:1}))}refineRange(e){if(e){let n=oY(e,this.props.dateEnv);return n&&(n=rS(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(n[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:i}=e;return n&&(n=this.skipHiddenDays(n)),i&&(i=this.skipHiddenDays(i,-1,!0)),n==null||i==null||n<i?{start:n,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?n:0)+7)%7];)e=On(e,n);return e}}function sS(t,e,n,i){return{instanceId:ul(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:i??null}}function fY(t,e,n,i){for(let r=0;r<i.length;r+=1){let s=i[r].parse(t,n);if(s){let{allDay:a}=t;return a==null&&(a=e,a==null&&(a=s.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:s.duration,typeData:s.typeData,typeId:r}}}return null}function il(t,e,n){let{dateEnv:i,pluginHooks:r,options:s}=n,{defs:a,instances:l}=t;l=nl(l,u=>!a[u.defId].recurringDef);for(let u in a){let d=a[u];if(d.recurringDef){let{duration:h}=d.recurringDef;h||(h=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let m=hY(d,h,e,i,r.recurringTypes);for(let p of m){let y=sS(u,{start:p,end:i.add(p,h)});l[y.instanceId]=y}}}return{defs:a,instances:l}}function hY(t,e,n,i,r){let a=r[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:i.subtract(n.start,e),end:n.end},i);return t.allDay&&(a=a.map(Ft)),a}const Mg={id:String,groupId:String,title:String,url:String,interactive:Boolean},xN={start:ee,end:ee,date:ee,allDay:Boolean},gY=Object.assign(Object.assign(Object.assign({},Mg),xN),{extendedProps:ee});function EN(t,e,n,i,r=aS(n),s,a){let{refined:l,extra:u}=RN(t,n,r),d=pY(e,n),h=fY(l,d,n.dateEnv,n.pluginHooks.recurringTypes);if(h){let p=H0(l,u,e?e.sourceId:"",h.allDay,!!h.duration,n,s);return p.recurringDef={typeId:h.typeId,typeData:h.typeData,duration:h.duration},{def:p,instance:null}}let m=mY(l,d,n,i);if(m){let p=H0(l,u,e?e.sourceId:"",m.allDay,m.hasEnd,n,s),y=sS(p.defId,m.range,m.forcedStartTzo,m.forcedEndTzo);return a&&p.publicId&&a[p.publicId]&&(y.instanceId=a[p.publicId]),{def:p,instance:y}}return null}function RN(t,e,n=aS(e)){return J_(t,n)}function aS(t){return Object.assign(Object.assign(Object.assign({},um),gY),t.pluginHooks.eventRefiners)}function H0(t,e,n,i,r,s,a){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(a&&t.id?a[t.id]:"")||ul(),sourceId:n,allDay:i,hasEnd:r,interactive:t.interactive,ui:dm(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let u of s.pluginHooks.eventDefMemberAdders)Object.assign(l,u(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function mY(t,e,n,i){let{allDay:r}=t,s,a=null,l=!1,u,d=null,h=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(h),s)a=s.marker;else if(!i)return null;return t.end!=null&&(u=n.dateEnv.createMarkerMeta(t.end)),r==null&&(e!=null?r=e:r=(!s||s.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),r&&a&&(a=Ft(a)),u&&(d=u.marker,r&&(d=Ft(d)),a&&d<=a&&(d=null)),d?l=!0:i||(l=n.options.forceEventDuration||!1,d=n.dateEnv.add(a,r?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:r,hasEnd:l,range:{start:a,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function pY(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function zd(t,e,n,i,r,s){let a=Xi(),l=aS(n);for(let u of t){let d=EN(u,e,n,i,l,r,s);d&&B0(d,a)}return a}function B0(t,e=Xi()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function oS(t,e){let n=t.instances[e];if(n){let i=t.defs[n.defId],r=Zm(t,s=>yY(i,s));return r.defs[i.defId]=i,r.instances[n.instanceId]=n,r}return Xi()}function yY(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Xi(){return{defs:{},instances:{}}}function lS(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Zm(t,e){let n=nl(t.defs,e),i=nl(t.instances,r=>n[r.defId]);return{defs:n,instances:i}}function vY(t,e){let{defs:n,instances:i}=t,r={},s={};for(let a in n)e.defs[a]||(r[a]=n[a]);for(let a in i)!e.instances[a]&&r[i[a].defId]&&(s[a]=i[a]);return{defs:r,instances:s}}function bY(t,e){return Array.isArray(t)?zd(t,null,e,!0):typeof t=="object"&&t?zd([t],null,e,!0):t!=null?String(t):null}function YA(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const um={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:ee,overlap:ee,allow:ee,className:YA,classNames:YA,color:String,backgroundColor:String,borderColor:String,textColor:String},_Y={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function dm(t,e){let n=bY(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function CN(t){return t.reduce(SY,_Y)}function SY(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const wY={id:String,defaultAllDay:Boolean,url:String,format:String,events:ee,eventDataTransform:ee,success:ee,failure:ee};function TN(t,e,n=AN(e)){let i;if(typeof t=="string"?i={url:t}:typeof t=="function"||Array.isArray(t)?i={events:t}:typeof t=="object"&&t&&(i=t),i){let{refined:r,extra:s}=J_(i,n),a=xY(r,e);if(a)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:ul(),sourceDefId:a.sourceDefId,meta:a.meta,ui:dm(r,e),extendedProps:s}}return null}function AN(t){return Object.assign(Object.assign(Object.assign({},um),wY),t.pluginHooks.eventSourceRefiners)}function xY(t,e){let n=e.pluginHooks.eventSourceDefs;for(let i=n.length-1;i>=0;i-=1){let s=n[i].parseMeta(t);if(s)return{sourceDefId:i,meta:s}}return null}function EY(t,e,n,i,r){switch(e.type){case"RECEIVE_EVENTS":return RY(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return CY(t,n[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return TY(t,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return lS(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?il(t,i.activeRange,r):t;case"REMOVE_EVENTS":return vY(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return DN(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Zm(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return Xi();default:return t}}function RY(t,e,n,i,r,s){if(e&&n===e.latestFetchId){let a=zd(ON(r,e,s),e,s);return i&&(a=il(a,i,s)),lS(DN(t,e.sourceId),a)}return t}function CY(t,e,n,i,r){const{defIdMap:s,instanceIdMap:a}=OY(t);let l=zd(ON(n,e,r),e,r,!1,s,a);return il(l,i,r)}function ON(t,e,n){let i=n.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(t=QA(t,r)),i&&(t=QA(t,i)),t}function QA(t,e){let n;if(!e)n=t;else{n=[];for(let i of t){let r=e(i);r?n.push(r):r==null&&n.push(i)}}return n}function TY(t,e,n,i){return n&&(e=il(e,n,i)),lS(t,e)}function KA(t,e,n){let{defs:i}=t,r=Xs(t.instances,s=>i[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:i,instances:r}}function DN(t,e){return Zm(t,n=>n.sourceId!==e)}function AY(t,e){return{defs:t.defs,instances:nl(t.instances,n=>!e[n.instanceId])}}function OY(t){const{defs:e,instances:n}=t,i={},r={};for(let s in e){const a=e[s],{publicId:l}=a;l&&(i[l]=s)}for(let s in n){const a=n[s],l=e[a.defId],{publicId:u}=l;u&&(r[u]=s)}return{defIdMap:i,instanceIdMap:r}}class Jm{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){DY(this.handlers,e,n)}off(e,n){kY(this.handlers,e,n)}trigger(e,...n){let i=this.handlers[e]||[],r=this.options&&this.options[e],s=[].concat(r||[],i);for(let a of s)a.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function DY(t,e,n){(t[e]||(t[e]=[])).push(n)}function kY(t,e,n){n?t[e]&&(t[e]=t[e].filter(i=>i!==n)):delete t[e]}const MY={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function NY(t,e){return zd(IY(t),null,e)}function IY(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},MY),n)),e}function kN(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},cS(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function PY(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function cS(t,e){let n={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(n,i(t,e));return Object.assign(n,QY(t,e.dateEnv)),n}function XA(t,e,n){let{dateEnv:i,options:r}=n,s=e;return t?(s=Ft(s),s=i.add(s,r.defaultAllDayEventDuration)):s=i.add(s,r.defaultTimedEventDuration),s}function uS(t,e,n,i){let r=fm(t.defs,e),s=Xi();for(let a in t.defs){let l=t.defs[a];s.defs[a]=jY(l,r[a],n,i)}for(let a in t.instances){let l=t.instances[a],u=s.defs[l.defId];s.instances[a]=LY(l,u,r[l.defId],n,i)}return s}function jY(t,e,n,i){let r=n.standardProps||{};r.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(r.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),r),{ui:Object.assign(Object.assign({},t.ui),r.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let a of i.pluginHooks.eventDefMutationAppliers)a(s,n,i);return!s.hasEnd&&i.options.forceEventDuration&&(s.hasEnd=!0),s}function LY(t,e,n,i,r){let{dateEnv:s}=r,a=i.standardProps&&i.standardProps.allDay===!0,l=i.standardProps&&i.standardProps.hasEnd===!1,u=Object.assign({},t);return a&&(u.range=SN(u.range)),i.datesDelta&&n.startEditable&&(u.range={start:s.add(u.range.start,i.datesDelta),end:s.add(u.range.end,i.datesDelta)}),i.startDelta&&n.durationEditable&&(u.range={start:s.add(u.range.start,i.startDelta),end:u.range.end}),i.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:s.add(u.range.end,i.endDelta)}),l&&(u.range={start:u.range.start,end:XA(e.allDay,u.range.start,r)}),e.allDay&&(u.range={start:Ft(u.range.start),end:Ft(u.range.end)}),u.range.end<u.range.start&&(u.range.end=XA(e.allDay,u.range.start,r)),u}class gc{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class en{constructor(e,n,i){this._context=e,this._def=n,this._instance=i||null}setProp(e,n){if(e in xN)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Mg[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Mg)n=Mg[e](n),this.mutate({standardProps:{[e]:n}});else if(e in um){let i=um[e](n);e==="color"?i={backgroundColor:n,borderColor:n}:e==="editable"?i={startEditable:n,durationEditable:n}:i={[e]:n},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let s=this._instance.range,a=yc(s.start,r,i,n.granularity);n.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}}setEnd(e,n={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let s=yc(this._instance.range.end,r,i,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,i={}){let{dateEnv:r}=this._context,s={allDay:i.allDay},a=r.createMarker(e),l;if(a&&!(n!=null&&(l=r.createMarker(n),!l))&&this._instance){let u=this._instance.range;i.allDay===!0&&(u=SN(u));let d=yc(u.start,a,r,i.granularity);if(l){let h=yc(u.end,l,r,i.granularity);o8(d,h)?this.mutate({datesDelta:d,standardProps:s}):this.mutate({startDelta:d,endDelta:h,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(e){let n=ut(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=ut(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=ut(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let i={allDay:e},{maintainDuration:r}=n;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:n}=this._context,i=this._instance,r=Qt(e);return this._def.hasEnd?n.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):n.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let i=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),a=oS(s,n.instanceId);a=uS(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let u=new en(r,i,n);this._def=a.defs[i.defId],this._instance=a.instances[n.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:a}),r.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:Ko(a,r,n),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=MN(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new gc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:i}=n,{startStr:r,endStr:s}=this,a={allDay:n.allDay};return n.title&&(a.title=n.title),r&&(a.start=r),s&&(a.end=s),n.publicId&&(a.id=n.publicId),n.groupId&&(a.groupId=n.groupId),n.url&&(a.url=n.url),i.display&&i.display!=="auto"&&(a.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?a.color=i.backgroundColor:(i.backgroundColor&&(a.backgroundColor=i.backgroundColor),i.borderColor&&(a.borderColor=i.borderColor)),i.textColor&&(a.textColor=i.textColor),i.classNames.length&&(a.classNames=i.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,n.extendedProps):a.extendedProps=n.extendedProps),a}toJSON(){return this.toPlainObject()}}function MN(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Ko(t,e,n){let{defs:i,instances:r}=t,s=[],a=n?n.instanceId:"";for(let l in r){let u=r[l],d=i[u.defId];u.instanceId!==a&&s.push(new en(e,d,u))}return s}function $0(t,e,n,i){let r={},s={},a={},l=[],u=[],d=fm(t.defs,e);for(let h in t.defs){let m=t.defs[h];d[m.defId].display==="inverse-background"&&(m.groupId?(r[m.groupId]=[],a[m.groupId]||(a[m.groupId]=m)):s[h]=[])}for(let h in t.instances){let m=t.instances[h],p=t.defs[m.defId],y=d[p.defId],b=m.range,_=!p.allDay&&i?rS(b,i):b,w=Xa(_,n);w&&(y.display==="inverse-background"?p.groupId?r[p.groupId].push(w):s[m.defId].push(w):y.display!=="none"&&(y.display==="background"?l:u).push({def:p,ui:y,instance:m,range:w,isStart:_.start&&_.start.valueOf()===w.start.valueOf(),isEnd:_.end&&_.end.valueOf()===w.end.valueOf()}))}for(let h in r){let m=r[h],p=GA(m,n);for(let y of p){let b=a[h],_=d[b.defId];l.push({def:b,ui:_,instance:null,range:y,isStart:!1,isEnd:!1})}}for(let h in s){let m=s[h],p=GA(m,n);for(let y of p)l.push({def:t.defs[h],ui:d[h],instance:null,range:y,isStart:!1,isEnd:!1})}return{bg:l,fg:u}}function FY(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function ZA(t,e){t.fcSeg=e}function Dc(t){return t.fcSeg||t.parentNode.fcSeg||null}function fm(t,e){return Xs(t,n=>NN(n,e))}function NN(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),CN(n)}function dS(t,e){let n=t.map(UY);return n.sort((i,r)=>e8(i,r,e)),n.map(i=>i._seg)}function UY(t){let{eventRange:e}=t,n=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,s=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:r,end:s,duration:s-r,allDay:Number(n.allDay),_seg:t})}function zY(t,e){let{pluginHooks:n}=e,i=n.isDraggableTransformers,{def:r,ui:s}=t.eventRange,a=s.startEditable;for(let l of i)a=l(a,r,s,e);return a}function HY(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function BY(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function bd(t,e,n,i,r,s,a){let{dateEnv:l,options:u}=n,{displayEventTime:d,displayEventEnd:h}=u,m=t.eventRange.def,p=t.eventRange.instance;d==null&&(d=i!==!1),h==null&&(h=r!==!1);let y=p.range.start,b=p.range.end,_=s||t.start||t.eventRange.range.start,w=a||t.end||t.eventRange.range.end,x=Ft(y).valueOf()===Ft(_).valueOf(),E=Ft(Ka(b,-1)).valueOf()===Ft(Ka(w,-1)).valueOf();return d&&!m.allDay&&(x||E)?(_=x?y:_,w=E?b:w,h&&m.hasEnd?l.formatRange(_,w,e,{forcedStartTzo:s?null:p.forcedStartTzo,forcedEndTzo:a?null:p.forcedEndTzo}):l.format(_,e,{forcedTzo:s?null:p.forcedStartTzo})):""}function Ys(t,e,n){let i=t.eventRange.range;return{isPast:i.end<=(n||e.start),isFuture:i.start>=(n||e.end),isToday:e&&Gs(e,i.start)}}function $Y(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function IN(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function fS(t,e){let{def:n,instance:i}=t.eventRange,{url:r}=n;if(r)return{href:r};let{emitter:s,options:a}=e,{eventInteractive:l}=a;return l==null&&(l=n.interactive,l==null&&(l=!!s.hasHandlers("eventClick"))),l?fN(u=>{s.trigger("eventClick",{el:u.target,event:new en(e,n,i),jsEvent:u,view:e.viewApi})}):{}}const VY={start:ee,end:ee,allDay:Boolean};function qY(t,e,n){let i=WY(t,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(n==null)return null;r.end=e.add(r.start,n)}return i}function WY(t,e){let{refined:n,extra:i}=J_(t,VY),r=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:a}=n;return a==null&&(a=r&&r.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:s?s.marker:null},allDay:a},i)}function GY(t,e){return cY(t.range,e.range)&&t.allDay===e.allDay&&YY(t,e)}function YY(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function QY(t,e){return Object.assign(Object.assign({},jN(t.range,e,t.allDay)),{allDay:t.allDay})}function PN(t,e,n){return Object.assign(Object.assign({},jN(t,e,n)),{timeZone:e.timeZone})}function jN(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function KY(t,e,n){let i=RN({editable:!1},n),r=H0(i.refined,i.extra,"",t.allDay,!0,n);return{def:r,ui:NN(r,e),instance:sS(r.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function XY(t,e,n){let i=!1,r=function(l){i||(i=!0,e(l))},s=function(l){i||(i=!0,n(l))},a=t(r,s);a&&typeof a.then=="function"&&a.then(r,s)}class JA extends Error{constructor(e,n){super(e),this.response=n}}function ZY(t,e,n){t=t.toUpperCase();const i={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(i.body=new URLSearchParams(n),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(s=>[s,r],()=>{throw new JA("Failure parsing JSON",r)});throw new JA("Request failed",r)})}let xb;function LN(){return xb==null&&(xb=JY()),xb}function JY(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class e9 extends St{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{cm(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{cm(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:i}=this.state,r=i||n.height==="auto"||n.contentHeight==="auto",s=!r&&n.height!=null?n.height:"",a=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return LN()||a.push("fc-liquid-hack"),e.children(a,s,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let qc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function t9(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function hS(t){return{[t.component.uid]:t}}const V0={};class fl extends Ki{constructor(e,n){super(e,n),this.handleRefresh=()=>{let i=this.computeTiming();i.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(i.state),this.clearTimeout(),this.setTimeout(i.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,i=n.nowManager.getDateMarker(),{nowIndicatorSnap:r}=n.options;r==="auto"&&(r=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,a;return r?(s=n.dateEnv.startOf(i,e.unit),a=n.dateEnv.add(s,ut(1,e.unit)).valueOf()-i.valueOf()):(s=i,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:n9(s)},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}fl.contextType=ta;function n9(t){let e=Ft(t),n=On(e,1);return{start:e,end:n}}class i9{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let i=this.getCurrentData(),r;n=n||"day",r=i.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),s,a;for(let l in n)r.push(l);for(s=0;s<r.length;s+=1)if(a=n[r[s]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),i=ut(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),Qt(n))}formatRange(e,n,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(n),Qt(i),i)}formatIso(e,n){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:n})}select(e,n){let i;n==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:n};let r=this.getCurrentData(),s=qY(i,r.dateEnv,ut({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),kN(s,null,r))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),PY(e,n))}addEvent(e,n){if(e instanceof en){let a=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[a.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:B0({def:a,instance:l})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(n instanceof gc)r=n.internalEventSource;else if(typeof n=="boolean")n&&([r]=tS(i.eventSources));else if(n!=null){let a=this.getEventSourceById(n);if(!a)return console.warn(`Could not find an event source with ID "${n}"`),null;r=a.internalEventSource}let s=EN(e,r,i,!1);if(s){let a=new en(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:B0(s)}),this.triggerEventAdd(a),a}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:MN(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:i,instances:r}=n.eventStore;e=String(e);for(let s in i){let a=i[s];if(a.publicId===e){if(a.recurringDef)return new en(n,a,null);for(let l in r){let u=r[l];if(u.defId===a.defId)return new en(n,a,u)}}}return null}getEvents(){let e=this.getCurrentData();return Ko(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,i=[];for(let r in n)i.push(new gc(e,n[r]));return i}getEventSourceById(e){let n=this.getCurrentData(),i=n.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new gc(n,i[r]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof gc)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=TN(e,n);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new gc(n,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=ut(e);n&&this.trigger("_scrollRequest",{time:n})}}function r9(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function FN(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function s9(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function a9(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function o9(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Eb=Xi();class l9{constructor(){this.getKeysForEventDefs=Me(this._getKeysForEventDefs),this.splitDateSelection=Me(this._splitDateSpan),this.splitEventStore=Me(this._splitEventStore),this.splitIndividualUi=Me(this._splitIndividualUi),this.splitEventDrag=Me(this._splitInteraction),this.splitEventResize=Me(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,i),a=this.splitEventStore(e.eventStore,i),l=this.splitEventDrag(e.eventDrag),u=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=Xs(n,(h,m)=>this.eventUiBuilders[m]||Me(c9));for(let h in n){let m=n[h],p=a[h]||Eb,y=this.eventUiBuilders[h];d[h]={businessHours:m.businessHours||e.businessHours,dateSelection:r[h]||null,eventStore:p,eventUiBases:y(e.eventUiBases[""],m.ui,s[h]),eventSelection:p.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[h]||null,eventResize:u[h]||null}}return d}_splitDateSpan(e){let n={};if(e){let i=this.getKeysForDateSpan(e);for(let r of i)n[r]=e}return n}_getKeysForEventDefs(e){return Xs(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:i,instances:r}=e,s={};for(let a in i)for(let l of n[a])s[l]||(s[l]=Xi()),s[l].defs[a]=i[a];for(let a in r){let l=r[a];for(let u of n[l.defId])s[u]&&(s[u].instances[a]=l)}return s}_splitIndividualUi(e,n){let i={};for(let r in e)if(r)for(let s of n[r])i[s]||(i[s]={}),i[s][r]=e[r];return i}_splitInteraction(e){let n={};if(e){let i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,r),a=l=>{n[l]||(n[l]={affectedEvents:i[l]||Eb,mutatedEvents:s[l]||Eb,isEvent:e.isEvent})};for(let l in i)a(l);for(let l in s)a(l)}return n}}function c9(t,e,n){let i=[];t&&i.push(t),e&&i.push(e);let r={"":CN(i)};return n&&Object.assign(r,n),r}function gS(t,e,n,i){return{dow:t.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!Gs(i.activeRange,t))),isOther:!!(i&&!Gs(i.currentRange,t)),isToday:!!(e&&Gs(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function ep(t,e){let n=["fc-day",`fc-day-${f8[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const u9=Qt({year:"numeric",month:"long",day:"numeric"}),d9=Qt({week:"long"});function kc(t,e,n="day",i=!0){const{dateEnv:r,options:s,calendarApi:a}=t;let l=r.format(e,n==="week"?d9:u9);if(s.navLinks){let u=r.toDate(e);const d=h=>{let m=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof m=="function"?m.call(a,r.toDate(e),h):(typeof m=="string"&&(n=m),a.zoomTo(e,n))};return Object.assign({title:yd(s.navLinkHint,[l,u],l),"data-navlink":""},i?dN(d):{onClick:d})}return{"aria-label":l}}let Rb=null;function f9(){return Rb===null&&(Rb=h9()),Rb}function h9(){let t=document.createElement("div");pd(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Y_(t),n}let Cb;function g9(){return Cb||(Cb=m9()),Cb}function m9(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=UN(t);return document.body.removeChild(t),e}function UN(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function p9(t,e=!1){let n=window.getComputedStyle(t),i=parseInt(n.borderLeftWidth,10)||0,r=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,l=UN(t),u=l.y-i-r,d=l.x-s-a,h={borderLeft:i,borderRight:r,borderTop:s,borderBottom:a,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return f9()&&n.direction==="rtl"?h.scrollbarLeft=u:h.scrollbarRight=u,e&&(h.paddingLeft=parseInt(n.paddingLeft,10)||0,h.paddingRight=parseInt(n.paddingRight,10)||0,h.paddingTop=parseInt(n.paddingTop,10)||0,h.paddingBottom=parseInt(n.paddingBottom,10)||0),h}function y9(t,e=!1,n){let i=mS(t),r=p9(t,e),s={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(s.left+=r.paddingLeft,s.right-=r.paddingRight,s.top+=r.paddingTop,s.bottom-=r.paddingBottom),s}function mS(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function v9(t){let e=zN(t),n=t.getBoundingClientRect();for(let i of e){let r=FN(n,i.getBoundingClientRect());if(r)n=r;else return null}return n}function zN(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class Mc{constructor(e,n,i,r){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.left-e),i.push(s.right-e)}this.lefts=n,this.rights=i}buildElVerticals(e){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.top-e),i.push(s.bottom-e)}this.tops=n,this.bottoms=i}leftToIndex(e){let{lefts:n,rights:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(e>=n[s]&&e<i[s])return s}topToIndex(e){let{tops:n,bottoms:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(e>=n[s]&&e<i[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return sg(this.tops||[],e.tops||[])&&sg(this.bottoms||[],e.bottoms||[])&&sg(this.lefts||[],e.lefts||[])&&sg(this.rights||[],e.rights||[])}}function sg(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(Math.round(t[i])!==Math.round(e[i]))return!1;return!0}class pS{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class b9 extends pS{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class _9 extends pS{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class qr extends St{constructor(){super(...arguments),this.uid=ul()}prepareHits(){}queryHit(e,n,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!oi(e,".fc-event-mirror")}isValidDateDownEl(e){return!oi(e,".fc-event:not(.fc-bg-event)")&&!oi(e,".fc-more-link")&&!oi(e,"a[data-navlink]")&&!oi(e,".fc-popover")}}class HN{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let i of e)this.insertEntry(i,n);return n}insertEntry(e,n){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,i){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},n),{span:yS(n.span,e.touchingEntry.span)});i.push(r),this.splitEntry(n,e.touchingEntry,i)}else i.push(n)}splitEntry(e,n,i){let r=e.span,s=n.span;r.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:s.start}},i),r.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:r.end}},i)}insertEntryAt(e,n){let{entriesByLevel:i,levelCoords:r}=this;n.lateral===-1?(Tb(r,n.level,n.levelCoord),Tb(i,n.level,[e])):Tb(i[n.level],n.lateral,e),this.stackCnts[Xo(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:i,strictOrder:r,stackCnts:s}=this,a=n.length,l=0,u=-1,d=-1,h=null,m=0;for(let b=0;b<a;b+=1){const _=n[b];if(!r&&_>=l+this.getEntryThickness(e))break;let w=i[b],x,E=W0(w,e.span.start,q0),C=E[0]+E[1];for(;(x=w[C])&&x.span.start<e.span.end;){let D=_+this.getEntryThickness(x);D>l&&(l=D,h=x,u=b,d=C),D===l&&(m=Math.max(m,s[Xo(x)]+1)),C+=1}}let p=0;if(h)for(p=u+1;p<a&&n[p]<l;)p+=1;let y=-1;return p<a&&n[p]===l&&(y=W0(i[p],e.span.end,q0)[0]),{touchingLevel:u,touchingLateral:d,touchingEntry:h,stackCnt:m,levelCoord:l,level:p,lateral:y}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,i=e.length,r=[];for(let s=0;s<i;s+=1){let a=e[s],l=n[s];for(let u of a)r.push(Object.assign(Object.assign({},u),{thickness:this.getEntryThickness(u),levelCoord:l}))}return r}}function q0(t){return t.span.end}function Xo(t){return t.index+":"+t.span.start}function S9(t){let e=[];for(let n of t){let i=[],r={span:n.span,entries:[n]};for(let s of e)yS(s.span,r.span)?r={entries:s.entries.concat(r.entries),span:w9(s.span,r.span)}:i.push(s);i.push(r),e=i}return e}function w9(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function yS(t,e){let n=Math.max(t.start,e.start),i=Math.min(t.end,e.end);return n<i?{start:n,end:i}:null}function Tb(t,e,n){t.splice(e,0,n)}function W0(t,e,n){let i=0,r=t.length;if(!r||e<n(t[i]))return[0,0];if(e>n(t[r-1]))return[r,0];for(;i<r;){let s=Math.floor(i+(r-i)/2),a=n(t[s]);if(e<a)r=s;else if(e>a)i=s+1;else return[s,1]}return[i,0]}class x9{constructor(e,n){this.emitter=new Jm}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const vS={};function E9(t,e){return!t||e>10?Qt({weekday:"short"}):e>1?Qt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Qt({weekday:"long"})}const BN="fc-col-header-cell";function $N(t){return t.text}class R9 extends St{render(){let{dateEnv:e,options:n,theme:i,viewApi:r}=this.context,{props:s}=this,{date:a,dateProfile:l}=s,u=gS(a,s.todayRange,null,l),d=[BN].concat(ep(u,i)),h=e.format(a,s.dayHeaderFormat),m=!u.isDisabled&&s.colCnt>1?kc(this.context,a):{},p=e.toDate(a);e.namedTimeZoneImpl&&(p=Ka(p,36e5));let y=Object.assign(Object.assign(Object.assign({date:p,view:r},s.extraRenderProps),{text:h}),u);return F(di,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":u.isDisabled?void 0:lf(a)},s.extraDataAttrs),renderProps:y,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:$N,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},b=>F("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&F(b,{elTag:"a",elAttrs:m,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const C9=Qt({weekday:"long"});class T9 extends St{render(){let{props:e}=this,{dateEnv:n,theme:i,viewApi:r,options:s}=this.context,a=On(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=n.format(a,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:a},l),{view:r}),e.extraRenderProps),{text:u});return F(di,{elTag:"th",elClasses:[BN,...ep(l,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:$N,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},h=>F("div",{className:"fc-scrollgrid-sync-inner"},F(h,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(a,C9)}})))}}class VN extends St{constructor(){super(...arguments),this.createDayHeaderFormatter=Me(A9)}render(){let{context:e}=this,{dates:n,dateProfile:i,datesRepDistinctDays:r,renderIntro:s}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,n.length);return F(fl,{unit:"day"},(l,u)=>F("tr",{role:"row"},s&&s("day"),n.map(d=>r?F(R9,{key:d.toISOString(),date:d,dateProfile:i,todayRange:u,colCnt:n.length,dayHeaderFormat:a}):F(T9,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:a}))))}}function A9(t,e,n){return t||E9(e,n)}class qN{constructor(e,n){let i=e.start,{end:r}=e,s=[],a=[],l=-1;for(;i<r;)n.isHiddenDay(i)?s.push(l+.5):(l+=1,s.push(l),a.push(i)),i=On(i,1);this.dates=a,this.indices=s,this.cnt=a.length}sliceRange(e){let n=this.getDateDayIndex(e.start),i=this.getDateDayIndex(On(e.end,-1)),r=Math.max(0,n),s=Math.min(this.cnt-1,i);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:n===r,isEnd:i===s}:null}getDateDayIndex(e){let{indices:n}=this,i=Math.floor(ro(this.dates[0],e));return i<0?n[0]-1:i>=n.length?n[n.length-1]+1:n[i]}}class WN{constructor(e,n){let{dates:i}=e,r,s,a;if(n){for(s=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==s;r+=1);a=Math.ceil(i.length/r)}else a=1,r=i.length;this.rowCnt=a,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(n,r));e.push(i)}return e}buildCell(e,n){let i=this.daySeries.dates[e*this.colCnt+n];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:s,lastIndex:a}=i,l=s;for(;l<=a;){let u=Math.floor(l/n),d=Math.min((u+1)*n,a+1);r.push({row:u,firstCol:l%n,lastCol:(d-1)%n,isStart:i.isStart&&l===s,isEnd:i.isEnd&&d-1===a}),l=d}}return r}}class GN{constructor(){this.sliceBusinessHours=Me(this._sliceBusinessHours),this.sliceDateSelection=Me(this._sliceDateSpan),this.sliceEventStore=Me(this._sliceEventStore),this.sliceEventDrag=Me(this._sliceInteraction),this.sliceEventResize=Me(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,i,r,...s){let{eventUiBases:a}=e,l=this.sliceEventStore(e.eventStore,a,n,i,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,i,a,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,i,r,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,n,i,...s),eventResize:this.sliceEventResize(e.eventResize,a,n,i,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,i,r,...s){return this._sliceDateSpan({range:{start:e,end:Ka(e,1)},allDay:!1},n,i,{},r,...s)}_sliceBusinessHours(e,n,i,r,...s){return e?this._sliceEventStore(il(e,ag(n,!!i),r),{},n,i,...s).bg:[]}_sliceEventStore(e,n,i,r,...s){if(e){let a=$0(e,n,ag(i,!!r),r);return{bg:this.sliceEventRanges(a.bg,s),fg:this.sliceEventRanges(a.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,i,r,...s){if(!e)return null;let a=$0(e.mutatedEvents,n,ag(i,!!r),r);return{segs:this.sliceEventRanges(a.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,i,r,s,...a){if(!e)return[];let l=ag(n,!!i),u=Xa(e.range,l);if(u){e=Object.assign(Object.assign({},e),{range:u});let d=KY(e,r,s),h=this.sliceRange(e.range,...a);for(let m of h)m.eventRange=d;return h}return[]}sliceEventRanges(e,n){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,n));return i}sliceEventRange(e,n){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:On(i.start,1)});let r=this.sliceRange(i,...n);for(let s of r)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return r}}function ag(t,e){let n=t.activeRange;return e?n:{start:Ka(n.start,t.slotMinTime.milliseconds),end:Ka(n.end,t.slotMaxTime.milliseconds-864e5)}}function YN(t,e,n){let{instances:i}=t.mutatedEvents;for(let r in i)if(!Xm(e.validRange,i[r].range))return!1;return QN({eventDrag:t},n)}function O9(t,e,n){return Xm(e.validRange,t.range)?QN({dateSelection:t},n):!1}function QN(t,e){let n=e.getCurrentData(),i=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||D9)(i,e)}function D9(t,e,n={},i){return!(t.eventDrag&&!k9(t,e,n,i)||t.dateSelection&&!M9(t,e,n,i))}function k9(t,e,n,i){let r=e.getCurrentData(),s=t.eventDrag,a=s.mutatedEvents,l=a.defs,u=a.instances,d=fm(l,s.isEvent?t.eventUiBases:{"":r.selectionConfig});i&&(d=Xs(d,i));let h=AY(t.eventStore,s.affectedEvents.instances),m=h.defs,p=h.instances,y=fm(m,t.eventUiBases);for(let b in u){let _=u[b],w=_.range,x=d[_.defId],E=l[_.defId];if(!KN(x.constraints,w,h,t.businessHours,e))return!1;let{eventOverlap:C}=e.options,D=typeof C=="function"?C:null;for(let N in p){let I=p[N];if(iS(w,I.range)&&(y[I.defId].overlap===!1&&s.isEvent||x.overlap===!1||D&&!D(new en(e,m[I.defId],I),new en(e,E,_))))return!1}let O=r.eventStore;for(let N of x.allows){let I=Object.assign(Object.assign({},n),{range:_.range,allDay:E.allDay}),k=O.defs[E.defId],j=O.instances[b],H;if(k?H=new en(e,k,j):H=new en(e,E),!N(cS(I,e),H))return!1}}return!0}function M9(t,e,n,i){let r=t.eventStore,s=r.defs,a=r.instances,l=t.dateSelection,u=l.range,{selectionConfig:d}=e.getCurrentData();if(i&&(d=i(d)),!KN(d.constraints,u,r,t.businessHours,e))return!1;let{selectOverlap:h}=e.options,m=typeof h=="function"?h:null;for(let p in a){let y=a[p];if(iS(u,y.range)&&(d.overlap===!1||m&&!m(new en(e,s[y.defId],y),null)))return!1}for(let p of d.allows){let y=Object.assign(Object.assign({},n),l);if(!p(cS(y,e),null))return!1}return!0}function KN(t,e,n,i,r){for(let s of t)if(!I9(N9(s,e,n,i,r),e))return!1;return!0}function N9(t,e,n,i,r){return t==="businessHours"?Ab(il(i,e,r)):typeof t=="string"?Ab(Zm(n,s=>s.groupId===t)):typeof t=="object"&&t?Ab(il(t,e,r)):[]}function Ab(t){let{instances:e}=t,n=[];for(let i in e)n.push(e[i].range);return n}function I9(t,e){for(let n of t)if(Xm(n,e))return!0;return!1}const og=/^(visible|hidden)$/;class XN extends St{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ls(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:i}=e,r=n&&i,s=["fc-scroller"];return n&&(i?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),F("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(og.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(og.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return og.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return og.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class $s{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,i)=>{let{depths:r,currentMap:s}=this,a=!1,l=!1;n!==null?(a=i in s,s[i]=n,r[i]=(r[i]||0)+1,l=!0):(r[i]-=1,r[i]||(delete s[i],delete this.callbackMap[i],a=!0)),this.masterCallback&&(a&&this.masterCallback(null,String(i)),l&&this.masterCallback(n,String(i)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),n}collect(e,n,i){return W8(this.currentMap,e,n,i)}getAll(){return tS(this.currentMap)}}function P9(t){let e=VG(t,".fc-scrollgrid-shrink"),n=0;for(let i of e)n=Math.max(n,r8(i));return Math.ceil(n)}function ZN(t,e){return t.liquid&&e.liquid}function j9(t,e){return e.maxHeight!=null||ZN(t,e)}function L9(t,e,n,i){let{expandRows:r}=n;return typeof e.content=="function"?e.content(n):F("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,F(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function F9(t,e){return Qa(t,e,Br)}function U9(t,e){let n=[];for(let i of t){let r=i.span||1;for(let s=0;s<r;s+=1)n.push(F("col",{style:{width:i.width==="shrink"?z9(e):i.width||"",minWidth:i.minWidth||""}}))}return F("colgroup",{},...n)}function z9(t){return t??4}function H9(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function B9(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function $9(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function G0(t){return F("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function hm(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function JN(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class bS extends St{constructor(){super(...arguments),this.processCols=Me(e=>e,F9),this.renderMicroColGroup=Me(U9),this.scrollerRefs=new $s,this.scrollerElRefs=new $s(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:i}=this,r=e.sections||[],s=this.processCols(e.cols),a=this.renderMicroColGroup(s,n.shrinkWidth),l=B9(e.liquid,i);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let u=r.length,d=0,h,m=[],p=[],y=[];for(;d<u&&(h=r[d]).type==="header";)m.push(this.renderSection(h,a,!0)),d+=1;for(;d<u&&(h=r[d]).type==="body";)p.push(this.renderSection(h,a,!1)),d+=1;for(;d<u&&(h=r[d]).type==="footer";)y.push(this.renderSection(h,a,!0)),d+=1;let b=!LN();const _={role:"rowgroup"};return F("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!b&&m.length)&&F("thead",_,...m),!!(!b&&p.length)&&F("tbody",_,...p),!!(!b&&y.length)&&F("tfoot",_,...y),b&&F("tbody",_,...m,...p,...y))}renderSection(e,n,i){return"outerContent"in e?F(It,{key:e.key},e.outerContent):F("tr",{key:e.key,role:"presentation",className:$9(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,i))}renderChunkTd(e,n,i,r){if("outerContent"in i)return i.outerContent;let{props:s}=this,{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:u}=this.state,d=j9(s,e),h=ZN(s,e),m=s.liquid?a?"scroll":d?"auto":"hidden":"visible",p=e.key,y=L9(e,i,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&l[p]!==void 0?l[p]:null,clientHeight:u[p]!==void 0?u[p]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return F(r?"th":"td",{ref:i.elRef,role:"presentation"},F("div",{className:`fc-scroller-harness${h?" fc-scroller-harness-liquid":""}`},F(XN,{ref:this.scrollerRefs.createRef(p),elRef:this.scrollerElRefs.createRef(p),overflowY:m,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:h,liquidIsAbsolute:!0},y)))}_handleScrollerEl(e,n){let i=V9(this.props.sections,n);i&&ls(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return H9(this.props.cols)?P9(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=g9(),{scrollerRefs:n,scrollerElRefs:i}=this,r=!1,s={},a={};for(let l in n.currentMap){let u=n.currentMap[l];if(u&&u.needsYScrolling()){r=!0;break}}for(let l of this.props.sections){let u=l.key,d=i.currentMap[u];if(d){let h=d.parentNode;s[u]=Math.floor(h.getBoundingClientRect().width-(r?e.y:0)),a[u]=Math.floor(h.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:a}}}bS.addStateEquality({scrollerClientWidths:Br,scrollerClientHeights:Br});function V9(t,e){for(let n of t)if(n.key===e)return n;return null}class tp extends St{constructor(){super(...arguments),this.buildPublicEvent=Me((e,n,i)=>new en(e,n,i)),this.handleEl=e=>{this.el=e,ls(this.props.elRef,e),e&&ZA(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:i}=n,{seg:r}=e,{eventRange:s}=r,{ui:a}=s,l={event:this.buildPublicEvent(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&zY(r,n),isStartResizable:!e.disableResizing&&HY(r,n),isEndResizable:!e.disableResizing&&BY(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return F(di,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...$Y(l),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&ZA(this.el,this.props.seg)}}class _S extends St{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r}=e,{ui:s}=r.eventRange,a=i.eventTimeFormat||e.defaultTimeFormat,l=bd(r,a,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return F(tp,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:fS(r,n),defaultGenerator:q9,timeText:l}),(u,d)=>F(It,null,F(u,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&F("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&F("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}_S.addPropsEquality({seg:Br});function q9(t){return F("div",{className:"fc-event-main-frame"},t.timeText&&F("div",{className:"fc-event-time"},t.timeText),F("div",{className:"fc-event-title-container"},F("div",{className:"fc-event-title fc-sticky"},t.event.title||F(It,null,""))))}const SS=t=>F(ta.Consumer,null,e=>{let{options:n}=e,i={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return F(di,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:i,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),W9=Qt({day:"numeric"});class wS extends St{constructor(){super(...arguments),this.refineRenderProps=kg(G9)}render(){let{props:e,context:n}=this,{options:i}=n,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:i.monthStartFormat});return F(di,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":lf(e.date)}),elClasses:[...ep(r,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount},e.children)}}function xS(t){return!!(t.dayCellContent||z0("dayCellContent",t))}function G9(t){let{date:e,dateEnv:n,dateProfile:i,isMonthStart:r}=t,s=gS(e,t.todayRange,null,i),a=t.showDayNumber?n.format(e,r?t.monthStartFormat:W9):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:r,dayNumberText:a}),t.extraRenderProps)}class eI extends St{render(){let{props:e}=this,{seg:n}=e;return F(tp,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:Y9,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Y9(t){let{title:e}=t.event;return e&&F("div",{className:"fc-event-title"},t.event.title)}function tI(t){return F("div",{className:`fc-${t}`})}const nI=t=>F(ta.Consumer,null,e=>{let{dateEnv:n,options:i}=e,{date:r}=t,s=i.weekNumberFormat||t.defaultFormat,a=n.computeWeekNumber(r),l=n.format(r,s),u={num:a,text:l,date:r};return F(di,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:u,generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:Q9,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},t.children)});function Q9(t){return t.text}const Ob=10;class K9 extends St{constructor(){super(...arguments),this.state={titleId:qa()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ls(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=cN(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:i,state:r}=this,s=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return DG(F("div",Object.assign({},i.extraAttrs,{id:i.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),F("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},F("span",{className:"fc-popover-title",id:r.titleId},i.title),F("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),F("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:i}=this.props,{rootEl:r}=this,s=v9(n);if(s){let a=r.getBoundingClientRect(),l=i?oi(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,u=e?s.right-a.width:s.left;l=Math.max(l,Ob),u=Math.min(u,document.documentElement.clientWidth-Ob-a.width),u=Math.max(u,Ob);let d=r.offsetParent.getBoundingClientRect();pd(r,{top:l-d.top,left:u-d.left})}}}class X9 extends qr{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:i}=this,{startDate:r,todayRange:s,dateProfile:a}=i,l=n.format(r,e.dayPopoverFormat);return F(wS,{elRef:this.handleRootEl,date:r,dateProfile:a,todayRange:s},(u,d,h)=>F(K9,{elRef:h.ref,id:i.id,title:l,extraClassNames:["fc-more-popover"].concat(h.className||[]),extraAttrs:h,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},xS(e)&&F(u,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,n,i,r){let{rootEl:s,props:a}=this;return e>=0&&e<i&&n>=0&&n<r?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class iI extends St{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:qa()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ls(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:i}=this,{moreLinkClick:r}=i.options,s=eO(n).start;function a(l){let{def:u,instance:d,range:h}=l.eventRange;return{event:new en(i,u,d),start:i.dateEnv.toDate(h.start),end:i.dateEnv.toDate(h.end),isStart:l.isStart,isEnd:l.isEnd}}typeof r=="function"&&(r=r({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(a),hiddenSegs:n.hiddenSegs.map(a),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(s,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return F(ta.Consumer,null,i=>{let{viewApi:r,options:s,calendarApi:a}=i,{moreLinkText:l}=s,{moreCnt:u}=e,d=eO(e),h=typeof l=="function"?l.call(a,u):`+${u} ${l}`,m=yd(s.moreLinkHint,[u],h),p={num:u,shortText:`+${u}`,text:h,view:r};return F(It,null,!!e.moreCnt&&F(di,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),dN(this.handleClick)),{title:m,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:p,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||Z9,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&F(X9,{id:n.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=oi(this.linkEl,".fc-view-harness"))}}function Z9(t){return t.text}function eO(t){if(t.allDayDate)return{start:t.allDayDate,end:On(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:rI(e),end:e7(e)}}function rI(t){return t.reduce(J9).eventRange.range.start}function J9(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function e7(t){return t.reduce(t7).eventRange.range.end}function t7(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class n7{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class i7 extends n7{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let i=!1;e.isActive?(n.set(e.id,e),i=!0):n.has(e.id)&&(n.delete(e.id),i=!0),i&&this.set(n)}}const r7=[],sI={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},aI=Object.assign(Object.assign({},sI),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function s7(t){let e=t.length>0?t[0].code:"en",n=r7.concat(t),i={en:aI};for(let r of n)i[r.code]=r;return{map:i,defaultCode:e}}function oI(t,e){return typeof t=="object"&&!Array.isArray(t)?lI(t.code,[t.code],t):a7(t,e)}function a7(t,e){let n=[].concat(t||[]),i=o7(n,e)||aI;return lI(t,n,i)}function o7(t,e){for(let n=0;n<t.length;n+=1){let i=t[n].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let s=i.slice(0,r).join("-");if(e[s])return e[s]}}return null}function lI(t,e,n){let i=eS([sI,n],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:t,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(t),options:i}}function ds(t){return{id:ul(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function l7(t,e){let n={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(s){for(let a of s){const l=a.name,u=n[l];u===void 0?(n[l]=a.id,r(a.deps),i=u7(i,a)):u!==a.id&&console.warn(`Duplicate plugin '${l}'`)}}return t&&r(t),r(e),i}function c7(){let t=[],e=[],n;return(i,r)=>((!n||!Qa(i,t)||!Qa(r,e))&&(n=l7(i,r)),t=i,e=r,n)}function u7(t,e){return{premiumReleaseDate:d7(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function d7(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class so extends cf{}so.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};so.prototype.baseIconClass="fc-icon";so.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};so.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};so.prototype.iconOverrideOption="buttonIcons";so.prototype.iconOverrideCustomButtonOption="icon";so.prototype.iconOverridePrefix="fc-icon-";function f7(t,e){let n={},i;for(i in t)Y0(i,n,t,e);for(i in e)Y0(i,n,t,e);return n}function Y0(t,e,n,i){if(e[t])return e[t];let r=h7(t,e,n,i);return r&&(e[t]=r),r}function h7(t,e,n,i){let r=n[t],s=i[t],a=h=>r&&r[h]!==null?r[h]:s&&s[h]!==null?s[h]:null,l=a("component"),u=a("superType"),d=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");d=Y0(u,e,n,i)}return!l&&d&&(l=d.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},d?d.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}function tO(t){return Xs(t,g7)}function g7(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=nO(e):n&&!(n.prototype instanceof St)&&(n=nO(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function nO(t){return e=>F(ta.Consumer,null,n=>F(di,{elTag:"div",elClasses:_N(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function m7(t,e,n,i){let r=tO(t),s=tO(e.views),a=f7(r,s);return Xs(a,l=>p7(l,s,e,n,i))}function p7(t,e,n,i,r){let s=t.overrides.duration||t.defaults.duration||i.duration||n.duration,a=null,l="",u="",d={};if(s&&(a=y7(s),a)){let p=U0(a);l=p.unit,p.value===1&&(u=l,d=e[l]?e[l].rawOptions:{})}let h=p=>{let y=p.buttonText||{},b=t.defaults.buttonTextKey;return b!=null&&y[b]!=null?y[b]:y[t.type]!=null?y[t.type]:y[u]!=null?y[u]:null},m=p=>{let y=p.buttonHints||{},b=t.defaults.buttonTextKey;return b!=null&&y[b]!=null?y[b]:y[t.type]!=null?y[t.type]:y[u]!=null?y[u]:null};return{type:t.type,component:t.component,duration:a,durationUnit:l,singleUnit:u,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},d),t.overrides),buttonTextOverride:h(i)||h(n)||t.overrides.buttonText,buttonTextDefault:h(r)||t.defaults.buttonText||h(vd)||t.type,buttonTitleOverride:m(i)||m(n)||t.overrides.buttonHint,buttonTitleDefault:m(r)||t.defaults.buttonHint||m(vd)}}let iO={};function y7(t){let e=JSON.stringify(t),n=iO[e];return n===void 0&&(n=ut(t),iO[e]=n),n}function v7(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function b7(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function _7(t,e,n){let i=t.initialDate;return i!=null?e.createMarker(i):n.getDateMarker()}function S7(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function w7(t,e,n,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||n);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(t,n),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(t,n),r.isValid)return r;break}return t}function x7(t,e,n){let i=e?e.activeRange:null;return uI({},D7(t,n),i,n)}function E7(t,e,n,i){let r=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return uI(t,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return C7(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?dI(t,r,i):t;case"FETCH_EVENT_SOURCES":return ES(t,e.sourceIds?mN(e.sourceIds):fI(t,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return O7(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function R7(t,e,n){let i=e?e.activeRange:null;return ES(t,fI(t,n),i,!0,n)}function cI(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function uI(t,e,n,i){let r={};for(let s of e)r[s.sourceId]=s;return n&&(r=dI(r,n,i)),Object.assign(Object.assign({},t),r)}function C7(t,e){return nl(t,n=>n.sourceId!==e)}function dI(t,e,n){return ES(t,nl(t,i=>T7(i,e,n)),e,!1,n)}function T7(t,e,n){return hI(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function ES(t,e,n,i,r){let s={};for(let a in t){let l=t[a];e[a]?s[a]=A7(l,n,i,r):s[a]=l}return s}function A7(t,e,n,i){let{options:r,calendarApi:s}=i,a=i.pluginHooks.eventSourceDefs[t.sourceDefId],l=ul();return a.fetch({eventSource:t,range:e,isRefetch:n,context:i},u=>{let{rawEvents:d}=u;r.eventSourceSuccess&&(d=r.eventSourceSuccess.call(s,d,u.response)||d),t.success&&(d=t.success.call(s,d,u.response)||d),i.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:d})},u=>{let d=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(s,u),d=!0),t.failure&&(t.failure(u),d=!0),d||console.warn(u.message,u),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:u})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function O7(t,e,n,i){let r=t[e];return r&&n===r.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):t}function fI(t,e){return nl(t,n=>hI(n,e))}function D7(t,e){let n=AN(e),i=[].concat(t.eventSources||[]),r=[];t.initialEvents&&i.unshift(t.initialEvents),t.events&&i.unshift(t.events);for(let s of i){let a=TN(s,e,n);a&&r.push(a)}return r}function hI(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function k7(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function M7(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function N7(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function I7(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function P7(t,e,n,i,r){let s=t.headerToolbar?rO(t.headerToolbar,t,e,n,i,r):null,a=t.footerToolbar?rO(t.footerToolbar,t,e,n,i,r):null;return{header:s,footer:a}}function rO(t,e,n,i,r,s){let a={},l=[],u=!1;for(let d in t){let h=t[d],m=j7(h,e,n,i,r,s);a[d]=m.widgets,l.push(...m.viewsWithButtons),u=u||m.hasTitle}return{sectionWidgets:a,viewsWithButtons:l,hasTitle:u}}function j7(t,e,n,i,r,s){let a=e.direction==="rtl",l=e.customButtons||{},u=n.buttonText||{},d=e.buttonText||{},h=n.buttonHints||{},m=e.buttonHints||{},p=t?t.split(" "):[],y=[],b=!1;return{widgets:p.map(w=>w.split(",").map(x=>{if(x==="title")return b=!0,{buttonName:x};let E,C,D,O,N,I;if(E=l[x])D=k=>{E.click&&E.click.call(k.target,k,k.target)},(O=i.getCustomButtonIconClass(E))||(O=i.getIconClass(x,a))||(N=E.text),I=E.hint||E.text;else if(C=r[x]){y.push(x),D=()=>{s.changeView(x)},(N=C.buttonTextOverride)||(O=i.getIconClass(x,a))||(N=C.buttonTextDefault);let k=C.buttonTextOverride||C.buttonTextDefault;I=yd(C.buttonTitleOverride||C.buttonTitleDefault||e.viewHint,[k,x],k)}else if(s[x])if(D=()=>{s[x]()},(N=u[x])||(O=i.getIconClass(x,a))||(N=d[x]),x==="prevYear"||x==="nextYear"){let k=x==="prevYear"?"prev":"next";I=yd(h[k]||m[k],[d.year||"year","year"],d[x])}else I=k=>yd(h[x]||m[x],[d[k]||k,k],d[x]);return{buttonName:x,buttonClick:D,buttonIcon:O,buttonText:N,buttonHint:I}})),viewsWithButtons:y,hasTitle:b}}class L7{constructor(e,n,i){this.type=e,this.getCurrentData=n,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let F7={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const U7=ds({name:"array-event-source",eventSourceDefs:[F7]});let z7={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:i}=t.context,r=t.eventSource.meta;XY(r.bind(null,PN(t.range,i)),s=>e({rawEvents:s}),n)}};const H7=ds({name:"func-event-source",eventSourceDefs:[z7]}),B7={method:String,extraParams:ee,startParam:String,endParam:String,timeZoneParam:String};let $7={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:i}=t.eventSource,r=q7(i,t.range,t.context);ZY(i.method,i.url,r).then(([s,a])=>{e({rawEvents:s,response:a})},n)}};const V7=ds({name:"json-event-source",eventSourceRefiners:B7,eventSourceDefs:[$7]});function q7(t,e,n){let{dateEnv:i,options:r}=n,s,a,l,u,d={};return s=t.startParam,s==null&&(s=r.startParam),a=t.endParam,a==null&&(a=r.endParam),l=t.timeZoneParam,l==null&&(l=r.timeZoneParam),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},Object.assign(d,u),d[s]=i.formatIso(e.start),d[a]=i.formatIso(e.end),i.timeZone!=="local"&&(d[l]=i.timeZone),d}const W7={daysOfWeek:ee,startTime:ut,endTime:ut,duration:ut,startRecur:ee,endRecur:ee};let G7={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},i;return t.duration&&(i=t.duration),!i&&t.startTime&&t.endTime&&(i=l8(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:i,typeData:n}}return null},expand(t,e,n){let i=Xa(e,{start:t.startRecur,end:t.endRecur});return i?Q7(t.daysOfWeek,t.startTime,t.dateEnv,n,i):[]}};const Y7=ds({name:"simple-recurring-event",recurringTypes:[G7],eventRefiners:W7});function Q7(t,e,n,i,r){let s=t?mN(t):null,a=Ft(r.start),l=r.end,u=[];for(e&&(e.milliseconds<0?l=On(l,1):e.milliseconds>=1e3*60*60*24&&(a=On(a,-1)));a<l;){let d;(!s||s[a.getUTCDay()])&&(e?d=i.add(a,e):d=a,u.push(i.createMarker(n.toDate(d)))),a=On(a,1)}return u}const K7=ds({name:"change-handler",optionChangeHandlers:{events(t,e){sO([t],e)},eventSources:sO}});function sO(t,e){let n=tS(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let i=[];for(let r of t){let s=!1;for(let a=0;a<n.length;a+=1)if(n[a]._raw===r){n.splice(a,1),s=!0;break}s||i.push(r)}for(let r of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function X7(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},PN(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Z7(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ko(t,e))}const J7=[U7,H7,V7,Y7,K7,ds({name:"misc",isLoadingFuncs:[t=>cI(t.eventSources)],propSetHandlers:{dateProfile:X7,eventStore:Z7}})];class eQ{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new G_(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],i;for(;i=e.shift();)this.runTask(i),n.push(i);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function tQ(t,e,n){let i;return/^(year|month)$/.test(t.currentRangeUnit)?i=t.currentRange:i=t.activeRange,n.formatRange(i.start,i.end,Qt(e.titleFormat||nQ(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function nQ(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=sm(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class aO{constructor(){this.resetListeners=new Set}handleInput(e,n){const i=this.dateEnv;if(e!==i&&(typeof n=="function"?this.nowFn=n:i||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class iQ{constructor(e){this.computeCurrentViewData=Me(this._computeCurrentViewData),this.organizeRawLocales=Me(s7),this.buildLocale=Me(oI),this.buildPluginHooks=c7(),this.buildDateEnv=Me(rQ),this.buildTheme=Me(sQ),this.parseToolbars=Me(P7),this.buildViewSpecs=Me(m7),this.buildDateProfileGenerator=kg(aQ),this.buildViewApi=Me(oQ),this.buildViewUiProps=kg(uQ),this.buildEventUiBySource=Me(lQ,Br),this.buildEventUiBases=Me(cQ),this.parseContextBusinessHours=kg(dQ),this.buildTitle=Me(tQ),this.nowManager=new aO,this.emitter=new Jm,this.actionRunner=new eQ(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=p=>{this.actionRunner.request(p)},this.props=e,this.actionRunner.pause(),this.nowManager=new aO;let n={},i=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(r,i,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let a={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=_7(i.calendarOptions,i.dateEnv,this.nowManager),u=s.dateProfileGenerator.build(l);Gs(u.activeRange,l)||(l=u.currentRange.start);for(let p of i.pluginHooks.contextInit)p(a);let d=x7(i.calendarOptions,u,a),h={dynamicOptionOverrides:n,currentViewType:r,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(a),eventSources:d,eventUiBases:{},eventStore:Xi(),renderableEventStore:Xi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},m=Object.assign(Object.assign({},a),h);for(let p of i.pluginHooks.reducers)Object.assign(h,p(null,null,m));Db(h,a)&&this.emitter.trigger("loading",!0),this.state=h,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:i}=this;n===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:i,emitter:r}=this,s=S7(i.dynamicOptionOverrides,e),a=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),l=v7(i.currentViewType,e),u=this.computeCurrentViewData(l,a,n.optionOverrides,s);n.calendarApi.currentDataManager=this,r.setThisContext(n.calendarApi),r.setOptions(u.options);let d={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:h,dateProfile:m}=i;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(m=u.dateProfileGenerator.build(h)),h=b7(h,e),m=w7(m,e,h,u.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Gs(m.currentRange,h))&&(h=m.currentRange.start);let p=E7(i.eventSources,e,m,d),y=EY(i.eventStore,e,p,m,d),_=cI(p)&&!u.options.progressiveEventRendering&&i.renderableEventStore||y,{eventUiSingleBase:w,selectionConfig:x}=this.buildViewUiProps(d),E=this.buildEventUiBySource(p),C=this.buildEventUiBases(_.defs,w,E),D={dynamicOptionOverrides:s,currentViewType:l,currentDate:h,dateProfile:m,eventSources:p,eventStore:y,renderableEventStore:_,selectionConfig:x,eventUiBases:C,businessHours:this.parseContextBusinessHours(d),dateSelection:k7(i.dateSelection,e),eventSelection:M7(i.eventSelection,e),eventDrag:N7(i.eventDrag,e),eventResize:I7(i.eventResize,e)},O=Object.assign(Object.assign({},d),D);for(let k of a.pluginHooks.reducers)Object.assign(D,k(i,e,O));let N=Db(i,d),I=Db(D,d);!N&&I?r.trigger("loading",!0):N&&!I&&r.trigger("loading",!1),this.state=D,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,r,e.optionOverrides,n.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),n),l=r.pluginHooks.optionChangeHandlers,u=i&&i.calendarOptions,d=r.calendarOptions;if(u&&u!==d){u.timeZone!==d.timeZone&&(n.eventSources=a.eventSources=R7(a.eventSources,n.dateProfile,a),n.eventStore=a.eventStore=KA(a.eventStore,i.dateEnv,a.dateEnv),n.renderableEventStore=a.renderableEventStore=KA(a.renderableEventStore,i.dateEnv,a.dateEnv));for(let h in l)(this.optionsForHandling.indexOf(h)!==-1||u[h]!==d[h])&&l[h](d[h],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,n,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:a,availableLocaleData:l,extra:u}=this.processRawCalendarOptions(e,n);oO(u);let d=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,l,r.defaultRangeSeparator),h=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),m=this.buildTheme(r,s),p=this.parseToolbars(r,this.stableOptionOverrides,m,h,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:d,viewSpecs:h,theme:m,toolbarConfig:p,localeDefaults:a,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:i,locale:r}=Sb([vd,e,n]),s=this.organizeRawLocales(i),a=s.map,l=this.buildLocale(r||s.defaultCode,a).options,u=this.buildPluginHooks(e.plugins||[],J7),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},VA),qA),WA),u.listenerRefiners),u.optionRefiners),h={},m=Sb([vd,l,e,n]),p={},y=this.currentCalendarOptionsInput,b=this.currentCalendarOptionsRefined,_=!1;for(let w in m)this.optionsForRefining.indexOf(w)===-1&&(m[w]===y[w]||Po[w]&&w in y&&Po[w](y[w],m[w]))?p[w]=b[w]:d[w]?(p[w]=d[w](m[w]),_=!0):h[w]=y[w];return _&&(this.currentCalendarOptionsInput=m,this.currentCalendarOptionsRefined=p,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:s,localeDefaults:l,extra:h}}_computeCurrentViewData(e,n,i,r){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:l}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,i,r);oO(l),this.nowManager.handleInput(n.dateEnv,a.now);let u=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:a,dateProfileGenerator:u,viewApi:d}}processRawViewOptions(e,n,i,r,s){let a=Sb([vd,e.optionDefaults,i,r,e.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},VA),qA),WA),H8),n.listenerRefiners),n.optionRefiners),u={},d=this.currentViewOptionsInput,h=this.currentViewOptionsRefined,m=!1,p={};for(let y in a)a[y]===d[y]||Po[y]&&Po[y](a[y],d[y])?u[y]=h[y]:(a[y]===this.currentCalendarOptionsInput[y]||Po[y]&&Po[y](a[y],this.currentCalendarOptionsInput[y])?y in this.currentCalendarOptionsRefined&&(u[y]=this.currentCalendarOptionsRefined[y]):l[y]?u[y]=l[y](a[y]):p[y]=a[y],m=!0);return m&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}}}function rQ(t,e,n,i,r,s,a,l){let u=oI(e||a.defaultCode,a.map);return new Z8({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:i,weekText:r,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function sQ(t,e){let n=e.themeClasses[t.themeSystem]||so;return new n(t)}function aQ(t){let e=t.dateProfileGeneratorClass||wN;return new e(t)}function oQ(t,e,n){return new L7(t,e,n)}function lQ(t){return Xs(t,e=>e.ui)}function cQ(t,e,n){let i={"":e};for(let r in t){let s=t[r];s.sourceId&&n[s.sourceId]&&(i[r]=n[s.sourceId])}return i}function uQ(t){let{options:e}=t;return{eventUiSingleBase:dm({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:dm({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Db(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function dQ(t){return NY(t.options.businessHours,t)}function oO(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class fQ extends St{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return F("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:i}=this.context,r=[],s=!0;for(let a of e){let{buttonName:l,buttonClick:u,buttonText:d,buttonIcon:h,buttonHint:m}=a;if(l==="title")s=!1,r.push(F("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let p=l===n.activeButton,y=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",b=[`fc-${l}-button`,i.getClass("button")];p&&b.push(i.getClass("buttonActive")),r.push(F("button",{type:"button",title:typeof m=="function"?m(n.navUnit):m,disabled:y,"aria-pressed":p,className:b.join(" "),onClick:u},d||(h?F("span",{className:h,role:"img"}):"")))}}if(r.length>1){let a=s&&i.getClass("buttonGroup")||"";return F("div",{className:a},...r)}return r[0]}}class lO extends St{render(){let{model:e,extraClassName:n}=this.props,i=!1,r,s,a=e.sectionWidgets,l=a.center;return a.left?(i=!0,r=a.left):r=a.start,a.right?(i=!0,s=a.right):s=a.end,F("div",{className:[n||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",l||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:i}=this;return F(fQ,{key:e,widgetGroups:n,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class hQ extends St{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ls(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",a="";return i?n.availableWidth!==null?s=n.availableWidth/i:a=`${1/i*100}%`:s=e.height||"",F("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class gQ extends qc{constructor(e){super(e),this.handleSegClick=(n,i)=>{let{component:r}=this,{context:s}=r,a=Dc(i);if(a&&r.isValidSegDownEl(n.target)){let l=oi(n.target,".fc-event-forced-url"),u=l?l.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:i,event:new en(r.context,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi}),u&&!n.defaultPrevented&&(window.location.href=u)}},this.destroy=uN(e.el,"click",".fc-event",this.handleSegClick)}}class mQ extends qc{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,i)=>{Dc(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",n,i))},this.handleSegLeave=(n,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,i))},this.removeHoverListeners=GG(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,i){let{component:r}=this,{context:s}=r,a=Dc(i);(!n||r.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:i,event:new en(s,a.eventRange.def,a.eventRange.instance),jsEvent:n,view:s.viewApi})}}class pQ extends dl{constructor(){super(...arguments),this.buildViewContext=Me(tY),this.buildViewPropTransformers=Me(vQ),this.buildToolbarProps=Me(yQ),this.headerRef=vi(),this.footerRef=vi(),this.interactionsStore={},this.state={viewLabelId:qa()},this.registerInteractiveComponent=(e,n)=>{let i=t9(e,n),a=[gQ,mQ].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(i));this.interactionsStore[e.uid]=a,V0[e.uid]=i},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let i of n)i.destroy();delete this.interactionsStore[e.uid]}delete V0[e.uid]},this.resizeRunner=new G_(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:i}=e,r=!1,s="",a;e.isHeightAuto||e.forPrint?s="":i.height!=null?r=!0:i.contentHeight!=null?s=i.contentHeight:a=Math.max(i.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return F(ta.Provider,{value:l},F(fl,{unit:"day"},d=>{let h=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return F(It,null,n.header&&F(lO,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},h)),F(hQ,{liquid:r,height:s,aspectRatio:a,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&F(lO,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},h)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let i in n)n[i](e[i],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:i}=n.pluginHooks;for(let r in i)n[r]!==e[r]&&i[r](n[r],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(i=>i(e));return F(It,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of s)Object.assign(r,l.transform(r,e));let a=i.component;return F(a,Object.assign({},r))}}function yQ(t,e,n,i,r,s){let a=n.build(r,void 0,!1),l=n.buildPrev(e,i,!1),u=n.buildNext(e,i,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:a.isValid&&!Gs(e.currentRange,r),isPrevEnabled:l.isValid,isNextEnabled:u.isValid}}function vQ(t){return t.map(e=>new e)}class bQ extends i9{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;cm(()=>{Fd(F(e9,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,s,a,l)=>(this.setClassNames(r),this.setHeight(s),F(bN.Provider,{value:this.customContentRenderId},F(pQ,Object.assign({isHeightAuto:a,forPrint:l},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Fd(null,this.el),this.setClassNames([]),this.setHeight(""))},FG(e),this.el=e,this.renderRunner=new G_(this.handleRenderRequest),new iQ({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){cm(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Qa(e,this.currentClassNames)){let{classList:n}=this.el;for(let i of this.currentClassNames)n.remove(i);for(let i of e)n.add(i);this.currentClassNames=e}}setHeight(e){lN(this.el,"height",e)}}const _Q=parseInt(String(re.version).split(".")[0]),SQ=_Q<18;class gI extends A.Component{constructor(){super(...arguments),this.elRef=A.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(re.createElement(wQ,{key:n.id,customRendering:n}));return re.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new i7;this.handleCustomRendering=e.handle.bind(e),this.calendar=new bQ(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{zs.flushSync(()=>{})});let n;e.subscribe(i=>{const r=Date.now(),s=!n;(SQ||s||this.isUpdating||this.isUnmounting||r-n<100?mI:zs.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{n=r,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}gI.act=mI;class wQ extends A.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,i=typeof n=="function"?n(e.renderProps):n;return zs.createPortal(i,e.containerEl)}}function mI(t){t()}class xQ extends qr{constructor(){super(...arguments),this.headerElRef=vi()}renderSimpleLayout(e,n){let{props:i,context:r}=this,s=[],a=hm(r.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),F(Ud,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},F(bS,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,i,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:a,context:l}=this,u=!a.forPrint&&hm(l.options),d=!a.forPrint&&JN(l.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),d&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:G0}]}),F(Ud,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},F(s,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:h}))}}function Ng(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.row].push(i);return n}function lg(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.firstCol].push(i);return n}function cO(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}const pI=Qt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function yI(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class vI extends St{render(){let{props:e}=this;return F(_S,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:pI,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class bI extends St{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r}=e,s=i.eventTimeFormat||pI,a=bd(r,s,n,!0,e.defaultDisplayEventEnd);return F(tp,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:fS(e.seg,n),defaultGenerator:EQ,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function EQ(t){return F(It,null,F("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&F("div",{className:"fc-event-time"},t.timeText),F("div",{className:"fc-event-title"},t.event.title||F(It,null,"")))}class RQ extends St{constructor(){super(...arguments),this.compileSegs=Me(CQ)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return F(iI,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return F(It,null,n.map(s=>{let a=s.eventRange.instance.instanceId;return F("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:r[a]?"hidden":""}},yI(s)?F(bI,Object.assign({seg:s,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},Ys(s,e.todayRange))):F(vI,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},Ys(s,e.todayRange))))}))}})}}function CQ(t){let e=[],n=[];for(let i of t)e.push(i.seg),i.isVisible||n.push(i.seg);return{allSegs:e,invisibleSegs:n}}const TQ=Qt({week:"narrow"});class AQ extends qr{constructor(){super(...arguments),this.rootElRef=vi(),this.state={dayNumberId:qa()},this.handleRootEl=e=>{ls(this.rootElRef,e),ls(this.props.elRef,e)}}render(){let{context:e,props:n,state:i,rootElRef:r}=this,{options:s,dateEnv:a}=e,{date:l,dateProfile:u}=n;const d=n.showDayNumber&&DQ(l,u.currentRange,a);return F(wS,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:OQ,date:l,dateProfile:u,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:d,extraRenderProps:n.extraRenderProps},(h,m)=>F("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&F(nI,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:kc(e,l,"week"),date:l,defaultFormat:TQ}),!m.isDisabled&&(n.showDayNumber||xS(s)||n.forceDayTop)?F("div",{className:"fc-daygrid-day-top"},F(h,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},kc(e,l)),{id:i.dayNumberId})})):n.showDayNumber?F("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},F("a",{className:"fc-daygrid-day-number"},"")):void 0,F("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,F("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},F(RQ,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:r,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),F("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function OQ(t){return t.dayNumberText||F(It,null,"")}function DQ(t,e,n){const{start:i,end:r}=e,s=Ka(r,-1),a=n.getYear(i),l=n.getMonth(i),u=n.getYear(s),d=n.getMonth(s);return!(a===u&&l===d)&&(t.valueOf()===i.valueOf()||n.getDay(t)===1&&t.valueOf()<r.valueOf())}function _I(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function SI(t){return _I(t)+":"+t.lastCol}function kQ(t,e,n,i,r,s,a){let l=new IQ(x=>{let E=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return r[E]||1});l.allowReslicing=!0,l.strictOrder=i,e===!0||n===!0?(l.maxCoord=s,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let u=[],d=[];for(let x=0;x<t.length;x+=1){let E=t[x],C=SI(E);r[C]!=null?u.push({index:x,span:{start:E.firstCol,end:E.lastCol+1}}):d.push(E)}let h=l.addSegs(u),m=l.toRects(),{singleColPlacements:p,multiColPlacements:y,leftoverMargins:b}=MQ(m,t,a),_=[],w=[];for(let x of d){y[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=x.firstCol;E<=x.lastCol;E+=1)p[E].push({seg:Ec(x,E,E+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<a.length;x+=1)_.push(0);for(let x of h){let E=t[x.index],C=x.span;y[C.start].push({seg:Ec(E,C.start,C.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let D=C.start;D<C.end;D+=1)_[D]+=1,p[D].push({seg:Ec(E,D,D+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<a.length;x+=1)w.push(b[x]);return{singleColPlacements:p,multiColPlacements:y,moreCnts:_,moreMarginTops:w}}function MQ(t,e,n){let i=NQ(t,n.length),r=[],s=[],a=[];for(let l=0;l<n.length;l+=1){let u=i[l],d=[],h=0,m=0;for(let y of u){let b=e[y.index];d.push({seg:Ec(b,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:y.levelCoord-h}),h=y.levelCoord+y.thickness}let p=[];h=0,m=0;for(let y of u){let b=e[y.index],_=y.span.end-y.span.start>1,w=y.span.start===l;m+=y.levelCoord-h,h=y.levelCoord+y.thickness,_?(m+=y.thickness,w&&p.push({seg:Ec(b,y.span.start,y.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:y.levelCoord,marginTop:0})):w&&(p.push({seg:Ec(b,y.span.start,y.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:m}),m=0)}r.push(d),s.push(p),a.push(m)}return{singleColPlacements:r,multiColPlacements:s,leftoverMargins:a}}function NQ(t,e){let n=[];for(let i=0;i<e;i+=1)n.push([]);for(let i of t)for(let r=i.span.start;r<i.span.end;r+=1)n[r].push(i);return n}function Ec(t,e,n,i){if(t.firstCol===e&&t.lastCol===n-1)return t;let r=t.eventRange,s=r.range,a=Xa(s,{start:i[e].date,end:On(i[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:a},isStart:t.isStart&&a.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&a.end.valueOf()===s.end.valueOf()})}class IQ extends HN{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:i}=this,r=s=>!this.forceHidden[Xo(s)];for(let s=0;s<i.length;s+=1)i[s]=i[s].filter(r);return n}handleInvalidInsertion(e,n,i){const{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:a,touchingLevel:l,touchingLateral:u}=e;if(this.hiddenConsumes&&a){const d=Xo(a);if(!s[d])if(this.allowReslicing){const h=Object.assign(Object.assign({},a),{span:yS(a.span,n.span)}),m=Xo(h);s[m]=!0,r[l][u]=h,i.push(h),this.splitEntry(a,n,i)}else s[d]=!0,i.push(a)}super.handleInvalidInsertion(e,n,i)}}class wI extends qr{constructor(){super(...arguments),this.cellElRefs=new $s,this.frameElRefs=new $s,this.fgElRefs=new $s,this.segHarnessRefs=new $s,this.rootElRef=vi(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:i}=this,{options:r}=i,s=e.cells.length,a=lg(e.businessHourSegs,s),l=lg(e.bgEventSegs,s),u=lg(this.getHighlightSegs(),s),d=lg(this.getMirrorSegs(),s),{singleColPlacements:h,multiColPlacements:m,moreCnts:p,moreMarginTops:y}=kQ(dS(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),b=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return F("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((_,w)=>{let x=this.renderFgSegs(w,e.forPrint?h[w]:m[w],e.todayRange,b),E=this.renderFgSegs(w,PQ(d[w],m),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return F(AQ,{key:_.key,elRef:this.cellElRefs.createRef(_.key),innerElRef:this.frameElRefs.createRef(_.key),dateProfile:e.dateProfile,date:_.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&w===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:_.extraRenderProps,extraDataAttrs:_.extraDataAttrs,extraClassNames:_.extraClassNames,extraDateSpan:_.extraDateSpan,moreCnt:p[w],moreMarginTop:y[w],singlePlacements:h[w],fgContentElRef:this.fgElRefs.createRef(_.key),fgContent:F(It,null,F(It,null,x),F(It,null,E)),bgContent:F(It,null,this.renderFillSegs(u[w],"highlight"),this.renderFillSegs(a[w],"non-business"),this.renderFillSegs(l[w],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let i=this.props;this.updateSizing(!Br(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,i,r,s,a,l){let{context:u}=this,{eventSelection:d}=this.props,{framePositions:h}=this.state,m=this.props.cells.length===1,p=s||a||l,y=[];if(h)for(let b of n){let{seg:_}=b,{instanceId:w}=_.eventRange.instance,x=b.isVisible&&!r[w],E=b.isAbsolute,C="",D="";E&&(u.isRtl?(D=0,C=h.lefts[_.lastCol]-h.lefts[_.firstCol]):(C=0,D=h.rights[_.firstCol]-h.rights[_.lastCol])),y.push(F("div",{className:"fc-daygrid-event-harness"+(E?" fc-daygrid-event-harness-abs":""),key:_I(_),ref:p?null:this.segHarnessRefs.createRef(SI(_)),style:{visibility:x?"":"hidden",marginTop:E?"":b.marginTop,top:E?b.absoluteTop:"",left:C,right:D}},yI(_)?F(bI,Object.assign({seg:_,isDragging:s,isSelected:w===d,defaultDisplayEventEnd:m},Ys(_,i))):F(vI,Object.assign({seg:_,isDragging:s,isResizing:a,isDateSelecting:l,isSelected:w===d,defaultDisplayEventEnd:m},Ys(_,i)))))}return y}renderFillSegs(e,n){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,a=[];if(s)for(let l of e){let u=i?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};a.push(F("div",{key:IN(l.eventRange),className:"fc-daygrid-bg-harness",style:u},n==="bg-event"?F(eI,Object.assign({seg:l},Ys(l,r))):tI(n)))}return F(It,{},...a)}updateSizing(e){let{props:n,state:i,frameElRefs:r}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let u=n.cells.map(d=>r.currentMap[d.key]);if(u.length){let d=this.rootElRef.current,h=new Mc(d,u,!0,!1);(!i.framePositions||!i.framePositions.similarTo(h))&&this.setState({framePositions:new Mc(d,u,!0,!1)})}}const s=this.state.segHeights,a=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),a),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);n[i]=Math.max(n[i]||0,r)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}wI.addStateEquality({segHeights:Br});function PQ(t,e){if(!t.length)return[];let n=jQ(e);return t.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:n[i.eventRange.instance.instanceId],marginTop:0}))}function jQ(t){let e={};for(let n of t)for(let i of n)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class LQ extends qr{constructor(){super(...arguments),this.splitBusinessHourSegs=Me(Ng),this.splitBgEventSegs=Me(FQ),this.splitFgEventSegs=Me(Ng),this.splitDateSelectionSegs=Me(Ng),this.splitEventDrag=Me(cO),this.splitEventResize=Me(cO),this.rowRefs=new $s}render(){let{props:e,context:n}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),a=this.splitFgEventSegs(e.fgEventSegs,i),l=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i),h=i>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return F(fl,{unit:"day"},(m,p)=>F(It,null,e.cells.map((y,b)=>F(wI,{ref:this.rowRefs.createRef(b),key:y.length?y[0].date.toISOString():b,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:p,dateProfile:e.dateProfile,cells:y,renderIntro:e.renderRowIntro,businessHourSegs:r[b],eventSelection:e.eventSelection,bgEventSegs:s[b],fgEventSegs:a[b],dateSelectionSegs:l[b],eventDrag:u[b],eventResize:d[b],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Mc(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Mc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:i,rowPositions:r}=this,s=i.leftToIndex(e),a=r.topToIndex(n);if(a!=null&&s!=null){let l=this.props.cells[a][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,s),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(a,s),rect:{left:i.lefts[s],right:i.rights[s],top:r.tops[a],bottom:r.bottoms[a]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let i=this.props.cells[e][n].date,r=On(i,1);return{start:i,end:r}}}function FQ(t,e){return Ng(t.filter(UQ),e)}function UQ(t){return t.eventRange.def.allDay}class zQ extends qr{constructor(){super(...arguments),this.elRef=vi(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:i,expandRows:r}=e,s=i===!0||n===!0;s&&!r&&(s=!1,n=null,i=null);let a=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return F("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},F("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,F("tbody",{role:"presentation"},F(LQ,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=HQ(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),i=n.closest(".fc-scroller"),r=e.getBoundingClientRect().top-n.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function HQ(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${E8(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${lf(e.currentDate)}"]`)),n}class BQ extends GN{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class xI extends qr{constructor(){super(...arguments),this.slicer=new BQ,this.tableRef=vi()}render(){let{props:e,context:n}=this;return F(zQ,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class $Q extends xQ{constructor(){super(...arguments),this.buildDayTableModel=Me(VQ),this.headerRef=vi(),this.tableRef=vi()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,n),s=e.dayHeaders&&F(VN,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),a=l=>F(xI,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,a,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,a)}}function VQ(t,e){let n=new qN(t.renderRange,e);return new WN(n,/year|month|week/.test(t.currentRangeUnit))}class qQ extends wN{buildRenderRange(e,n,i){let r=super.buildRenderRange(e,n,i),{props:s}=this;return WQ({currentRange:r,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function WQ(t){let{dateEnv:e,currentRange:n}=t,{start:i,end:r}=n,s;if(t.snapToWeek&&(i=e.startOfWeek(i),s=e.startOfWeek(r),s.valueOf()!==r.valueOf()&&(r=UA(s,1))),t.fixedWeekCount){let a=e.startOfWeek(e.startOfMonth(On(n.end,-1))),l=Math.ceil(h8(a,r));r=UA(r,6-l)}return{start:i,end:r}}var GQ=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Qm(GQ);var YQ=ds({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:$Q,dateProfileGeneratorClass:qQ},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class QQ extends l9{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?FY(e)?["timed","allDay"]:["allDay"]:["timed"]}}const KQ=Qt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function EI(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return F(ta.Consumer,null,n=>{if(!t.isLabeled)return F("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:i,options:r,viewApi:s}=n,a=r.slotLabelFormat==null?KQ:Array.isArray(r.slotLabelFormat)?Qt(r.slotLabelFormat[0]):Qt(r.slotLabelFormat),l={level:0,time:t.time,date:i.toDate(t.date),view:s,text:i.format(t.date,a)};return F(di,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:XQ,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},u=>F("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},F(u,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function XQ(t){return t.text}class ZQ extends St{render(){return this.props.slatMetas.map(e=>F("tr",{key:e.key},F(EI,Object.assign({},e))))}}const JQ=Qt({week:"short"}),eK=5;class tK extends qr{constructor(){super(...arguments),this.allDaySplitter=new QQ,this.headerElRef=vi(),this.rootElRef=vi(),this.scrollerElRef=vi(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,s=r.renderRange,l=ro(s.start,s.end)===1?kc(this.context,s.start,"week"):{};return i.weekNumbers&&e==="day"?F(nI,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:JQ},u=>F("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},F(u,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):F("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},F("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:i}=this.context,r={text:n.allDayText,view:i};return F(di,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:nK,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>F("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},F(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,i){let{context:r,props:s}=this,a=[],l=hm(r.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(a.push({type:"body",key:"all-day",chunk:{content:n}}),a.push({type:"body",key:"all-day-divider",outerContent:F("tr",{role:"presentation",className:"fc-scrollgrid-section"},F("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),F(Ud,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},F(bS,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,n,i,r,s,a,l){let u=this.context.pluginHooks.scrollGridImpl;if(!u)throw new Error("No ScrollGrid implementation");let{context:d,props:h}=this,m=!h.forPrint&&hm(d.options),p=!h.forPrint&&JN(d.options),y=[];e&&y.push({type:"header",key:"header",isSticky:m,syncRowHeights:!0,chunks:[{key:"axis",rowContent:_=>F("tr",{role:"presentation"},this.renderHeadAxis("day",_.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(y.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:_=>F("tr",{role:"presentation"},this.renderTableRowAxis(_.rowSyncHeights[0]))},{key:"cols",content:n}]}),y.push({key:"all-day-divider",type:"body",outerContent:F("tr",{role:"presentation",className:"fc-scrollgrid-section"},F("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let b=d.options.nowIndicator;return y.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:_=>F("div",{className:"fc-timegrid-axis-chunk"},F("table",{"aria-hidden":!0,style:{height:_.expandRows?_.clientHeight:""}},_.tableColGroupNode,F("tbody",null,F(ZQ,{slatMetas:a}))),F("div",{className:"fc-timegrid-now-indicator-container"},F(fl,{unit:b?"minute":"day"},w=>{let x=b&&l&&l.safeComputeTop(w);return typeof x=="number"?F(SS,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:w}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),p&&y.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:G0},{key:"cols",content:G0}]}),F(Ud,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},F(u,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:s}]}],sections:y}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=eK),{dayMaxEvents:e,dayMaxEventRows:n}}}function nK(t){return t.text}class iK{constructor(e,n,i){this.positions=e,this.dateProfile=n,this.slotDuration=i}safeComputeTop(e){let{dateProfile:n}=this;if(Gs(n.currentRange,e)){let i=Ft(e),r=e.valueOf()-i.valueOf();if(r>=Fr(n.slotMinTime)&&r<Fr(n.slotMaxTime))return this.computeTimeTop(ut(r))}return null}computeDateTop(e,n){return n||(n=Ft(e)),this.computeTimeTop(ut(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:i}=this,r=n.els.length,s=(e.milliseconds-Fr(i.slotMinTime))/Fr(this.slotDuration),a,l;return s=Math.max(0,s),s=Math.min(r,s),a=Math.floor(s),a=Math.min(a,r-1),l=s-a,n.tops[a]+n.getHeight(a)*l}}class rK extends St{render(){let{props:e,context:n}=this,{options:i}=n,{slatElRefs:r}=e;return F("tbody",null,e.slatMetas.map((s,a)=>{let l={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return F("tr",{key:s.key,ref:r.createRef(s.key)},e.axis&&F(EI,Object.assign({},s)),F(di,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class sK extends St{constructor(){super(...arguments),this.rootElRef=vi(),this.slatElRefs=new $s}render(){let{props:e,context:n}=this;return F("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},F("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,F(rK,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new iK(new Mc(this.rootElRef.current,aK(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function aK(t,e){return e.map(n=>t[n.key])}function Xu(t,e){let n=[],i;for(i=0;i<e;i+=1)n.push([]);if(t)for(i=0;i<t.length;i+=1)n[t[i].col].push(t[i]);return n}function uO(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}class oK extends St{render(){let{props:e}=this;return F(iI,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>CI(e.hiddenSegs,e),defaultGenerator:lK,forceTimed:!0},n=>F(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function lK(t){return t.shortText}function cK(t,e,n){let i=new HN;e!=null&&(i.strictOrder=e),n!=null&&(i.maxStackCnt=n);let r=i.addSegs(t),s=S9(r),a=uK(i);return a=gK(a,1),{segRects:mK(a),hiddenGroups:s}}function uK(t){const{entriesByLevel:e}=t,n=RS((i,r)=>i+":"+r,(i,r)=>{let s=hK(t,i,r),a=dO(s,n),l=e[i][r];return[Object.assign(Object.assign({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]});return dO(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function dO(t,e){if(!t)return[[],0];let{level:n,lateralStart:i,lateralEnd:r}=t,s=i,a=[];for(;s<r;)a.push(e(n,s)),s+=1;return a.sort(dK),[a.map(fK),a[0][1]]}function dK(t,e){return e[1]-t[1]}function fK(t){return t[0]}function hK(t,e,n){let{levelCoords:i,entriesByLevel:r}=t,s=r[e][n],a=i[e]+s.thickness,l=i.length,u=e;for(;u<l&&i[u]<a;u+=1);for(;u<l;u+=1){let d=r[u],h,m=W0(d,s.span.start,q0),p=m[0]+m[1],y=p;for(;(h=d[y])&&h.span.start<s.span.end;)y+=1;if(p<y)return{level:u,lateralStart:p,lateralEnd:y}}return null}function gK(t,e){const n=RS((i,r,s)=>Xo(i),(i,r,s)=>{let{nextLevelNodes:a,thickness:l}=i,u=l+s,d=l/u,h,m=[];if(!a.length)h=e;else for(let y of a)if(h===void 0){let b=n(y,r,u);h=b[0],m.push(b[1])}else{let b=n(y,h,0);m.push(b[1])}let p=(h-r)*d;return[h-p,Object.assign(Object.assign({},i),{thickness:p,nextLevelNodes:m})]});return t.map(i=>n(i,0,0)[1])}function mK(t){let e=[];const n=RS((r,s,a)=>Xo(r),(r,s,a)=>{let l=Object.assign(Object.assign({},r),{levelCoord:s,stackDepth:a,stackForward:0});return e.push(l),l.stackForward=i(r.nextLevelNodes,s+r.thickness,a+1)+1});function i(r,s,a){let l=0;for(let u of r)l=Math.max(n(u,s,a),l);return l}return i(t,0,0),e}function RS(t,e){const n={};return(...i)=>{let r=t(...i);return r in n?n[r]:n[r]=e(...i)}}function fO(t,e,n=null,i=0){let r=[];if(n)for(let s=0;s<t.length;s+=1){let a=t[s],l=n.computeDateTop(a.start,e),u=Math.max(l+(i||0),n.computeDateTop(a.end,e));r.push({start:Math.round(l),end:Math.round(u)})}return r}function pK(t,e,n,i){let r=[],s=[];for(let d=0;d<t.length;d+=1){let h=e[d];h?r.push({index:d,thickness:1,span:h}):s.push(t[d])}let{segRects:a,hiddenGroups:l}=cK(r,n,i),u=[];for(let d of a)u.push({seg:t[d.index],rect:d});for(let d of s)u.push({seg:d,rect:null});return{segPlacements:u,hiddenGroups:l}}const yK=Qt({hour:"numeric",minute:"2-digit",meridiem:!1});class RI extends St{render(){return F(_S,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:yK}))}}class vK extends St{constructor(){super(...arguments),this.sortEventSegs=Me(dS)}render(){let{props:e,context:n}=this,{options:i}=n,r=i.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return F(wS,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},u=>F("div",{className:"fc-timegrid-col-frame"},F("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),F("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,a,!1,!1,!1)),F("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),F("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),xS(i)&&F(u,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,i,r,s,a){let{props:l}=this;return l.forPrint?CI(e,l):this.renderPositionedFgSegs(e,n,i,r,s,a)}renderPositionedFgSegs(e,n,i,r,s,a){let{eventMaxStack:l,eventShortHeight:u,eventOrderStrict:d,eventMinHeight:h}=this.context.options,{date:m,slatCoords:p,eventSelection:y,todayRange:b,nowDate:_}=this.props,w=i||r||s,x=fO(e,m,p,h),{segPlacements:E,hiddenGroups:C}=pK(e,x,d,l);return F(It,null,this.renderHiddenGroups(C,e),E.map(D=>{let{seg:O,rect:N}=D,I=O.eventRange.instance.instanceId,k=w||!!(!n[I]&&N),j=kb(N&&N.span),H=!w&&N?this.computeSegHStyle(N):{left:0,right:0},$=!!N&&N.stackForward>0,G=!!N&&N.span.end-N.span.start<u;return F("div",{className:"fc-timegrid-event-harness"+($?" fc-timegrid-event-harness-inset":""),key:a||I,style:Object.assign(Object.assign({visibility:k?"":"hidden"},j),H)},F(RI,Object.assign({seg:O,isDragging:i,isResizing:r,isDateSelecting:s,isSelected:I===y,isShort:G},Ys(O,b,_))))}))}renderHiddenGroups(e,n){let{extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:a,eventSelection:l,eventDrag:u,eventResize:d}=this.props;return F(It,null,e.map(h=>{let m=kb(h.span),p=bK(h.entries,n);return F(oK,{key:gN(rI(p)),hiddenSegs:p,top:m.top,bottom:m.bottom,extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:a,eventSelection:l,eventDrag:u,eventResize:d})}))}renderFillSegs(e,n){let{props:i,context:r}=this,a=fO(e,i.date,i.slatCoords,r.options.eventMinHeight).map((l,u)=>{let d=e[u];return F("div",{key:IN(d.eventRange),className:"fc-timegrid-bg-harness",style:kb(l)},n==="bg-event"?F(eI,Object.assign({seg:d},Ys(d,i.todayRange,i.nowDate))):tI(n))});return F(It,null,a)}renderNowIndicator(e){let{slatCoords:n,date:i}=this.props;return n?e.map((r,s)=>F(SS,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:n,options:i}=this.context,r=i.slotEventOverlap,s=e.levelCoord,a=e.levelCoord+e.thickness,l,u;r&&(a=Math.min(1,s+(a-s)*2)),n?(l=1-a,u=s):(l=s,u=1-a);let d={zIndex:e.stackDepth+1,left:l*100+"%",right:u*100+"%"};return r&&!e.stackForward&&(d[n?"marginLeft":"marginRight"]=20),d}}function CI(t,{todayRange:e,nowDate:n,eventSelection:i,eventDrag:r,eventResize:s}){let a=(r?r.affectedInstances:null)||(s?s.affectedInstances:null)||{};return F(It,null,t.map(l=>{let u=l.eventRange.instance.instanceId;return F("div",{key:u,style:{visibility:a[u]?"hidden":""}},F(RI,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===i,isShort:!1},Ys(l,e,n))))}))}function kb(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function bK(t,e){return t.map(n=>e[n.index])}class _K extends St{constructor(){super(...arguments),this.splitFgEventSegs=Me(Xu),this.splitBgEventSegs=Me(Xu),this.splitBusinessHourSegs=Me(Xu),this.splitNowIndicatorSegs=Me(Xu),this.splitDateSelectionSegs=Me(Xu),this.splitEventDrag=Me(uO),this.splitEventResize=Me(uO),this.rootElRef=vi(),this.cellElRefs=new $s}render(){let{props:e,context:n}=this,i=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitBgEventSegs(e.bgEventSegs,r),l=this.splitBusinessHourSegs(e.businessHourSegs,r),u=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),d=this.splitDateSelectionSegs(e.dateSelectionSegs,r),h=this.splitEventDrag(e.eventDrag,r),m=this.splitEventResize(e.eventResize,r);return F("div",{className:"fc-timegrid-cols",ref:this.rootElRef},F("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,F("tbody",{role:"presentation"},F("tr",{role:"row"},e.axis&&F("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},F("div",{className:"fc-timegrid-col-frame"},F("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&F(SS,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((p,y)=>F(vK,{key:p.key,elRef:this.cellElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,fgEventSegs:s[y],bgEventSegs:a[y],businessHourSegs:l[y],nowIndicatorSegs:u[y],dateSelectionSegs:d[y],eventDrag:h[y],eventResize:m[y],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Mc(this.rootElRef.current,SK(this.cellElRefs.currentMap,e.cells),!0,!1))}}function SK(t,e){return e.map(n=>t[n.key])}class wK extends qr{constructor(){super(...arguments),this.processSlotOptions=Me(xK),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:i}=this.state;if(n&&i){if(e.time){let r=i.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),n(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return F("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},F(sK,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),F(_K,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:i,options:r}=this.context,{colCoords:s}=this,{dateProfile:a}=this.props,{slatCoords:l}=this.state,{snapDuration:u,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),h=s.leftToIndex(e),m=l.positions.topToIndex(n);if(h!=null&&m!=null){let p=this.props.cells[h],y=l.positions.tops[m],b=l.positions.getHeight(m),_=(n-y)/b,w=Math.floor(_*d),x=m*d+w,E=this.props.cells[h].date,C=F0(a.slotMinTime,c8(u,x)),D=i.add(E,C),O=i.add(D,u);return{dateProfile:a,dateSpan:Object.assign({range:{start:D,end:O},allDay:!1},p.extraDateSpan),dayEl:s.els[h],rect:{left:s.lefts[h],right:s.rights[h],top:y,bottom:y+b},layer:0}}return null}}function xK(t,e){let n=e||t,i=X_(t,n);return i===null&&(n=t,i=1),{snapDuration:n,snapsPerSlot:i}}class EK extends GN{sliceRange(e,n){let i=[];for(let r=0;r<n.length;r+=1){let s=Xa(e,n[r]);s&&i.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:r})}return i}}class RK extends qr{constructor(){super(...arguments),this.buildDayRanges=Me(CK),this.slicer=new EK,this.timeColsRef=vi()}render(){let{props:e,context:n}=this,{dateProfile:i,dayTableModel:r}=e,{nowIndicator:s,nextDayThreshold:a}=n.options,l=this.buildDayRanges(r,i,n.dateEnv);return F(fl,{unit:s?"minute":"day"},(u,d)=>F(wK,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,n,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:u,nowIndicatorSegs:s&&this.slicer.sliceNowDate(u,i,a,n,l),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function CK(t,e,n){let i=[];for(let r of t.headerDates)i.push({start:n.add(r,e.slotMinTime),end:n.add(r,e.slotMaxTime)});return i}const hO=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function TK(t,e,n,i,r){let s=new Date(0),a=t,l=ut(0),u=n||AK(i),d=[];for(;Fr(a)<Fr(e);){let h=r.add(s,a),m=X_(l,u)!==null;d.push({date:h,time:a,key:h.toISOString(),isoTimeStr:R8(h),isLabeled:m}),a=F0(a,i),l=F0(l,i)}return d}function AK(t){let e,n,i;for(e=hO.length-1;e>=0;e-=1)if(n=ut(hO[e]),i=X_(n,t),i!==null&&i>1)return n;return t}class OK extends tK{constructor(){super(...arguments),this.buildTimeColsModel=Me(DK),this.buildSlatMetas=Me(TK)}render(){let{options:e,dateEnv:n,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:s}=r,a=this.buildTimeColsModel(s,i),l=this.allDaySplitter.splitProps(r),u=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:d}=e,h=!d,m=d,p=e.dayHeaders&&F(VN,{dates:a.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),y=e.allDaySlot!==!1&&(_=>F(xI,Object.assign({},l.allDay,{dateProfile:s,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:_.tableMinWidth,colGroupNode:_.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:_.clientWidth,clientHeight:_.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),b=_=>F(RK,Object.assign({},l.timed,{dayTableModel:a,dateProfile:s,axis:h,slotDuration:e.slotDuration,slatMetas:u,forPrint:r.forPrint,tableColGroupNode:_.tableColGroupNode,tableMinWidth:_.tableMinWidth,clientWidth:_.clientWidth,clientHeight:_.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:_.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return m?this.renderHScrollLayout(p,y,b,a.colCnt,d,u,this.state.slatCoords):this.renderSimpleLayout(p,y,b)}}function DK(t,e){let n=new qN(t.renderRange,e);return new WN(n,!1)}var kK='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Qm(kK);const MK={allDaySlot:Boolean};var NK=ds({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:MK,views:{timeGrid:{component:OK,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class IK extends St{constructor(){super(...arguments),this.state={textId:qa()}}render(){let{theme:e,dateEnv:n,options:i,viewApi:r}=this.context,{cellId:s,dayDate:a,todayRange:l}=this.props,{textId:u}=this.state,d=gS(a,l),h=i.listDayFormat?n.format(a,i.listDayFormat):"",m=i.listDaySideFormat?n.format(a,i.listDaySideFormat):"",p=Object.assign({date:n.toDate(a),view:r,textId:u,text:h,sideText:m,navLinkAttrs:kc(this.context,a),sideNavLinkAttrs:kc(this.context,a,"day",!1)},d);return F(di,{elTag:"tr",elClasses:["fc-list-day",...ep(d,e)],elAttrs:{"data-date":lf(a)},renderProps:p,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:PK,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},y=>F("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":u},F(y,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function PK(t){return F(It,null,t.text&&F("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&F("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const jK=Qt({hour:"numeric",minute:"2-digit",meridiem:"short"});class LK extends St{render(){let{props:e,context:n}=this,{options:i}=n,{seg:r,timeHeaderId:s,eventHeaderId:a,dateHeaderId:l}=e,u=i.eventTimeFormat||jK;return F(tp,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>FK(r,n),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(d,h)=>F(It,null,UK(r,u,n,s,l),F("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},F("span",{className:"fc-list-event-dot",style:{borderColor:h.borderColor||h.backgroundColor}})),F(d,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${a} ${l}`}})))}}function FK(t,e){let n=fS(t,e);return F("a",Object.assign({},n),t.eventRange.def.title)}function UK(t,e,n,i,r){let{options:s}=n;if(s.displayEventTime!==!1){let a=t.eventRange.def,l=t.eventRange.instance,u=!1,d;if(a.allDay?u=!0:dY(t.eventRange.range)?t.isStart?d=bd(t,e,n,null,null,l.range.start,t.end):t.isEnd?d=bd(t,e,n,null,null,t.start,l.range.end):u=!0:d=bd(t,e,n),u){let h={text:n.options.allDayText,view:n.viewApi};return F(di,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:h,generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:zK,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount})}return F("td",{className:"fc-list-event-time"},d)}return null}function zK(t){return t.text}class HK extends qr{constructor(){super(...arguments),this.computeDateVars=Me($K),this.eventStoreToSegs=Me(this._eventStoreToSegs),this.state={timeHeaderId:qa(),eventHeaderId:qa(),dateHeaderIdRoot:qa()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:n}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return F(Ud,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},F(XN,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:n}=this.context,i={text:e.noEventsText,view:n};return F(di,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:BK,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},r=>F(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,n){let{theme:i,options:r}=this.context,{timeHeaderId:s,eventHeaderId:a,dateHeaderIdRoot:l}=this.state,u=VK(e);return F(fl,{unit:"day"},(d,h)=>{let m=[];for(let p=0;p<u.length;p+=1){let y=u[p];if(y){let b=lf(n[p]),_=l+"-"+b;m.push(F(IK,{key:b,cellId:_,dayDate:n[p],todayRange:h})),y=dS(y,r.eventOrder);for(let w of y)m.push(F(LK,Object.assign({key:b+":"+w.eventRange.instance.instanceId,seg:w,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:a,dateHeaderId:_},Ys(w,h,d))))}}return F("table",{className:"fc-list-table "+i.getClass("table")},F("thead",null,F("tr",null,F("th",{scope:"col",id:s},r.timeHint),F("th",{scope:"col","aria-hidden":!0}),F("th",{scope:"col",id:a},r.eventHint))),F("tbody",null,m))})}_eventStoreToSegs(e,n,i){return this.eventRangesToSegs($0(e,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,n){let i=[];for(let r of e)i.push(...this.eventRangeToSegs(r,n));return i}eventRangeToSegs(e,n){let{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,s=e.range,a=e.def.allDay,l,u,d,h=[];for(l=0;l<n.length;l+=1)if(u=Xa(s,n[l]),u&&(d={component:this,eventRange:e,start:u.start,end:u.end,isStart:e.isStart&&u.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&u.end.valueOf()===s.end.valueOf(),dayIndex:l},h.push(d),!d.isEnd&&!a&&l+1<n.length&&s.end<i.add(n[l+1].start,r))){d.end=s.end,d.isEnd=!0;break}return h}}function BK(t){return t.text}function $K(t){let e=Ft(t.renderRange.start),n=t.renderRange.end,i=[],r=[];for(;e<n;)i.push(e),r.push({start:e,end:On(e,1)}),e=On(e,1);return{dayDates:i,dayRanges:r}}function VK(t){let e=[],n,i;for(n=0;n<t.length;n+=1)i=t[n],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var qK=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Qm(qK);const WK={listDayFormat:gO,listDaySideFormat:gO,noEventsClassNames:ee,noEventsContent:ee,noEventsDidMount:ee,noEventsWillUnmount:ee};function gO(t){return t===!1?null:Qt(t)}var GK=ds({name:"@fullcalendar/list",optionRefiners:WK,views:{list:{component:HK,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});vS.touchMouseIgnoreWait=500;let Q0=0,gm=0,K0=!1;class TI{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&YK(n)&&this.tryStart(n)){let i=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let i=this.createEventFromMouse(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let i=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=n.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let i=this.createEventFromTouch(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=n=>{if(this.isDragging){let i=n.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,QK()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new Jm,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),KK()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),XK()}tryStart(e){let n=this.querySubjectEl(e),i=e.target;return n&&(!this.handleSelector||oi(i,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){K0=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?oi(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Q0||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(K0=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let i=0,r=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,n){let i=e.touches,r,s,a=0,l=0;return i&&i.length?(r=i[0].pageX,s=i[0].pageY):(r=e.pageX,s=e.pageY),n?(this.origPageX=r,this.origPageY=s):(a=r-this.origPageX,l=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:a,deltaY:l}}}function YK(t){return t.button===0&&!t.ctrlKey}function QK(){Q0+=1,setTimeout(()=>{Q0-=1},vS.touchMouseIgnoreWait)}function KK(){gm+=1,gm===1&&window.addEventListener("touchmove",AI,{passive:!1})}function XK(){gm-=1,gm||window.removeEventListener("touchmove",AI,{passive:!1})}function AI(t){K0&&t.preventDefault()}class ZK{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let i=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,n){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+n+"ms,left "+n+"ms",pd(i,{left:r.left,top:r.top}),YG(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(Y_(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&pd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),pd(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class OI extends pS{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class DI extends OI{constructor(e,n){super(new b9(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return y9(this.scrollController.el)}}class JK extends OI{constructor(e){super(new _9,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const mO=typeof performance=="function"?performance.now:Date.now;class eX{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=mO();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let i=e-window.scrollX,r=n-window.scrollY,s=this.pointerScreenY===null?0:r-this.pointerScreenY,a=this.pointerScreenX===null?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(mO()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:i}=e,{edgeThreshold:r}=this,s=r-e.distance,a=s*s/(r*r)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":i.setScrollLeft(i.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":i.setScrollTop(i.getScrollTop()+a*l);break}}computeBestEdge(e,n){let{edgeThreshold:i}=this,r=null,s=this.scrollCaches||[];for(let a of s){let l=a.clientRect,u=e-l.left,d=l.right-e,h=n-l.top,m=l.bottom-n;u>=0&&d>=0&&h>=0&&m>=0&&(h<=i&&this.everMovedUp&&a.canScrollUp()&&(!r||r.distance>h)&&(r={scrollCache:a,name:"top",distance:h}),m<=i&&this.everMovedDown&&a.canScrollDown()&&(!r||r.distance>m)&&(r={scrollCache:a,name:"bottom",distance:m}),u<=i&&this.everMovedLeft&&a.canScrollLeft()&&(!r||r.distance>u)&&(r={scrollCache:a,name:"left",distance:u}),d<=i&&this.everMovedRight&&a.canScrollRight()&&(!r||r.distance>d)&&(r={scrollCache:a,name:"right",distance:d}))}return r}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new JK(!1):new DI(n,!1))}queryScrollEls(e){let n=[];for(let i of this.scrollQuery)typeof i=="object"?n.push(i):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return n}}class uf extends x9{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,QG(document.body),XG(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let s=this.minDistance,a,{deltaX:l,deltaY:u}=r;a=l*l+u*u,a>=s*s&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,KG(document.body),ZG(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new TI(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),n&&(i.selector=n),this.mirror=new ZK,this.autoScroller=new eX}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class tX{constructor(e){this.el=e,this.origRect=mS(e),this.scrollCaches=zN(e).map(n=>new DI(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let i={left:e,top:n};for(let r of this.scrollCaches)if(!nX(r.getEventTarget())&&!r9(i,r.clientRect))return!1;return!0}}function nX(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class np{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Jm}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},i=n,r=e.subjectEl,s;r instanceof HTMLElement&&(s=mS(r),i=s9(i,s));let a=this.initialHit=this.queryHitForOffset(i.left,i.top);if(a){if(this.useSubjectCenter&&s){let l=FN(s,a.rect);l&&(i=a9(l))}this.coordAdjust=o9(i,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!ip(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Xs(this.droppableStore,e=>(e.component.prepareHits(),new tX(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:i,offsetTrackers:r}=this,s=null;for(let a in i){let l=i[a].component,u=r[a];if(u&&u.isWithinClipping(e,n)){let d=u.computeLeft(),h=u.computeTop(),m=e-d,p=n-h,{origRect:y}=u,b=y.right-y.left,_=y.bottom-y.top;if(m>=0&&m<b&&p>=0&&p<_){let w=l.queryHit(m,p,b,_);w&&Xm(w.dateProfile.activeRange,w.dateSpan.range)&&(this.disablePointCheck||u.el.contains(u.el.getRootNode().elementFromPoint(m+d-window.scrollX,p+h-window.scrollY)))&&(!s||w.layer>s.layer)&&(w.componentId=a,w.context=l.context,w.rect.left+=d,w.rect.right+=d,w.rect.top+=h,w.rect.bottom+=h,s=w)}}}return s}}function ip(t,e){return!t&&!e?!0:!!t!=!!e?!1:GY(t.dateSpan,e.dateSpan)}function kI(t,e){let n={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(n,i(t,e));return Object.assign(n,iX(t,e.dateEnv)),n}function iX(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class rX extends qc{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,s=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:a,finalHit:l}=this.hitDragging;if(a&&l&&ip(a,l)){let{context:u}=r,d=Object.assign(Object.assign({},kI(a.dateSpan,u)),{dayEl:a.dayEl,jsEvent:i.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",d)}}},this.dragging=new uf(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new np(this.dragging,hS(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class sX extends qc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:l,dragging:u}=this,{options:d}=l.context,h=d.selectable&&l.isValidDateDownEl(a.origEvent.target);u.setIgnoreMove(!h),u.delay=a.isTouch?aX(l):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,l)=>{let{context:u}=this.component,d=null,h=!1;if(a){let m=this.hitDragging.initialHit;a.componentId===m.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(m,a)||(d=oX(m,a,u.pluginHooks.dateSelectionTransformers)),(!d||!O9(d,a.dateProfile,u))&&(h=!0,d=null)}d?u.dispatch({type:"SELECT_DATES",selection:d}):l||u.dispatch({type:"UNSELECT_DATES"}),h?Q_():K_(),l||(this.dragSelection=d)},this.handlePointerUp=a=>{this.dragSelection&&(kN(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:i}=n.context,r=this.dragging=new uf(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new np(this.dragging,hS(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function aX(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function oX(t,e,n){let i=t.dateSpan,r=e.dateSpan,s=[i.range.start,i.range.end,r.range.start,r.range.end];s.sort(i8);let a={};for(let l of n){let u=l(t,e);if(u===!1)return null;u&&Object.assign(a,u)}return a.range={start:s[0],end:s[3]},a.allDay=i.allDay,a}class df extends qc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:u,dragging:d}=this,{mirror:h}=d,{options:m}=u.context,p=u.context;this.subjectEl=a.subjectEl;let y=this.subjectSeg=Dc(a.subjectEl),_=(this.eventRange=y.eventRange).instance.instanceId;this.relevantEvents=oS(p.getCurrentData().eventStore,_),d.minDistance=a.isTouch?0:m.eventDragMinDistance,d.delay=a.isTouch&&_!==u.props.eventSelection?cX(u):null,m.fixedMirrorParent?h.parentNode=m.fixedMirrorParent:h.parentNode=oi(l,".fc"),h.revertDuration=m.dragRevertDuration;let w=u.isValidSegDownEl(l)&&!oi(l,".fc-event-resizer");d.setIgnoreMove(!w),this.isDragging=w&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,u=this.eventRange,d=u.instance.instanceId;a.isTouch?d!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new en(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let u=this.relevantEvents,d=this.hitDragging.initialHit,h=this.component.context,m=null,p=null,y=null,b=!1,_={affectedEvents:u,mutatedEvents:Xi(),isEvent:!0};if(a){m=a.context;let w=m.options;h===m||w.editable&&w.droppable?(p=lX(d,a,this.eventRange.instance.range.start,m.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(y=uS(u,m.getCurrentData().eventUiBases,p,m),_.mutatedEvents=y,YN(_,a.dateProfile,m)||(b=!0,p=null,y=null,_.mutatedEvents=Xi()))):m=null}this.displayDrag(m,_),b?Q_():K_(),l||(h===m&&ip(d,a)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=m,this.validMutation=p,this.mutatedRelevantEvents=y)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,u=l.viewApi,{receivingContext:d,validMutation:h}=this,m=this.eventRange.def,p=this.eventRange.instance,y=new en(l,m,p),b=this.relevantEvents,_=this.mutatedRelevantEvents,{finalHit:w}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:y,jsEvent:a.origEvent,view:u}),h){if(d===l){let x=new en(l,_.defs[m.defId],p?_.instances[p.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:_});let E={oldEvent:y,event:x,relatedEvents:Ko(_,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:b})}},C={};for(let D of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(C,D(h,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},E),C),{el:a.subjectEl,delta:h.datesDelta,jsEvent:a.origEvent,view:u})),l.emitter.trigger("eventChange",E)}else if(d){let x={event:y,relatedEvents:Ko(b,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:b})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:a.subjectEl,view:u})),l.dispatch({type:"REMOVE_EVENTS",eventStore:b}),l.emitter.trigger("eventRemove",x);let E=_.defs[m.defId],C=_.instances[p.instanceId],D=new en(d,E,C);d.dispatch({type:"MERGE_EVENTS",eventStore:_});let O={event:D,relatedEvents:Ko(_,d,C),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:_})}};d.emitter.trigger("eventAdd",O),a.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},kI(w.dateSpan,d)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:w.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},O),{draggedEl:a.subjectEl,view:w.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:i}=n.context,r=this.dragging=new uf(e.el);r.pointer.selector=df.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new np(this.dragging,V0);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Xi(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}df.SELECTOR=".fc-event-draggable, .fc-event-resizable";function lX(t,e,n,i){let r=t.dateSpan,s=e.dateSpan,a=r.range.start,l=s.range.start,u={};r.allDay!==s.allDay&&(u.allDay=s.allDay,u.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?a=Ft(n):a=n);let d=yc(a,l,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);d.milliseconds&&(u.allDay=!1);let h={datesDelta:d,standardProps:u};for(let m of i)m(h,t,e);return h}function cX(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class uX extends qc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:a}=this,l=this.querySegEl(s),u=Dc(l),d=this.eventRange=u.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:a}=this.component,l=this.eventRange;this.relevantEvents=oS(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let u=this.querySegEl(s);this.draggingSegEl=u,this.draggingSeg=Dc(u),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:u,event:new en(a,l.def,l.instance),jsEvent:s.origEvent,view:a.viewApi})},this.handleHitUpdate=(s,a,l)=>{let{context:u}=this.component,d=this.relevantEvents,h=this.hitDragging.initialHit,m=this.eventRange.instance,p=null,y=null,b=!1,_={affectedEvents:d,mutatedEvents:Xi(),isEvent:!0};s&&(s.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,s)||(p=dX(h,s,l.subjectEl.classList.contains("fc-event-resizer-start"),m.range))),p&&(y=uS(d,u.getCurrentData().eventUiBases,p,u),_.mutatedEvents=y,YN(_,s.dateProfile,u)||(b=!0,p=null,y=null,_.mutatedEvents=null)),y?u.dispatch({type:"SET_EVENT_RESIZE",state:_}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),b?Q_():K_(),a||(p&&ip(h,s)&&(p=null),this.validMutation=p,this.mutatedRelevantEvents=y)},this.handleDragEnd=s=>{let{context:a}=this.component,l=this.eventRange.def,u=this.eventRange.instance,d=new en(a,l,u),h=this.relevantEvents,m=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:a.viewApi}),this.validMutation){let p=new en(a,m.defs[l.defId],u?m.instances[u.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:m});let y={oldEvent:d,event:p,relatedEvents:Ko(m,a,u),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:h})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},y),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||ut(0),endDelta:this.validMutation.endDelta||ut(0),jsEvent:s.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",y)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,i=this.dragging=new uf(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.context.options.dragScroll;let r=this.hitDragging=new np(this.dragging,hS(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return oi(e.subjectEl,".fc-event")}}function dX(t,e,n,i){let r=t.context.dateEnv,s=t.dateSpan.range.start,a=e.dateSpan.range.start,l=yc(s,a,r,t.largeUnit);if(n){if(r.add(i.start,l)<i.end)return{startDelta:l}}else if(r.add(i.end,l)>i.start)return{endDelta:l};return null}class fX{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,s=cN(i.origEvent);this.matchesCancel=!!oi(s,r),this.matchesEvent=!!oi(s,df.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:s}=this,a=r.getCurrentData();if(!s.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let l=r.options.unselectAuto;l&&(!l||!this.matchesCancel)&&r.calendarApi.unselect(i)}a.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new TI(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const hX={fixedMirrorParent:ee},gX={dateClick:ee,eventDragStart:ee,eventDragStop:ee,eventDrop:ee,eventResizeStart:ee,eventResizeStop:ee,eventResize:ee,drop:ee,eventReceive:ee,eventLeave:ee};vS.dataAttrPrefix="";var mX=ds({name:"@fullcalendar/interaction",componentInteractions:[rX,sX,df,uX],calendarInteractions:[fX],elementDraggingImpl:uf,optionRefiners:hX,listenerRefiners:gX});function pX({machineId:t,refreshTrigger:e}){const[n,i]=A.useState(!1),[r,s]=A.useState({}),a=re.useRef(null),{entities:l}=as(),{entities:u}=li(),{machineAvailability:d,loadMachineAvailabilityForDateRange:h,toggleMachineHourAvailability:m,getTaskOccupiedSegments:p}=af(),{showAlert:y}=vn();us("FullCalendarGrid");const b=l.find(O=>O.id===t),_=A.useCallback(O=>{try{const N=p(O);return N&&N.length>0?N:O.scheduled_start_time&&O.scheduled_end_time?[{start:new Date(O.scheduled_start_time),end:new Date(O.scheduled_end_time),duration:(new Date(O.scheduled_end_time).getTime()-new Date(O.scheduled_start_time).getTime())/(1e3*60*60)}]:[]}catch(N){return console.warn("Failed to get task segments:",N),[]}},[p]),w=A.useMemo(()=>{if(!b)return[];const O=[];return u.filter(N=>N.status==="SCHEDULED"&&N.scheduled_machine_id===b.id&&N.scheduled_start_time&&N.scheduled_end_time).forEach(N=>{const I=_(N);I.forEach((k,j)=>{const H=I.length>1;O.push({id:`${N.id}-segment-${j}`,title:`${N.odp_number} - ${N.article_code}${H?` (${j+1}/${I.length})`:""}`,start:k.start,end:k.end,backgroundColor:H?"#8b5cf6":"#3b82f6",borderColor:H?"#7c3aed":"#2563eb",textColor:"#ffffff",extendedProps:{taskId:N.id,odpNumber:N.odp_number,articleCode:N.article_code,quantity:N.quantity,status:N.status,segmentIndex:j,totalSegments:I.length,isSplitTask:H}})})}),O},[b,u,_]),x=A.useMemo(()=>{if(!d||!b)return[];const O=[];return Object.entries(d).forEach(([N,I])=>{if(Array.isArray(I)){const k=I.find(j=>j.machine_id===t);k&&k.unavailable_hours&&(Array.isArray(k.unavailable_hours)?k.unavailable_hours:[]).forEach(H=>{const $=parseInt(H);if($<6||$>=22)return;const G=new Date(N);G.setUTCHours($,0,0,0);const se=new Date(G);se.setUTCHours($+1,0,0,0),O.push({id:`availability-${N}-${H}`,title:"Unavailable",start:G,end:se,backgroundColor:"#ef4444",borderColor:"#dc2626",textColor:"#ffffff",display:"background",extendedProps:{type:"availability",date:N,hour:parseInt(H)}})})}}),O},[d,t,b]);A.useEffect(()=>{(async()=>{if(t){i(!0);try{const N=new Date,I=new Date(Date.UTC(N.getUTCFullYear(),N.getUTCMonth(),1)),k=new Date(Date.UTC(N.getUTCFullYear(),N.getUTCMonth()+1,0));await h(t,Wn(I,"yyyy-MM-dd"),Wn(k,"yyyy-MM-dd"))}catch(N){console.error("Failed to load machine availability data:",N)}finally{i(!1)}}})()},[t,e]);const E=A.useCallback(async O=>{const N=O.date,I=Wn(N,"yyyy-MM-dd"),k=N.getUTCHours();if(w.some($=>{const G=new Date($.start),se=new Date($.end),pe=new Date(N);return pe>=G&&pe<se})){y("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!b)return;const H=`${I}-${k}`;s($=>({...$,[H]:!0}));try{await m(b.id,I,k)}catch($){console.error("Failed to toggle machine hour availability:",$),y("An unexpected error occurred.","error")}finally{s($=>({...$,[H]:!1}))}},[w,y,b,m]),C=A.useCallback(O=>{const N=O.event,I=N.extendedProps;I.type==="availability"?console.log("Availability event clicked:",I):console.log("Scheduled task clicked:",{odpNumber:I.odpNumber,articleCode:I.articleCode,quantity:I.quantity,start:N.start,end:N.end})},[]),D=A.useMemo(()=>({plugins:[YQ,NK,GK,mX],initialView:"dayGridMonth",initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},height:"auto",locale:"it",timeZone:"UTC",firstDay:Vq.APP.FIRST_DAY_OF_WEEK,slotMinTime:"06:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",slotLabelInterval:"01:00:00",allDaySlot:!1,weekends:!0,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},dayHeaderFormat:{weekday:"short",day:"numeric"},slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},buttonText:{today:"Oggi",month:"Mese",week:"Settimana",day:"Giorno"},eventClick:C,dateClick:E,events:[...w,...x]}),[C,E,w,x]);return b?n?R.jsx("div",{className:"loading",children:"Loading calendar data..."}):R.jsx("div",{className:"fullcalendar-container",children:R.jsx(gI,{ref:a,...D})}):R.jsx("div",{className:"loading",children:"Loading machine data..."})}function yX(){const{machineId:t}=Om(),[e,n]=A.useState(0),{getMachineById:i}=as(),{isLoading:r,isInitialized:s}=vn(),{init:a,cleanup:l}=no(),u=i(t);if(A.useEffect(()=>{if(!s){console.log("Initializing main store...");const h=a(),m=new Promise((p,y)=>setTimeout(()=>y(new Error("Initialization timeout")),1e4));Promise.race([h,m]).catch(p=>{console.error("Initialization failed or timed out:",p)})}return()=>{l()}},[a,s,l]),r)return R.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:R.jsxs("div",{className:"text-center py-1 text-gray-500 text-[10px]",children:["Caricamento calendario macchina... (Loading: ",r.toString(),", Initialized: ",s.toString(),")"]})});if(!u)return R.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:R.jsxs("div",{className:"text-center py-1 text-red-600 text-[10px]",children:["Macchina non trovata (ID: ",t,", Initialized: ",s.toString(),")"]})});const d=()=>{n(h=>h+1)};return R.jsxs("div",{className:"p-1 bg-white rounded shadow-sm border",children:[R.jsx(pG,{title:"Calendario Disponibilit Macchina"}),R.jsx("div",{className:"mb-1",children:R.jsx("h3",{className:"text-[10px] font-semibold text-gray-900",children:u.machine_name})}),!1,R.jsx(yG,{machineId:u.id,currentDate:new Date,onSuccess:d}),R.jsx(pX,{machineId:u.id,refreshTrigger:e})]})}function vX(){const{data:t=[],isLoading:e,error:n}=q_(),i=dG(),{selectedWorkCenter:r,isInitialized:s,showConfirmDialog:a}=vn(),{init:l,cleanup:u}=no(),d=cs(),h=A.useMemo(()=>r?r===yt.BOTH?t:t.filter(b=>b.work_center===r):[],[t,r]);us("PhasesListPage"),A.useEffect(()=>(s||l(),()=>{u()}),[l,s,u]);const m=A.useMemo(()=>[{header:"Nome Fase",accessorKey:"name"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Numero Persone",accessorKey:"numero_persone"},{header:"V Stampa",accessorKey:"v_stampa"},{header:"T Setup Stampa (h)",accessorKey:"t_setup_stampa"},{header:"Costo H Stampa",accessorKey:"costo_h_stampa"},{header:"V Conf",accessorKey:"v_conf"},{header:"T Setup Conf (h)",accessorKey:"t_setup_conf"},{header:"Costo H Conf",accessorKey:"costo_h_conf"},{header:"Contenuto Fase",accessorKey:"contenuto_fase"}],[]),p=b=>{d(`/phases/${b.id}/edit`)},y=async b=>{a("Elimina Fase",`Sei sicuro di voler eliminare "${b.name}"? Questa azione non pu essere annullata.`,async()=>{try{await i.mutateAsync(b.id),ol(`Fase "${b.name}" eliminata con successo`)}catch(_){Fa(_.message||"Errore durante l'eliminazione della fase")}},"danger")};return e?R.jsx("div",{children:"Caricamento dati fasi..."}):n?R.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento delle fasi: ",n.message]}):r?R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Fasi"}),R.jsx(Pn,{to:"/phases/new",className:"inline-flex items-center px-4 py-2 border border-border rounded-md text-sm font-medium text-foreground bg-background hover:bg-muted",children:"Aggiungi Fase"})]}),R.jsx(z_,{columns:m,data:h,onEditRow:p,onDeleteRow:y,enableGlobalSearch:!1})]}):R.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati delle fasi."})}function bX({phaseToEdit:t,onSuccess:e}){const{selectedWorkCenter:n}=vn(),i=cG(),r=uG(),{handleAsync:s}=us("PhasesForm"),a=!!t,l=A.useMemo(()=>{const h={...Xr};return n!==yt.BOTH&&(h.sections[0].fields[3].disabled=!0,h.sections[0].fields[3].defaultValue=n,h.sections[0].fields[3].helpText="Il centro di lavoro  impostato in base alla tua selezione di accesso"),h},[n]),u=A.useMemo(()=>({name:t?.name||"",department:t?.department||Xr.sections[0].fields[1].defaultValue,numero_persone:t?.numero_persone||Xr.sections[0].fields[2].defaultValue,work_center:t?.work_center||(n===yt.BOTH?Xr.sections[0].fields[3].defaultValue:n),v_stampa:t?.v_stampa||Xr.sections[1].fields[0].defaultValue,t_setup_stampa:t?.t_setup_stampa||Xr.sections[1].fields[1].defaultValue,costo_h_stampa:t?.costo_h_stampa||Xr.sections[1].fields[2].defaultValue,v_conf:t?.v_conf||Xr.sections[2].fields[0].defaultValue,t_setup_conf:t?.t_setup_conf||Xr.sections[2].fields[1].defaultValue,costo_h_conf:t?.costo_h_conf||Xr.sections[2].fields[2].defaultValue,contenuto_fase:t?.contenuto_fase||""}),[n,t]),d=async h=>{await s(async()=>{a?await r.mutateAsync({id:t.id,updates:h}):await i.mutateAsync(h),e&&e(),ol(a?"Fase aggiornata con successo":"Fase aggiunta con successo")},{context:a?"Update Phase":"Add Phase",fallbackMessage:a?"Aggiornamento fase fallito":"Aggiunta fase fallita"})};return R.jsx(Fm,{config:l,initialData:u,onSubmit:d,onSuccess:e,isEditMode:a})}function pO(){const{id:t}=Om(),e=cs(),{selectedWorkCenter:n}=vn(),{isLoading:i,isInitialized:r,init:s,cleanup:a}=no(),l=!!t,{data:u,isLoading:d,error:h}=lG(t);return A.useEffect(()=>(r||s(),()=>{a()}),[s,r,a]),A.useEffect(()=>{l&&!i&&!d&&!u&&!h&&e("/phases",{replace:!0})},[l,i,d,u,h,e]),i||l&&d?R.jsx("div",{children:"Caricamento..."}):l&&h?R.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento della fase: ",h.message]}):l&&!u?R.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Fase non trovata."}):n?R.jsxs("div",{className:"space-y-6",children:[R.jsx("div",{className:"flex items-center justify-between",children:R.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:l?`Modifica Fase: ${u?.name}`:"Aggiungi Nuova Fase"})}),R.jsx(bX,{phaseToEdit:u})]}):R.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire le fasi."})}function _X(){const{selectedWorkCenter:t,showConfirmDialog:e}=vn(),n=cs(),{data:i=[],isLoading:r,error:s}=Gm(),{data:a=[],isLoading:l}=Wm(),{data:u=[],isLoading:d}=q_(),h=oG(),{handleAsync:m}=us("BacklogListPage");if(s)return R.jsxs("div",{className:"text-center py-2 text-red-600 text-[10px]",children:["Errore nel caricamento degli ordini: ",s.message]});const p=A.useMemo(()=>{if(!t)return[];let x=i;return t!==yt.BOTH&&(x=i.filter(E=>E.work_center===t)),x.map(E=>({...E,machine_name:E.scheduled_machine_id?a.find(C=>C.id===E.scheduled_machine_id)?.machine_name||"Macchina non trovata":"Non programmato",phase_name:E.fase?u.find(C=>C.id===E.fase)?.name||"Fase non trovata":"Fase non assegnata",progress:E.progress||0,time_remaining:E.time_remaining||E.duration||0}))},[i,t,a,u]),y=r||l||d,b=A.useMemo(()=>[{header:"Numero ODP",accessorKey:"odp_number",cell:x=>{const E=x.row.original.status,C=x.getValue(),D=E==="SCHEDULED";return R.jsx("span",{className:D?"text-green-600 font-medium":"",children:C})}},{header:"Codice Articolo",accessorKey:"article_code"},{header:"Note ASD",accessorKey:"asd_notes",cell:x=>{const E=x.getValue();return E?R.jsx("div",{className:"max-w-[200px] truncate text-[10px]",title:E,children:E}):"N/A"}},{header:"Nome Cliente",accessorKey:"nome_cliente"},{header:"Quantit",accessorKey:"quantity"},{header:"Quantit Completata",accessorKey:"quantity_completed"},{header:"Altezza Busta (mm)",accessorKey:"bag_height"},{header:"Larghezza Busta (mm)",accessorKey:"bag_width"},{header:"Passo Busta (mm)",accessorKey:"bag_step"},{header:"Lotto Produzione",accessorKey:"production_lot"},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Lati Sigillati",accessorKey:"seal_sides"},{header:"Tipo Prodotto",accessorKey:"product_type"},{header:"Data Consegna",accessorKey:"delivery_date",cell:x=>x.getValue()?Wn(new Date(x.getValue()),"yyyy-MM-dd"):"Non impostata"},{header:"Inizio Programmato",accessorKey:"scheduled_start_time",cell:x=>x.getValue()?new Date(x.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Fine Programmata",accessorKey:"scheduled_end_time",cell:x=>x.getValue()?new Date(x.getValue()).toISOString().replace("T"," ").replace(".000Z",""):"Non programmato"},{header:"Codice Cliente Interno",accessorKey:"internal_customer_code"},{header:"Codice Cliente Esterno",accessorKey:"external_customer_code"},{header:"Riferimento Ordine Cliente",accessorKey:"customer_order_ref"},{header:"Note Libere",accessorKey:"user_notes"},{header:"Nome Fase",accessorKey:"phase_name"},{header:"Durata (ore)",accessorKey:"duration",cell:x=>{const E=x.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Costo ()",accessorKey:"cost",cell:x=>{const E=x.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Stato",accessorKey:"status"},{header:"Nome Macchina",accessorKey:"machine_name"},{header:"Progresso (%)",accessorKey:"progress",cell:x=>{const E=x.getValue();return typeof E=="number"?`${E}%`:E}},{header:"Tempo Rimanente (ore)",accessorKey:"time_remaining",cell:x=>{const E=x.getValue();return typeof E=="number"?E.toFixed(1):E}},{header:"Material ISP (%)",accessorKey:"material_availability_isp",cell:x=>{const E=x.getValue();if(typeof E!="number")return E||"N/A";const C=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return R.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${C} text-black text-[10px] font-medium`,children:E})}},{header:"Material Lotti (%)",accessorKey:"material_availability_lotti",cell:x=>{const E=x.getValue();if(typeof E!="number")return E||"N/A";const C=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return R.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${C} text-black text-[10px] font-medium`,children:E})}},{header:"Material Global (%)",accessorKey:"material_availability_global",cell:x=>{const E=x.getValue();if(typeof E!="number")return E||"N/A";const C=E<=39?"bg-gray-300":E<=69?"bg-yellow-400":"bg-green-400";return R.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full ${C} text-black text-[10px] font-medium`,children:E})}}],[]);A.useMemo(()=>b.map(x=>x.accessorKey),[b]);const _=x=>{n(`/backlog/${x.id}/edit`)},w=async x=>{e("Elimina Ordine",`Sei sicuro di voler eliminare "${x.odp_number}"? Questa azione non pu essere annullata.`,async()=>{await m(async()=>{await h.mutateAsync(x.id)},{context:"Delete Order",fallbackMessage:"Eliminazione ordine fallita"})},"danger")};return y?R.jsx("div",{children:"Caricamento dati backlog..."}):t?R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Lista Ordini"}),R.jsx(Jt,{asChild:!0,variant:"outline",children:R.jsx(Pn,{to:"/backlog/new",children:"Aggiungi Ordine"})})]}),R.jsx(z_,{columns:b,data:p,onEditRow:_,onDeleteRow:w,stickyColumns:["odp_number","article_code"],enableGlobalSearch:!1,enableFiltering:!1})]}):R.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati del backlog."})}const SX=({onSuccess:t,orderToEdit:e})=>{const{selectedWorkCenter:n,showConflictDialog:i}=vn(),{scheduleTaskFromSlot:r,unscheduleTask:s}=af(),{calculateProductionMetrics:a,validatePhaseParameters:l,autoDetermineWorkCenter:u,autoDetermineDepartment:d}=RM(),{handleAsync:h}=us("BacklogForm"),{validateOrder:m}=KW(),p=sG(),y=aG(),b=ji(),[_,w]=A.useState(null),x=!!e,E=A.useMemo(()=>{const we={...gG};if(n!==yt.BOTH){const Ue=we.sections[0].fields.find(ot=>ot.name==="work_center");Ue&&(Ue.disabled=!0,Ue.defaultValue=n,Ue.helpText="Centro di lavoro pre-impostato.")}return we},[n]),C=A.useMemo(()=>({odp_number:e?.odp_number||"",article_code:e?.article_code||"",work_center:e?.work_center||(n===yt.BOTH?"":n),nome_cliente:e?.nome_cliente||"",delivery_date:e?.delivery_date?new Date(e.delivery_date).toISOString().slice(0,16):"",quantity:e?.quantity||"",customer_order_ref:e?.customer_order_ref||"",department:e?.department||"",quantity_completed:e?.quantity_completed||Yt.ORDER.QUANTITY_COMPLETED,production_lot:e?.production_lot||null,bag_height:e?.bag_height||null,bag_width:e?.bag_width||null,bag_step:e?.bag_step||null,seal_sides:e?.seal_sides||null,product_type:e?.product_type||null,internal_customer_code:e?.internal_customer_code||null,external_customer_code:e?.external_customer_code||null,user_notes:e?.user_notes||null,asd_notes:e?.asd_notes||null,material_availability_global:e?.material_availability_global||null,fase:e?.fase||null}),[n,e]),[D,O]=A.useState(C.department),[N,I]=A.useState(C.work_center),[k,j]=A.useState(C.quantity),[H,$]=A.useState(C.bag_step),{phaseSearch:G,setPhaseSearch:se,isDropdownVisible:pe,setIsDropdownVisible:ve,selectedPhase:B,setSelectedPhase:X,filteredPhases:me,editablePhaseParams:ae,setEditablePhaseParams:be,handlePhaseParamChange:L,handlePhaseSelect:J,handleBlur:ne}=XW(D,N,x?e?.fase:null),ie=A.useCallback(()=>{se(""),X(null),be({}),w(null)},[se,X,be]),he=A.useCallback((we,Ue)=>{if(we){const ot=d(we);Ue("department",ot),n===yt.BOTH&&Ue("work_center",u(we)),Ue("fase",""),se(""),X(null),be({}),w(null)}},[d,u,n,se,X,be]),ge=async we=>{const Ue=m(we);if(!Ue.isValid){const Je=Object.entries(Ue.errors).map(([P,q])=>`${{odp_number:"Numero ODP",article_code:"Codice Articolo",work_center:"Centro di Lavoro",nome_cliente:"Nome Cliente",quantity:"Quantit",delivery_date:"Data di Consegna",customer_order_ref:"Riferimento Ordine Cliente",department:"Reparto",bag_height:"Altezza Busta",bag_width:"Larghezza Busta",bag_step:"Passo Busta",seal_sides:"Lati Sigillatura",product_type:"Tipo Prodotto",internal_customer_code:"Codice Cliente Interno",external_customer_code:"Codice Cliente Esterno"}[P]||P}: ${q}`);$5(Je);return}const ot=we.fase,Pt=B?.department===sn.PRINTING;if(ot&&(!Pt||we.bag_step)&&(!_?.totals||typeof _.totals.duration!="number"||typeof _.totals.cost!="number")){rd("Calcola le metriche di produzione valide prima di procedere.");return}await h(async()=>{const{phase_search:Je,...P}=we,q={...P,fase:P.fase===""?null:P.fase,scheduled_machine_id:P.scheduled_machine_id===""?null:P.scheduled_machine_id,production_lot:P.production_lot===""?null:P.production_lot,internal_customer_code:P.internal_customer_code===""?null:P.internal_customer_code,external_customer_code:P.external_customer_code===""?null:P.external_customer_code,user_notes:P.user_notes===""?null:P.user_notes,asd_notes:P.asd_notes===""?null:P.asd_notes,material_availability_global:P.material_availability_global===""?null:P.material_availability_global,bag_height:P.bag_height===""?null:P.bag_height,bag_width:P.bag_width===""?null:P.bag_width,bag_step:P.bag_step===""?null:P.bag_step,seal_sides:P.seal_sides===""?null:P.seal_sides,product_type:P.product_type===""?null:P.product_type};let U;if(x){const Q=_?.totals?.duration||e.duration,ce=e.quantity_completed/e.quantity||0,oe=Q*(1-ce);if(e.scheduled_machine_id&&e.scheduled_start_time){console.log(" EDIT FLOW: Starting rescheduling for task",e.id),console.log(" EDIT FLOW: Original duration:",e.duration,"New duration:",Q);const fe=e.duration,Ee=Q-fe;if(Math.abs(Ee)<.01){console.log(" SCENARIO X: Duration unchanged, skipping rescheduling");const ye={...q,duration:Q,cost:_?.totals?.cost||null};U=await y.mutateAsync({id:e.id,updates:ye})}else if(Ee>0){console.log(" SCENARIO Y: Duration increased, using standard rescheduling");const ye=new Date(e.scheduled_start_time),Fe=ye.getUTCHours(),et=ye.getUTCMinutes(),Be=new Date(Date.UTC(ye.getUTCFullYear(),ye.getUTCMonth(),ye.getUTCDate()));console.log(" EDIT FLOW: Start date:",ye.toISOString()),console.log(" EDIT FLOW: Hour:",Fe,"Minute:",et),console.log(" EDIT FLOW: Current date:",Be.toISOString());const qe={duration:Q};console.log(" EDIT FLOW: Updating task with new duration:",qe),await y.mutateAsync({id:e.id,updates:qe}),await new Promise(ft=>setTimeout(ft,100));const{getOrderById:_n}=li.getState(),Et=_n(e.id);console.log(" EDIT FLOW: Task duration after update:",Et?.duration),console.log(" EDIT FLOW: Unscheduling task first"),await s(e.id,b),await new Promise(ft=>setTimeout(ft,100));const ze={id:e.scheduled_machine_id};console.log(" EDIT FLOW: Calling scheduleTaskFromSlot with:",{taskId:e.id,machine:ze,currentDate:Be.toISOString(),hour:Fe,minute:et,timeRemaining:oe});const rt=await r(e.id,ze,Be,Fe,et,oe,b);if(console.log(" EDIT FLOW: scheduleTaskFromSlot result:",rt),rt?.conflict){console.log(" EDIT FLOW: Conflict detected, showing dialog");const ft={...rt,schedulingParams:{taskId:e.id,machine:ze,currentDate:Be,hour:Fe,minute:et,newDuration:oe,originalConflict:rt}};i(ft);return}else if(rt?.error){console.log(" EDIT FLOW: Error:",rt.error),Fa(rt.error);return}else console.log(" EDIT FLOW: Scheduling successful");const gn=rt?.updatedTask;console.log(" EDIT FLOW: Updated task from scheduling result:",gn);const Ze={...q,duration:Q,cost:_?.totals?.cost||null,scheduled_start_time:gn?.scheduled_start_time||ye.toISOString(),scheduled_end_time:gn?.scheduled_end_time||new Date(ye.getTime()+Q*36e5).toISOString(),description:gn?.description||e.description};console.log(" EDIT FLOW: Final order data to save:",Ze),U=await y.mutateAsync({id:e.id,updates:Ze}),console.log(" EDIT FLOW: Final update completed:",U)}else{console.log(" SCENARIO Z: Duration decreased, using adjacent task rescheduling");const ye=await ke(e.id,Q,oe,q,_?.totals?.cost||null,b,y,r,s,i);if(ye?.error){console.log(" SCENARIO Z: Error:",ye.error),Fa(ye.error);return}U=ye.updatedOrder,console.log(" SCENARIO Z: Duration decrease rescheduling completed:",U)}}else{const fe={...q,duration:Q,cost:_?.totals?.cost||null};U=await y.mutateAsync({id:e.id,updates:fe})}}else{const Q={...q,duration:_?.totals?.duration||null,cost:_?.totals?.cost||null,status:"NOT SCHEDULED"};U=await p.mutateAsync(Q)}t&&t(),ie(),ol(x?"Ordine aggiornato con successo":"Ordine aggiunto con successo")},{context:x?"Aggiorna Ordine":"Aggiungi Ordine",fallbackMessage:x?"Aggiornamento ordine fallito":"Aggiunta ordine fallita"})},Re=()=>{if(!B){rd("Seleziona una fase prima di calcolare.");return}if(!k){rd("Inserisci la quantit per calcolare.");return}if(B.department===sn.PRINTING&&!H){rd("Inserisci il passo busta per calcolare la stampa.");return}const we={...B,...ae},Ue=l(we);if(!Ue.isValid){Fa(Ue.error),w(null);return}const ot=B.department===sn.PRINTING?H:null,Pt=a(we,k,ot);if(!Pt||typeof Pt.totals?.duration!="number"||typeof Pt.totals?.cost!="number"){Fa("Errore nel calcolo. Verifica i parametri della fase."),w(null);return}w(Pt)},Se=we=>ae[we]??B[we]??"",ke=async(we,Ue,ot,Pt,hn,Je,P,q,U,Q,ce)=>{try{console.log(" SCENARIO Z: Starting duration decrease rescheduling for task",we);const{getOrderById:oe,getOdpOrders:fe}=li.getState(),Ee=oe(we);if(!Ee)return{error:"Task not found"};const ye=new Date(Ee.scheduled_start_time),Fe=ye.getUTCHours(),et=ye.getUTCMinutes(),Be=new Date(Date.UTC(ye.getUTCFullYear(),ye.getUTCMonth(),ye.getUTCDate())),qe={id:Ee.scheduled_machine_id};console.log(" SCENARIO Z: Current task start:",ye.toISOString()),console.log(" SCENARIO Z: New time remaining:",ot);const _n=new Date(Ee.scheduled_end_time);console.log(" SCENARIO Z: Current end time for task A (from DB):",_n.toISOString());const Et=fe(),ze=[];let rt=_n;for(console.log(" SCENARIO Z: Starting to find chain of adjacent tasks...");;){const gn=Et.find(Ze=>{if(Ze.id===we||!Ze.scheduled_machine_id||!Ze.scheduled_start_time||Ze.status!=="SCHEDULED"||Ze.scheduled_machine_id!==Ee.scheduled_machine_id||ze.some(hi=>hi.id===Ze.id))return!1;const ft=new Date(Ze.scheduled_start_time),fi=Math.abs(ft.getTime()-rt.getTime())/(1e3*60);return console.log(" SCENARIO Z: Checking task",Ze.odp_number,"start:",ft.toISOString(),"diff:",fi,"minutes","against end time:",rt.toISOString()),fi<=120});if(gn)console.log(" SCENARIO Z: Found adjacent task in chain:",gn.odp_number),ze.push(gn),rt=new Date(gn.scheduled_end_time),console.log(" SCENARIO Z: Next task end time for chain:",rt.toISOString()),console.log(" SCENARIO Z: Continuing to search for more adjacent tasks...");else{console.log(" SCENARIO Z: No more adjacent tasks found, stopping chain search");break}}if(ze.length>0){console.log(" SCENARIO Z: Found chain of",ze.length,"adjacent tasks:",ze.map(xe=>xe.odp_number)),console.log(" SCENARIO Z: Step 2 - Rescheduling task A");const gn={duration:Ue};await P.mutateAsync({id:we,updates:gn}),await new Promise(xe=>setTimeout(xe,100)),await U(we,Je),await new Promise(xe=>setTimeout(xe,100));const Ze=await q(we,qe,Be,Fe,et,ot,Je);if(Ze?.conflict){console.log(" SCENARIO Z: Conflict detected for task A, showing dialog");const xe={...Ze,schedulingParams:{taskId:we,machine:qe,currentDate:Be,hour:Fe,minute:et,newDuration:ot,originalConflict:Ze}};return Q(xe),{error:"Conflict detected for task A"}}else if(Ze?.error)return console.log(" SCENARIO Z: Error rescheduling task A:",Ze.error),{error:Ze.error};console.log(" SCENARIO Z: Task A rescheduled successfully"),console.log(" SCENARIO Z: Step 3 - Rescheduling chain of",ze.length,"tasks");let ft=new Date(Ze.schedulingResult.endTime);const fi=[];for(let xe=0;xe<ze.length;xe++){const He=ze[xe];console.log(` SCENARIO Z: Rescheduling chain task ${xe+1}/${ze.length}:`,He.odp_number);const lt=ft.getUTCHours(),ht=ft.getUTCMinutes(),cn=new Date(Date.UTC(ft.getUTCFullYear(),ft.getUTCMonth(),ft.getUTCDate()));console.log(" SCENARIO Z: Chain task new start time:",ft.toISOString()),console.log(" SCENARIO Z: Chain task new hour:",lt,"minute:",ht);const gt=He.time_remaining||He.duration||1;console.log(" SCENARIO Z: Chain task time remaining:",gt),await U(He.id,Je),await new Promise(Sn=>setTimeout(Sn,100));const Ge=await q(He.id,qe,cn,lt,ht,gt,Je);if(Ge?.conflict){console.log(" SCENARIO Z: Conflict detected for chain task",He.odp_number,", showing dialog");const Sn={...Ge,schedulingParams:{taskId:He.id,machine:qe,currentDate:cn,hour:lt,minute:ht,newDuration:gt,originalConflict:Ge}};return Q(Sn),{error:`Conflict detected for chain task ${He.odp_number}`}}else if(Ge?.error)return console.log(" SCENARIO Z: Error rescheduling chain task",He.odp_number,":",Ge.error),{error:`Error rescheduling chain task ${He.odp_number}: ${Ge.error}`};console.log(" SCENARIO Z: Chain task",He.odp_number,"rescheduled successfully"),fi.push(Ge),ft=new Date(Ge.schedulingResult.endTime),console.log(" SCENARIO Z: Updated end time for next chain task:",ft.toISOString())}console.log(" SCENARIO Z: All",ze.length,"chain tasks rescheduled successfully");const hi=Ze?.updatedTask,vt={...Pt,duration:Ue,cost:hn,scheduled_start_time:hi?.scheduled_start_time||ye.toISOString(),scheduled_end_time:hi?.scheduled_end_time||new Date(ye.getTime()+Ue*36e5).toISOString(),description:hi?.description||Ee.description},zt=await P.mutateAsync({id:we,updates:vt});return console.log(" SCENARIO Z: Task A and",ze.length,"chain tasks rescheduled successfully"),{updatedOrder:zt}}else{console.log(" SCENARIO Z: No adjacent task found, using standard rescheduling");const gn={duration:Ue};await P.mutateAsync({id:we,updates:gn}),await new Promise(vt=>setTimeout(vt,100)),await U(we,Je),await new Promise(vt=>setTimeout(vt,100));const Ze=await q(we,qe,Be,Fe,et,ot,Je);if(Ze?.conflict){console.log(" SCENARIO Z: Conflict detected, showing dialog");const vt={...Ze,schedulingParams:{taskId:we,machine:qe,currentDate:Be,hour:Fe,minute:et,newDuration:ot,originalConflict:Ze}};return Q(vt),{error:"Conflict detected"}}else if(Ze?.error)return console.log(" SCENARIO Z: Error:",Ze.error),{error:Ze.error};const ft=Ze?.updatedTask,fi={...Pt,duration:Ue,cost:hn,scheduled_start_time:ft?.scheduled_start_time||ye.toISOString(),scheduled_end_time:ft?.scheduled_end_time||new Date(ye.getTime()+Ue*36e5).toISOString(),description:ft?.description||Ee.description};return{updatedOrder:await P.mutateAsync({id:we,updates:fi})}}}catch(oe){return console.error(" SCENARIO Z: Error in handleDurationDecreaseRescheduling:",oe),{error:oe.message||"Error during duration decrease rescheduling"}}},Xe=()=>B?B.department===sn.PRINTING?[{name:"v_stampa",label:"Velocit Stampa:",unit:"mt/h"},{name:"t_setup_stampa",label:"Setup Stampa:",unit:"h"},{name:"costo_h_stampa",label:"Costo Stampa:",unit:"/h"}]:[{name:"v_conf",label:"Velocit Confezionamento:",unit:"pz/h"},{name:"t_setup_conf",label:"Setup Confezionamento:",unit:"h"},{name:"costo_h_conf",label:"Costo Confezionamento:",unit:"/h"}]:[],nn=A.useMemo(()=>({article_code:(we,{watch:Ue,setValue:ot,getValues:Pt,register:hn})=>R.jsx(Vn,{type:"text",...hn(we.name,{...we.validation,onChange:Je=>{we.validation?.onChange&&we.validation.onChange(Je),he(Je.target.value,ot)}}),placeholder:we.placeholder,disabled:we.disabled,className:we.className}),phase_search:(we,{watch:Ue,setValue:ot,getValues:Pt,register:hn})=>{const Je=Ue("department"),P=Ue("work_center"),q=Ue("quantity"),U=Ue("bag_step");return A.useEffect(()=>{Je!==D&&O(Je),P!==N&&I(P),q!==k&&j(q),U!==H&&$(U)},[Je,P,q,U,D,N,k,H]),R.jsxs("div",{className:"relative",children:[R.jsx(Vn,{type:"text",value:G,onChange:Q=>se(Q.target.value),onFocus:()=>ve(!0),onBlur:ne,placeholder:"Cerca fase di produzione..."}),R.jsx("input",{type:"hidden",...hn("fase")}),pe&&me.length>0&&R.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:me.map(Q=>R.jsxs("div",{className:"px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onMouseDown:()=>{J(Q,ot,()=>{}),w(null)},children:[R.jsx("div",{className:"text-[10px] font-medium",children:Q.name}),R.jsx("div",{className:"text-[10px] text-gray-600",children:Q.contenuto_fase})]},Q.id))})]})},phase_parameters:()=>B?R.jsxs("div",{className:"space-y-2",children:[R.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Parametri Fase Selezionata"}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:Xe().map(we=>R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{htmlFor:we.name,children:we.label}),R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx(Vn,{type:"number",id:we.name,value:Se(we.name),onChange:Ue=>L(we.name,Ue.target.value)}),R.jsx("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:we.unit})]})]},we.name))})]}):null,calculation_results:()=>_?.totals?R.jsxs("div",{className:"space-y-2",children:[R.jsx("h3",{className:"text-[10px] font-semibold text-gray-900 border-b pb-2",children:"Risultati Calcolo Produzione"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{children:"Durata Totale (ore):"}),R.jsx("div",{className:"text-[10px] font-semibold text-navy-800",children:_.totals.duration.toFixed(2)})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{children:"Costo Totale ():"}),R.jsx("div",{className:"text-[10px] font-semibold text-green-600",children:_.totals.cost.toFixed(2)})]})]})]}):null}),[G,se,pe,ve,me,ne,J,B,Se,L,Xe,_,he]),Ut=A.useMemo(()=>R.jsx("div",{className:"flex justify-end space-x-4 pt-6",children:R.jsx(Jt,{type:"button",variant:"outline",onClick:Re,disabled:!B,children:"Calcola"})}),[B,Re]),Li=p.isPending||y.isPending;return R.jsx(Fm,{config:E,initialData:C,onSubmit:ge,onSuccess:t,isEditMode:x,isLoading:Li,customActions:Ut,customFieldRenderers:nn})};function yO(){const{id:t}=Om(),e=cs(),{data:n,isLoading:i,error:r}=rG(t),{selectedWorkCenter:s}=vn(),{isLoading:a,isInitialized:l,init:u,cleanup:d}=no(),h=!!t;return A.useEffect(()=>(l||u(),()=>{d()}),[u,l,d]),A.useEffect(()=>{h&&!i&&!n&&r&&e("/backlog",{replace:!0})},[h,i,n,e,r]),i?R.jsx("div",{children:"Caricamento..."}):h&&!n?R.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Ordine non trovato."}):s?R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:h?`Modifica Ordine: ${n?.odp_number}`:"Aggiungi Nuovo Ordine"}),h&&R.jsx(Jt,{variant:"outline",onClick:()=>e("/scheduler"),children:" Torna al Programmatore"})]}),R.jsx(SX,{onSuccess:h?()=>e("/scheduler"):void 0,orderToEdit:n})]}):R.jsx("div",{className:"text-center py-2 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per gestire gli ordini del backlog."})}const rp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function CS(t){return"nodeType"in t}function bi(t){var e,n;return t?Wc(t)?t:CS(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function TS(t){const{Document:e}=bi(t);return t instanceof e}function ff(t){return Wc(t)?!1:t instanceof bi(t).HTMLElement}function MI(t){return t instanceof bi(t).SVGElement}function Gc(t){return t?Wc(t)?t.document:CS(t)?TS(t)?t:ff(t)||MI(t)?t.ownerDocument:document:document:document}const Zs=rp?A.useLayoutEffect:A.useEffect;function sp(t){const e=A.useRef(t);return Zs(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}function wX(){const t=A.useRef(null),e=A.useCallback((i,r)=>{t.current=setInterval(i,r)},[]),n=A.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Hd(t,e){e===void 0&&(e=[t]);const n=A.useRef(t);return Zs(()=>{n.current!==t&&(n.current=t)},e),n}function hf(t,e){const n=A.useRef();return A.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function mm(t){const e=sp(t),n=A.useRef(null),i=A.useCallback(r=>{r!==n.current&&e?.(r,n.current),n.current=r},[]);return[n,i]}function pm(t){const e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}let Mb={};function ap(t,e){return A.useMemo(()=>{if(e)return e;const n=Mb[t]==null?0:Mb[t]+1;return Mb[t]=n,t+"-"+n},[t,e])}function NI(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce((s,a)=>{const l=Object.entries(a);for(const[u,d]of l){const h=s[u];h!=null&&(s[u]=h+t*d)}return s},{...e})}}const Rc=NI(1),ym=NI(-1);function xX(t){return"clientX"in t&&"clientY"in t}function AS(t){if(!t)return!1;const{KeyboardEvent:e}=bi(t.target);return e&&t instanceof e}function EX(t){if(!t)return!1;const{TouchEvent:e}=bi(t.target);return e&&t instanceof e}function vm(t){if(EX(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return xX(t)?{x:t.clientX,y:t.clientY}:null}const Bd=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Bd.Translate.toString(t),Bd.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),vO="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function RX(t){return t.matches(vO)?t:t.querySelector(vO)}const CX={display:"none"};function TX(t){let{id:e,value:n}=t;return re.createElement("div",{id:e,style:CX},n)}function AX(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return re.createElement("div",{id:e,style:r,role:"status","aria-live":i,"aria-atomic":!0},n)}function OX(){const[t,e]=A.useState("");return{announce:A.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const II=A.createContext(null);function DX(t){const e=A.useContext(II);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function kX(){const[t]=A.useState(()=>new Set),e=A.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[A.useCallback(i=>{let{type:r,event:s}=i;t.forEach(a=>{var l;return(l=a[r])==null?void 0:l.call(a,s)})},[t]),e]}const MX={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},NX={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function IX(t){let{announcements:e=NX,container:n,hiddenTextDescribedById:i,screenReaderInstructions:r=MX}=t;const{announce:s,announcement:a}=OX(),l=ap("DndLiveRegion"),[u,d]=A.useState(!1);if(A.useEffect(()=>{d(!0)},[]),DX(A.useMemo(()=>({onDragStart(m){let{active:p}=m;s(e.onDragStart({active:p}))},onDragMove(m){let{active:p,over:y}=m;e.onDragMove&&s(e.onDragMove({active:p,over:y}))},onDragOver(m){let{active:p,over:y}=m;s(e.onDragOver({active:p,over:y}))},onDragEnd(m){let{active:p,over:y}=m;s(e.onDragEnd({active:p,over:y}))},onDragCancel(m){let{active:p,over:y}=m;s(e.onDragCancel({active:p,over:y}))}}),[s,e])),!u)return null;const h=re.createElement(re.Fragment,null,re.createElement(TX,{id:i,value:r.draggable}),re.createElement(AX,{id:l,announcement:a}));return n?zs.createPortal(h,n):h}var jn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(jn||(jn={}));function bm(){}function bO(t,e){return A.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function PX(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const $r=Object.freeze({x:0,y:0});function jX(t,e){const n=vm(t);if(!n)return"0 0";const i={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function LX(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function FX(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function UX(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=r-i,l=s-n;if(i<r&&n<s){const u=e.width*e.height,d=t.width*t.height,h=a*l,m=h/(u+d-h);return Number(m.toFixed(4))}return 0}const zX=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const r=[];for(const s of i){const{id:a}=s,l=n.get(a);if(l){const u=UX(l,e);u>0&&r.push({id:a,data:{droppableContainer:s,value:u}})}}return r.sort(LX)};function HX(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function PI(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:$r}function BX(t){return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return r.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const $X=BX(1);function jI(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function VX(t,e,n){const i=jI(e);if(!i)return t;const{scaleX:r,scaleY:s,x:a,y:l}=i,u=t.left-a-(1-r)*parseFloat(n),d=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=r?t.width/r:t.width,m=s?t.height/s:t.height;return{width:h,height:m,top:d,right:u+h,bottom:d+m,left:u}}const qX={ignoreTransform:!1};function gf(t,e){e===void 0&&(e=qX);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:h}=bi(t).getComputedStyle(t);d&&(n=VX(n,d,h))}const{top:i,left:r,width:s,height:a,bottom:l,right:u}=n;return{top:i,left:r,width:s,height:a,bottom:l,right:u}}function _O(t){return gf(t,{ignoreTransform:!0})}function WX(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function GX(t,e){return e===void 0&&(e=bi(t).getComputedStyle(t)),e.position==="fixed"}function YX(t,e){e===void 0&&(e=bi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const s=e[r];return typeof s=="string"?n.test(s):!1})}function OS(t,e){const n=[];function i(r){if(e!=null&&n.length>=e||!r)return n;if(TS(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!ff(r)||MI(r)||n.includes(r))return n;const s=bi(t).getComputedStyle(r);return r!==t&&YX(r,s)&&n.push(r),GX(r,s)?n:i(r.parentNode)}return t?i(t):n}function LI(t){const[e]=OS(t,1);return e??null}function Nb(t){return!rp||!t?null:Wc(t)?t:CS(t)?TS(t)||t===Gc(t).scrollingElement?window:ff(t)?t:null:null}function FI(t){return Wc(t)?t.scrollX:t.scrollLeft}function UI(t){return Wc(t)?t.scrollY:t.scrollTop}function X0(t){return{x:FI(t),y:UI(t)}}var $n;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})($n||($n={}));function zI(t){return!rp||!t?!1:t===document.scrollingElement}function HI(t){const e={x:0,y:0},n=zI(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},r=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=i.y,l=t.scrollLeft>=i.x;return{isTop:r,isLeft:s,isBottom:a,isRight:l,maxScroll:i,minScroll:e}}const QX={x:.2,y:.2};function KX(t,e,n,i,r){let{top:s,left:a,right:l,bottom:u}=n;i===void 0&&(i=10),r===void 0&&(r=QX);const{isTop:d,isBottom:h,isLeft:m,isRight:p}=HI(t),y={x:0,y:0},b={x:0,y:0},_={height:e.height*r.y,width:e.width*r.x};return!d&&s<=e.top+_.height?(y.y=$n.Backward,b.y=i*Math.abs((e.top+_.height-s)/_.height)):!h&&u>=e.bottom-_.height&&(y.y=$n.Forward,b.y=i*Math.abs((e.bottom-_.height-u)/_.height)),!p&&l>=e.right-_.width?(y.x=$n.Forward,b.x=i*Math.abs((e.right-_.width-l)/_.width)):!m&&a<=e.left+_.width&&(y.x=$n.Backward,b.x=i*Math.abs((e.left+_.width-a)/_.width)),{direction:y,speed:b}}function XX(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:i,bottom:r}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:r,width:t.clientWidth,height:t.clientHeight}}function BI(t){return t.reduce((e,n)=>Rc(e,X0(n)),$r)}function ZX(t){return t.reduce((e,n)=>e+FI(n),0)}function JX(t){return t.reduce((e,n)=>e+UI(n),0)}function $I(t,e){if(e===void 0&&(e=gf),!t)return;const{top:n,left:i,bottom:r,right:s}=e(t);LI(t)&&(r<=0||s<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const eZ=[["x",["left","right"],ZX],["y",["top","bottom"],JX]];class DS{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=OS(n),r=BI(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of eZ)for(const u of a)Object.defineProperty(this,u,{get:()=>{const d=l(i),h=r[s]-d;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _d{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var r;(r=this.target)==null||r.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function tZ(t){const{EventTarget:e}=bi(t);return t instanceof e?t:Gc(t)}function Ib(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var wr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(wr||(wr={}));function SO(t){t.preventDefault()}function nZ(t){t.stopPropagation()}var Lt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Lt||(Lt={}));const VI={start:[Lt.Space,Lt.Enter],cancel:[Lt.Esc],end:[Lt.Space,Lt.Enter,Lt.Tab]},iZ=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Lt.Right:return{...n,x:n.x+25};case Lt.Left:return{...n,x:n.x-25};case Lt.Down:return{...n,y:n.y+25};case Lt.Up:return{...n,y:n.y-25}}};class qI{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new _d(Gc(n)),this.windowListeners=new _d(bi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wr.Resize,this.handleCancel),this.windowListeners.add(wr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&$I(i),n($r)}handleKeyDown(e){if(AS(e)){const{active:n,context:i,options:r}=this.props,{keyboardCodes:s=VI,coordinateGetter:a=iZ,scrollBehavior:l="smooth"}=r,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=i.current,h=d?{x:d.left,y:d.top}:$r;this.referenceCoordinates||(this.referenceCoordinates=h);const m=a(e,{active:n,context:i.current,currentCoordinates:h});if(m){const p=ym(m,h),y={x:0,y:0},{scrollableAncestors:b}=i.current;for(const _ of b){const w=e.code,{isTop:x,isRight:E,isLeft:C,isBottom:D,maxScroll:O,minScroll:N}=HI(_),I=XX(_),k={x:Math.min(w===Lt.Right?I.right-I.width/2:I.right,Math.max(w===Lt.Right?I.left:I.left+I.width/2,m.x)),y:Math.min(w===Lt.Down?I.bottom-I.height/2:I.bottom,Math.max(w===Lt.Down?I.top:I.top+I.height/2,m.y))},j=w===Lt.Right&&!E||w===Lt.Left&&!C,H=w===Lt.Down&&!D||w===Lt.Up&&!x;if(j&&k.x!==m.x){const $=_.scrollLeft+p.x,G=w===Lt.Right&&$<=O.x||w===Lt.Left&&$>=N.x;if(G&&!p.y){_.scrollTo({left:$,behavior:l});return}G?y.x=_.scrollLeft-$:y.x=w===Lt.Right?_.scrollLeft-O.x:_.scrollLeft-N.x,y.x&&_.scrollBy({left:-y.x,behavior:l});break}else if(H&&k.y!==m.y){const $=_.scrollTop+p.y,G=w===Lt.Down&&$<=O.y||w===Lt.Up&&$>=N.y;if(G&&!p.x){_.scrollTo({top:$,behavior:l});return}G?y.y=_.scrollTop-$:y.y=w===Lt.Down?_.scrollTop-O.y:_.scrollTop-N.y,y.y&&_.scrollBy({top:-y.y,behavior:l});break}}this.handleMove(e,Rc(ym(m,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qI.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=VI,onActivation:r}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(i.start.includes(a)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),r?.({event:t.nativeEvent}),!0)}return!1}}];function wO(t){return!!(t&&"distance"in t)}function xO(t){return!!(t&&"delay"in t)}class kS{constructor(e,n,i){var r;i===void 0&&(i=tZ(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=Gc(a),this.documentListeners=new _d(this.document),this.listeners=new _d(i),this.windowListeners=new _d(bi(a)),this.initialCoordinates=(r=vm(s))!=null?r:$r,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(wr.Resize,this.handleCancel),this.windowListeners.add(wr.DragStart,SO),this.windowListeners.add(wr.VisibilityChange,this.handleCancel),this.windowListeners.add(wr.ContextMenu,SO),this.documentListeners.add(wr.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(xO(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(wO(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:r}=this.props;r(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(wr.Click,nZ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:r,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!r)return;const u=(n=vm(e))!=null?n:$r,d=ym(r,u);if(!i&&l){if(wO(l)){if(l.tolerance!=null&&Ib(d,l.tolerance))return this.handleCancel();if(Ib(d,l.distance))return this.handleStart()}if(xO(l)&&Ib(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Lt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const rZ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class MS extends kS{constructor(e){const{event:n}=e,i=Gc(n.target);super(e,rZ,i)}}MS.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const sZ={move:{name:"mousemove"},end:{name:"mouseup"}};var Z0;(function(t){t[t.RightClick=2]="RightClick"})(Z0||(Z0={}));class WI extends kS{constructor(e){super(e,sZ,Gc(e.event.target))}}WI.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===Z0.RightClick?!1:(i?.({event:n}),!0)}}];const Pb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class aZ extends kS{constructor(e){super(e,Pb)}static setup(){return window.addEventListener(Pb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Pb.move.name,e)};function e(){}}}aZ.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:r}=n;return r.length>1?!1:(i?.({event:n}),!0)}}];var Sd;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Sd||(Sd={}));var _m;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(_m||(_m={}));function oZ(t){let{acceleration:e,activator:n=Sd.Pointer,canScroll:i,draggingRect:r,enabled:s,interval:a=5,order:l=_m.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:h,delta:m,threshold:p}=t;const y=cZ({delta:m,disabled:!s}),[b,_]=wX(),w=A.useRef({x:0,y:0}),x=A.useRef({x:0,y:0}),E=A.useMemo(()=>{switch(n){case Sd.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Sd.DraggableRect:return r}},[n,r,u]),C=A.useRef(null),D=A.useCallback(()=>{const N=C.current;if(!N)return;const I=w.current.x*x.current.x,k=w.current.y*x.current.y;N.scrollBy(I,k)},[]),O=A.useMemo(()=>l===_m.TreeOrder?[...d].reverse():d,[l,d]);A.useEffect(()=>{if(!s||!d.length||!E){_();return}for(const N of O){if(i?.(N)===!1)continue;const I=d.indexOf(N),k=h[I];if(!k)continue;const{direction:j,speed:H}=KX(N,k,E,e,p);for(const $ of["x","y"])y[$][j[$]]||(H[$]=0,j[$]=0);if(H.x>0||H.y>0){_(),C.current=N,b(D,a),w.current=H,x.current=j;return}}w.current={x:0,y:0},x.current={x:0,y:0},_()},[e,D,i,_,s,a,JSON.stringify(E),JSON.stringify(y),b,d,O,h,JSON.stringify(p)])}const lZ={x:{[$n.Backward]:!1,[$n.Forward]:!1},y:{[$n.Backward]:!1,[$n.Forward]:!1}};function cZ(t){let{delta:e,disabled:n}=t;const i=pm(e);return hf(r=>{if(n||!i||!r)return lZ;const s={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[$n.Backward]:r.x[$n.Backward]||s.x===-1,[$n.Forward]:r.x[$n.Forward]||s.x===1},y:{[$n.Backward]:r.y[$n.Backward]||s.y===-1,[$n.Forward]:r.y[$n.Forward]||s.y===1}}},[n,e,i])}function uZ(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return hf(r=>{var s;return e==null?null:(s=i??r)!=null?s:null},[i,e])}function dZ(t,e){return A.useMemo(()=>t.reduce((n,i)=>{const{sensor:r}=i,s=r.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,i)}));return[...n,...s]},[]),[t,e])}var $d;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})($d||($d={}));var J0;(function(t){t.Optimized="optimized"})(J0||(J0={}));const EO=new Map;function fZ(t,e){let{dragging:n,dependencies:i,config:r}=e;const[s,a]=A.useState(null),{frequency:l,measure:u,strategy:d}=r,h=A.useRef(t),m=w(),p=Hd(m),y=A.useCallback(function(x){x===void 0&&(x=[]),!p.current&&a(E=>E===null?x:E.concat(x.filter(C=>!E.includes(C))))},[p]),b=A.useRef(null),_=hf(x=>{if(m&&!n)return EO;if(!x||x===EO||h.current!==t||s!=null){const E=new Map;for(let C of t){if(!C)continue;if(s&&s.length>0&&!s.includes(C.id)&&C.rect.current){E.set(C.id,C.rect.current);continue}const D=C.node.current,O=D?new DS(u(D),D):null;C.rect.current=O,O&&E.set(C.id,O)}return E}return x},[t,s,n,m,u]);return A.useEffect(()=>{h.current=t},[t]),A.useEffect(()=>{m||y()},[n,m]),A.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),A.useEffect(()=>{m||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{y(),b.current=null},l))},[l,m,y,...i]),{droppableRects:_,measureDroppableContainers:y,measuringScheduled:s!=null};function w(){switch(d){case $d.Always:return!1;case $d.BeforeDragging:return n;default:return!n}}}function NS(t,e){return hf(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function hZ(t,e){return NS(t,e)}function gZ(t){let{callback:e,disabled:n}=t;const i=sp(e),r=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(i)},[i,n]);return A.useEffect(()=>()=>r?.disconnect(),[r]),r}function op(t){let{callback:e,disabled:n}=t;const i=sp(e),r=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(i)},[n]);return A.useEffect(()=>()=>r?.disconnect(),[r]),r}function mZ(t){return new DS(gf(t),t)}function RO(t,e,n){e===void 0&&(e=mZ);const[i,r]=A.useState(null);function s(){r(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const h=e(t);return JSON.stringify(u)===JSON.stringify(h)?u:h})}const a=gZ({callback(u){if(t)for(const d of u){const{type:h,target:m}=d;if(h==="childList"&&m instanceof HTMLElement&&m.contains(t)){s();break}}}}),l=op({callback:s});return Zs(()=>{s(),t?(l?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),a?.disconnect())},[t]),i}function pZ(t){const e=NS(t);return PI(t,e)}const CO=[];function yZ(t){const e=A.useRef(t),n=hf(i=>t?i&&i!==CO&&t&&e.current&&t.parentNode===e.current.parentNode?i:OS(t):CO,[t]);return A.useEffect(()=>{e.current=t},[t]),n}function vZ(t){const[e,n]=A.useState(null),i=A.useRef(t),r=A.useCallback(s=>{const a=Nb(s.target);a&&n(l=>l?(l.set(a,X0(a)),new Map(l)):null)},[]);return A.useEffect(()=>{const s=i.current;if(t!==s){a(s);const l=t.map(u=>{const d=Nb(u);return d?(d.addEventListener("scroll",r,{passive:!0}),[d,X0(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),i.current=t}return()=>{a(t),a(s)};function a(l){l.forEach(u=>{const d=Nb(u);d?.removeEventListener("scroll",r)})}},[r,t]),A.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>Rc(s,a),$r):BI(t):$r,[t,e])}function TO(t,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const i=t!==$r;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?ym(t,n.current):$r}function bZ(t){A.useEffect(()=>{if(!rp)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function _Z(t,e){return A.useMemo(()=>t.reduce((n,i)=>{let{eventName:r,handler:s}=i;return n[r]=a=>{s(a,e)},n},{}),[t,e])}function GI(t){return A.useMemo(()=>t?WX(t):null,[t])}const AO=[];function SZ(t,e){e===void 0&&(e=gf);const[n]=t,i=GI(n?bi(n):null),[r,s]=A.useState(AO);function a(){s(()=>t.length?t.map(u=>zI(u)?i:new DS(e(u),u)):AO)}const l=op({callback:a});return Zs(()=>{l?.disconnect(),a(),t.forEach(u=>l?.observe(u))},[t]),r}function YI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return ff(e)?e:t}function wZ(t){let{measure:e}=t;const[n,i]=A.useState(null),r=A.useCallback(d=>{for(const{target:h}of d)if(ff(h)){i(m=>{const p=e(h);return m?{...m,width:p.width,height:p.height}:p});break}},[e]),s=op({callback:r}),a=A.useCallback(d=>{const h=YI(d);s?.disconnect(),h&&s?.observe(h),i(h?e(h):null)},[e,s]),[l,u]=mm(a);return A.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const xZ=[{sensor:MS,options:{}},{sensor:qI,options:{}}],EZ={current:{}},Ig={draggable:{measure:_O},droppable:{measure:_O,strategy:$d.WhileDragging,frequency:J0.Optimized},dragOverlay:{measure:gf}};class wd extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const RZ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new wd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:bm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ig,measureDroppableContainers:bm,windowRect:null,measuringScheduled:!1},QI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:bm,draggableNodes:new Map,over:null,measureDroppableContainers:bm},mf=A.createContext(QI),KI=A.createContext(RZ);function CZ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new wd}}}function TZ(t,e){switch(e.type){case jn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case jn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case jn.DragEnd:case jn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case jn.RegisterDroppable:{const{element:n}=e,{id:i}=n,r=new wd(t.droppable.containers);return r.set(i,n),{...t,droppable:{...t.droppable,containers:r}}}case jn.SetDroppableDisabled:{const{id:n,key:i,disabled:r}=e,s=t.droppable.containers.get(n);if(!s||i!==s.key)return t;const a=new wd(t.droppable.containers);return a.set(n,{...s,disabled:r}),{...t,droppable:{...t.droppable,containers:a}}}case jn.UnregisterDroppable:{const{id:n,key:i}=e,r=t.droppable.containers.get(n);if(!r||i!==r.key)return t;const s=new wd(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function AZ(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:r}=A.useContext(mf),s=pm(i),a=pm(n?.id);return A.useEffect(()=>{if(!e&&!i&&s&&a!=null){if(!AS(s)||document.activeElement===s.target)return;const l=r.get(a);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const h of[u.current,d.current]){if(!h)continue;const m=RX(h);if(m){m.focus();break}}})}},[i,e,r,a,s]),null}function XI(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((r,s)=>s({transform:r,...i}),n):n}function OZ(t){return A.useMemo(()=>({draggable:{...Ig.draggable,...t?.draggable},droppable:{...Ig.droppable,...t?.droppable},dragOverlay:{...Ig.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function DZ(t){let{activeNode:e,measure:n,initialRect:i,config:r=!0}=t;const s=A.useRef(!1),{x:a,y:l}=typeof r=="boolean"?{x:r,y:r}:r;Zs(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!i)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const h=n(d),m=PI(h,i);if(a||(m.x=0),l||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const p=LI(d);p&&p.scrollBy({top:m.y,left:m.x})}},[e,a,l,i,n])}const lp=A.createContext({...$r,scaleX:1,scaleY:1});var Ia;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ia||(Ia={}));const kZ=A.memo(function(e){var n,i,r,s;let{id:a,accessibility:l,autoScroll:u=!0,children:d,sensors:h=xZ,collisionDetection:m=zX,measuring:p,modifiers:y,...b}=e;const _=A.useReducer(TZ,void 0,CZ),[w,x]=_,[E,C]=kX(),[D,O]=A.useState(Ia.Uninitialized),N=D===Ia.Initialized,{draggable:{active:I,nodes:k,translate:j},droppable:{containers:H}}=w,$=I!=null?k.get(I):null,G=A.useRef({initial:null,translated:null}),se=A.useMemo(()=>{var vt;return I!=null?{id:I,data:(vt=$?.data)!=null?vt:EZ,rect:G}:null},[I,$]),pe=A.useRef(null),[ve,B]=A.useState(null),[X,me]=A.useState(null),ae=Hd(b,Object.values(b)),be=ap("DndDescribedBy",a),L=A.useMemo(()=>H.getEnabled(),[H]),J=OZ(p),{droppableRects:ne,measureDroppableContainers:ie,measuringScheduled:he}=fZ(L,{dragging:N,dependencies:[j.x,j.y],config:J.droppable}),ge=uZ(k,I),Re=A.useMemo(()=>X?vm(X):null,[X]),Se=hi(),ke=hZ(ge,J.draggable.measure);DZ({activeNode:I!=null?k.get(I):null,config:Se.layoutShiftCompensation,initialRect:ke,measure:J.draggable.measure});const Xe=RO(ge,J.draggable.measure,ke),nn=RO(ge?ge.parentElement:null),Ut=A.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:H,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Li=H.getNodeFor((n=Ut.current.over)==null?void 0:n.id),we=wZ({measure:J.dragOverlay.measure}),Ue=(i=we.nodeRef.current)!=null?i:ge,ot=N?(r=we.rect)!=null?r:Xe:null,Pt=!!(we.nodeRef.current&&we.rect),hn=pZ(Pt?null:Xe),Je=GI(Ue?bi(Ue):null),P=yZ(N?Li??ge:null),q=SZ(P),U=XI(y,{transform:{x:j.x-hn.x,y:j.y-hn.y,scaleX:1,scaleY:1},activatorEvent:X,active:se,activeNodeRect:Xe,containerNodeRect:nn,draggingNodeRect:ot,over:Ut.current.over,overlayNodeRect:we.rect,scrollableAncestors:P,scrollableAncestorRects:q,windowRect:Je}),Q=Re?Rc(Re,j):null,ce=vZ(P),oe=TO(ce),fe=TO(ce,[Xe]),Ee=Rc(U,oe),ye=ot?$X(ot,U):null,Fe=se&&ye?m({active:se,collisionRect:ye,droppableRects:ne,droppableContainers:L,pointerCoordinates:Q}):null,et=FX(Fe,"id"),[Be,qe]=A.useState(null),_n=Pt?U:Rc(U,fe),Et=HX(_n,(s=Be?.rect)!=null?s:null,Xe),ze=A.useRef(null),rt=A.useCallback((vt,zt)=>{let{sensor:xe,options:He}=zt;if(pe.current==null)return;const lt=k.get(pe.current);if(!lt)return;const ht=vt.nativeEvent,cn=new xe({active:pe.current,activeNode:lt,event:ht,options:He,context:Ut,onAbort(Ge){if(!k.get(Ge))return;const{onDragAbort:$t}=ae.current,Kt={id:Ge};$t?.(Kt),E({type:"onDragAbort",event:Kt})},onPending(Ge,Sn,$t,Kt){if(!k.get(Ge))return;const{onDragPending:Gn}=ae.current,tr={id:Ge,constraint:Sn,initialCoordinates:$t,offset:Kt};Gn?.(tr),E({type:"onDragPending",event:tr})},onStart(Ge){const Sn=pe.current;if(Sn==null)return;const $t=k.get(Sn);if(!$t)return;const{onDragStart:Kt}=ae.current,er={activatorEvent:ht,active:{id:Sn,data:$t.data,rect:G}};zs.unstable_batchedUpdates(()=>{Kt?.(er),O(Ia.Initializing),x({type:jn.DragStart,initialCoordinates:Ge,active:Sn}),E({type:"onDragStart",event:er}),B(ze.current),me(ht)})},onMove(Ge){x({type:jn.DragMove,coordinates:Ge})},onEnd:gt(jn.DragEnd),onCancel:gt(jn.DragCancel)});ze.current=cn;function gt(Ge){return async function(){const{active:$t,collisions:Kt,over:er,scrollAdjustedTranslate:Gn}=Ut.current;let tr=null;if($t&&Gn){const{cancelDrop:na}=ae.current;tr={activatorEvent:ht,active:$t,collisions:Kt,delta:Gn,over:er},Ge===jn.DragEnd&&typeof na=="function"&&await Promise.resolve(na(tr))&&(Ge=jn.DragCancel)}pe.current=null,zs.unstable_batchedUpdates(()=>{x({type:Ge}),O(Ia.Uninitialized),qe(null),B(null),me(null),ze.current=null;const na=Ge===jn.DragEnd?"onDragEnd":"onDragCancel";if(tr){const nr=ae.current[na];nr?.(tr),E({type:na,event:tr})}})}}},[k]),gn=A.useCallback((vt,zt)=>(xe,He)=>{const lt=xe.nativeEvent,ht=k.get(He);if(pe.current!==null||!ht||lt.dndKit||lt.defaultPrevented)return;const cn={active:ht};vt(xe,zt.options,cn)===!0&&(lt.dndKit={capturedBy:zt.sensor},pe.current=He,rt(xe,zt))},[k,rt]),Ze=dZ(h,gn);bZ(h),Zs(()=>{Xe&&D===Ia.Initializing&&O(Ia.Initialized)},[Xe,D]),A.useEffect(()=>{const{onDragMove:vt}=ae.current,{active:zt,activatorEvent:xe,collisions:He,over:lt}=Ut.current;if(!zt||!xe)return;const ht={active:zt,activatorEvent:xe,collisions:He,delta:{x:Ee.x,y:Ee.y},over:lt};zs.unstable_batchedUpdates(()=>{vt?.(ht),E({type:"onDragMove",event:ht})})},[Ee.x,Ee.y]),A.useEffect(()=>{const{active:vt,activatorEvent:zt,collisions:xe,droppableContainers:He,scrollAdjustedTranslate:lt}=Ut.current;if(!vt||pe.current==null||!zt||!lt)return;const{onDragOver:ht}=ae.current,cn=He.get(et),gt=cn&&cn.rect.current?{id:cn.id,rect:cn.rect.current,data:cn.data,disabled:cn.disabled}:null,Ge={active:vt,activatorEvent:zt,collisions:xe,delta:{x:lt.x,y:lt.y},over:gt};zs.unstable_batchedUpdates(()=>{qe(gt),ht?.(Ge),E({type:"onDragOver",event:Ge})})},[et]),Zs(()=>{Ut.current={activatorEvent:X,active:se,activeNode:ge,collisionRect:ye,collisions:Fe,droppableRects:ne,draggableNodes:k,draggingNode:Ue,draggingNodeRect:ot,droppableContainers:H,over:Be,scrollableAncestors:P,scrollAdjustedTranslate:Ee},G.current={initial:ot,translated:ye}},[se,ge,Fe,ye,k,Ue,ot,ne,H,Be,P,Ee]),oZ({...Se,delta:j,draggingRect:ye,pointerCoordinates:Q,scrollableAncestors:P,scrollableAncestorRects:q});const ft=A.useMemo(()=>({active:se,activeNode:ge,activeNodeRect:Xe,activatorEvent:X,collisions:Fe,containerNodeRect:nn,dragOverlay:we,draggableNodes:k,droppableContainers:H,droppableRects:ne,over:Be,measureDroppableContainers:ie,scrollableAncestors:P,scrollableAncestorRects:q,measuringConfiguration:J,measuringScheduled:he,windowRect:Je}),[se,ge,Xe,X,Fe,nn,we,k,H,ne,Be,ie,P,q,J,he,Je]),fi=A.useMemo(()=>({activatorEvent:X,activators:Ze,active:se,activeNodeRect:Xe,ariaDescribedById:{draggable:be},dispatch:x,draggableNodes:k,over:Be,measureDroppableContainers:ie}),[X,Ze,se,Xe,x,be,k,Be,ie]);return re.createElement(II.Provider,{value:C},re.createElement(mf.Provider,{value:fi},re.createElement(KI.Provider,{value:ft},re.createElement(lp.Provider,{value:Et},d)),re.createElement(AZ,{disabled:l?.restoreFocus===!1})),re.createElement(IX,{...l,hiddenTextDescribedById:be}));function hi(){const vt=ve?.autoScrollEnabled===!1,zt=typeof u=="object"?u.enabled===!1:u===!1,xe=N&&!vt&&!zt;return typeof u=="object"?{...u,enabled:xe}:{enabled:xe}}}),MZ=A.createContext(null),OO="button",NZ="Draggable";function ure(t){let{id:e,data:n,disabled:i=!1,attributes:r}=t;const s=ap(NZ),{activators:a,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:h,draggableNodes:m,over:p}=A.useContext(mf),{role:y=OO,roleDescription:b="draggable",tabIndex:_=0}=r??{},w=u?.id===e,x=A.useContext(w?lp:MZ),[E,C]=mm(),[D,O]=mm(),N=_Z(a,e),I=Hd(n);Zs(()=>(m.set(e,{id:e,key:s,node:E,activatorNode:D,data:I}),()=>{const j=m.get(e);j&&j.key===s&&m.delete(e)}),[m,e]);const k=A.useMemo(()=>({role:y,tabIndex:_,"aria-disabled":i,"aria-pressed":w&&y===OO?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[i,y,_,w,b,h.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:k,isDragging:w,listeners:i?void 0:N,node:E,over:p,setNodeRef:C,setActivatorNodeRef:O,transform:x}}function IZ(){return A.useContext(KI)}const PZ="Droppable",jZ={timeout:25};function dre(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:r}=t;const s=ap(PZ),{active:a,dispatch:l,over:u,measureDroppableContainers:d}=A.useContext(mf),h=A.useRef({disabled:n}),m=A.useRef(!1),p=A.useRef(null),y=A.useRef(null),{disabled:b,updateMeasurementsFor:_,timeout:w}={...jZ,...r},x=Hd(_??i),E=A.useCallback(()=>{if(!m.current){m.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),y.current=null},w)},[w]),C=op({callback:E,disabled:b||!a}),D=A.useCallback((k,j)=>{C&&(j&&(C.unobserve(j),m.current=!1),k&&C.observe(k))},[C]),[O,N]=mm(D),I=Hd(e);return A.useEffect(()=>{!C||!O.current||(C.disconnect(),m.current=!1,C.observe(O.current))},[O,C]),A.useEffect(()=>(l({type:jn.RegisterDroppable,element:{id:i,key:s,disabled:n,node:O,rect:p,data:I}}),()=>l({type:jn.UnregisterDroppable,key:s,id:i})),[i]),A.useEffect(()=>{n!==h.current.disabled&&(l({type:jn.SetDroppableDisabled,id:i,key:s,disabled:n}),h.current.disabled=n)},[i,s,n,l]),{active:a,rect:p,isOver:u?.id===i,node:O,over:u,setNodeRef:N}}function LZ(t){let{animation:e,children:n}=t;const[i,r]=A.useState(null),[s,a]=A.useState(null),l=pm(n);return!n&&!i&&l&&r(l),Zs(()=>{if(!s)return;const u=i?.key,d=i?.props.id;if(u==null||d==null){r(null);return}Promise.resolve(e(d,s)).then(()=>{r(null)})},[e,i,s]),re.createElement(re.Fragment,null,n,i?A.cloneElement(i,{ref:a}):null)}const FZ={x:0,y:0,scaleX:1,scaleY:1};function UZ(t){let{children:e}=t;return re.createElement(mf.Provider,{value:QI},re.createElement(lp.Provider,{value:FZ},e))}const zZ={position:"fixed",touchAction:"none"},HZ=t=>AS(t)?"transform 250ms ease":void 0,BZ=A.forwardRef((t,e)=>{let{as:n,activatorEvent:i,adjustScale:r,children:s,className:a,rect:l,style:u,transform:d,transition:h=HZ}=t;if(!l)return null;const m=r?d:{...d,scaleX:1,scaleY:1},p={...zZ,width:l.width,height:l.height,top:l.top,left:l.left,transform:Bd.Transform.toString(m),transformOrigin:r&&i?jX(i,l):void 0,transition:typeof h=="function"?h(i):h,...u};return re.createElement(n,{className:a,style:p,ref:e},s)}),$Z=t=>e=>{let{active:n,dragOverlay:i}=e;const r={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[l,u]of Object.entries(s.active))u!==void 0&&(r[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(s!=null&&s.dragOverlay)for(const[l,u]of Object.entries(s.dragOverlay))u!==void 0&&i.node.style.setProperty(l,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&i.node.classList.add(a.dragOverlay),function(){for(const[u,d]of Object.entries(r))n.node.style.setProperty(u,d);a!=null&&a.active&&n.node.classList.remove(a.active)}},VZ=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Bd.Transform.toString(e)},{transform:Bd.Transform.toString(n)}]},qZ={duration:250,easing:"ease",keyframes:VZ,sideEffects:$Z({styles:{active:{opacity:"0"}}})};function WZ(t){let{config:e,draggableNodes:n,droppableContainers:i,measuringConfiguration:r}=t;return sp((s,a)=>{if(e===null)return;const l=n.get(s);if(!l)return;const u=l.node.current;if(!u)return;const d=YI(a);if(!d)return;const{transform:h}=bi(a).getComputedStyle(a),m=jI(h);if(!m)return;const p=typeof e=="function"?e:GZ(e);return $I(u,r.draggable.measure),p({active:{id:s,data:l.data,node:u,rect:r.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:r.dragOverlay.measure(d)},droppableContainers:i,measuringConfiguration:r,transform:m})})}function GZ(t){const{duration:e,easing:n,sideEffects:i,keyframes:r}={...qZ,...t};return s=>{let{active:a,dragOverlay:l,transform:u,...d}=s;if(!e)return;const h={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},m={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/l.rect.height:1},p={x:u.x-h.x,y:u.y-h.y,...m},y=r({...d,active:a,dragOverlay:l,transform:{initial:u,final:p}}),[b]=y,_=y[y.length-1];if(JSON.stringify(b)===JSON.stringify(_))return;const w=i?.({active:a,dragOverlay:l,...d}),x=l.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(E=>{x.onfinish=()=>{w?.(),E()}})}}let DO=0;function YZ(t){return A.useMemo(()=>{if(t!=null)return DO++,DO},[t])}const QZ=re.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:i,style:r,transition:s,modifiers:a,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:h,active:m,activeNodeRect:p,containerNodeRect:y,draggableNodes:b,droppableContainers:_,dragOverlay:w,over:x,measuringConfiguration:E,scrollableAncestors:C,scrollableAncestorRects:D,windowRect:O}=IZ(),N=A.useContext(lp),I=YZ(m?.id),k=XI(a,{activatorEvent:h,active:m,activeNodeRect:p,containerNodeRect:y,draggingNodeRect:w.rect,over:x,overlayNodeRect:w.rect,scrollableAncestors:C,scrollableAncestorRects:D,transform:N,windowRect:O}),j=NS(p),H=WZ({config:i,draggableNodes:b,droppableContainers:_,measuringConfiguration:E}),$=j?w.setRef:void 0;return re.createElement(UZ,null,re.createElement(LZ,{animation:H},m&&I?re.createElement(BZ,{key:I,id:m.id,ref:$,as:l,activatorEvent:h,adjustScale:e,className:u,transition:s,rect:j,style:{zIndex:d,...r},transform:k},n):null))});function Ao({label:t,options:e,selectedOptions:n,onSelectionChange:i,searchPlaceholder:r,id:s,width:a="200px"}){const[l,u]=A.useState(!1),[d,h]=A.useState(""),m=A.useRef(null);A.useEffect(()=>{const E=C=>{m.current&&!m.current.contains(C.target)&&u(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const p=e.filter(E=>E.toLowerCase().includes(d.toLowerCase())),y=p.length>0&&p.every(E=>n.includes(E)),b=E=>{if(E.preventDefault(),E.stopPropagation(),y){const C=n.filter(D=>!p.includes(D));i(C)}else{const C=[...new Set([...n,...p])];i(C)}},_=(E,C)=>{if(E.preventDefault(),E.stopPropagation(),n.includes(C)){const D=n.filter(O=>O!==C);i(D)}else{const D=[...n.filter(O=>O!==""),C];i(D)}},w=()=>{u(!0)},x=E=>{h(E.target.value)};return R.jsxs("div",{className:"relative",ref:m,style:{width:a},children:[R.jsxs("div",{className:"space-y-2",children:[R.jsxs(ai,{htmlFor:s,children:[t,":"]}),R.jsx(Vn,{type:"text",id:s,value:d,onChange:x,onFocus:w,placeholder:r})]}),l&&e.length>0&&R.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:[R.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 ${y?"bg-navy-50 text-navy-800":""}`,onMouseDown:b,children:R.jsx("div",{className:"text-xs font-bold",children:"Tutti"})}),p.map(E=>R.jsx("div",{className:`px-3 py-1 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0 ${n.includes(E)?"bg-navy-50 text-navy-800":""}`,onMouseDown:C=>_(C,E),children:R.jsx("div",{className:"text-xs font-normal",children:E})},E))]})]})}const KZ=A.lazy(()=>Hr(()=>import("./TaskPoolDataTable-ZEk-s75k.js"),[])),XZ=A.lazy(()=>Hr(()=>import("./GanttChart-COELYoqm.js"),[])),kO=()=>R.jsx("div",{className:"loading",children:"Caricamento componenti scheduler..."}),ZZ=({schedulingLoading:t})=>{if(!t.isScheduling&&!t.isRescheduling&&!t.isShunting&&!t.isNavigating)return null;const e=()=>t.isScheduling?"Programmazione lavoro...":t.isRescheduling?"Riprogrammazione lavoro...":t.isShunting?"Risoluzione conflitti...":t.isNavigating?"Navigazione...":"Operazione in corso...";return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:R.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[R.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),R.jsx("span",{className:"text-gray-700 font-medium",children:e()})]})})},JZ=(t,e)=>{const n=document.querySelector(t);if(!n){Fa("Grafico Gantt non trovato. Assicurati che il grafico sia visibile sullo schermo.");return}const i=Array.from(document.styleSheets);let r="";i.forEach(p=>{try{Array.from(p.cssRules||p.rules||[]).forEach(b=>{r+=b.cssText+`
`})}catch{}});const s=n.cloneNode(!0),a=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Grafico Gantt - ${e}</title>
        <style>
          ${r}
          body { 
            margin: 0; 
            padding: 20px; 
            font-family: Arial, sans-serif;
          }
          .calendar-section {
            width: 100%;
            overflow-x: auto;
          }
        </style>
      </head>
      <body>
        <div style="text-align: center; margin-bottom: 20px; font-size: 12px; font-weight: bold;">
          Grafico Gantt - ${e}
        </div>
        <div class="calendar-section">
          ${s.outerHTML}
        </div>
      </body>
    </html>
  `,l=new Blob([a],{type:"text/html"}),u=window.URL.createObjectURL(l),d=document.createElement("a");d.href=u;const h=new Date().toISOString().split("T")[0],m=new Date().toISOString().split("T")[1].split(".")[0].replace(/:/g,"-");d.download=`grafico-gantt-${h}-${m}.html`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u)};function eJ(){const{data:t=[],isLoading:e,error:n}=Gm(),{data:i=[],isLoading:r,error:s}=Wm(),{getOdpOrdersByWorkCenter:a,getScheduledOrders:l}=li(),{selectedWorkCenter:u,isLoading:d,isInitialized:h,isEditMode:m,toggleEditMode:p,showConflictDialog:y,schedulingLoading:b,setDragPreview:_,clearDragPreview:w,dragPreview:x}=vn(),{scheduleTask:E,unscheduleTask:C,scheduleTaskFromSlot:D,rescheduleTaskToSlot:O,validateSlotAvailability:N}=af(),{init:I,cleanup:k}=no(),j=ji(),H=PX(bO(MS,{activationConstraint:{distance:0}}),bO(WI,{activationConstraint:{distance:0}})),[$,G]=A.useState(()=>{const U=new Date;return new Date(Date.UTC(U.getUTCFullYear(),U.getUTCMonth(),U.getUTCDate()))}),[se,pe]=A.useState(null),ve=e||r||d,[B,X]=A.useState(null),[me,ae]=A.useState(""),[be,L]=A.useState(""),[J,ne]=A.useState(""),ie={workCenter:[],department:[],machineType:[],machineName:[]};function he(U,Q){switch(Q.type){case"SET_FILTER":return{...U,[Q.payload.filterName]:Q.payload.value};case"CLEAR_FILTERS":return ie;default:return U}}const[ge,Re]=A.useReducer(he,ie);A.useEffect(()=>(h||I(),()=>{k()}),[I,h,k]);const Se=A.useMemo(()=>u?u==="BOTH"?t:t.filter(U=>U.work_center===u):[],[u,t]),ke=A.useMemo(()=>Se.filter(Q=>Q.status==="SCHEDULED"),[Se,u]),Xe=A.useMemo(()=>{if(performance.now(),!i||i.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let U=i;u&&u!==yt.BOTH&&(U=i.filter(qe=>qe.work_center===u));const Q=U.filter(qe=>qe.status===Hs.ACTIVE);if(Q.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const ce=new Set,oe=new Set,fe=new Set,Ee=new Set;for(const qe of Q)qe.work_center&&ce.add(qe.work_center),qe.department&&oe.add(qe.department),qe.machine_type&&fe.add(qe.machine_type),qe.machine_name&&Ee.add(qe.machine_name);const ye=Array.from(ce).sort(),Fe=Array.from(oe).sort(),et=Array.from(fe).sort(),Be=Array.from(Ee).sort();return performance.now(),{activeMachines:Q,workCenters:ye,departments:Fe,machineTypes:et,machineNames:Be}},[i,u]),nn=A.useMemo(()=>{const{activeMachines:U}=Xe;let Q=U;return ge.workCenter.length>0&&(Q=Q.filter(ce=>ge.workCenter.includes(ce.work_center))),ge.department.length>0&&(Q=Q.filter(ce=>ge.department.includes(ce.department))),ge.machineType.length>0&&(Q=Q.filter(ce=>ge.machineType.includes(ce.machine_type))),ge.machineName.length>0&&(Q=Q.filter(ce=>ge.machineName.includes(ce.machine_name))),Q},[Xe,ge]),Ut=A.useCallback(async(U,Q="Daily")=>{const{startSchedulingOperation:ce,stopSchedulingOperation:oe}=vn.getState();try{ce("navigate");let fe;G(Ee=>{if(U==="today"){const ye=new Date,Fe=ye.getUTCFullYear(),et=ye.getUTCMonth(),Be=ye.getUTCDate();return fe=new Date(Date.UTC(Fe,et,Be)),fe}else if(U==="prev"){if(Q==="Weekly")return fe=tl(tW(Ee,1),{weekStartsOn:1}),fe;{const ye=new Date(Ee);return ye.setUTCDate(ye.getUTCDate()-1),fe=ye,fe}}else if(U==="next"){if(Q==="Weekly")return fe=tl(SM(Ee,1),{weekStartsOn:1}),fe;{const ye=new Date(Ee);return ye.setUTCDate(ye.getUTCDate()+1),fe=ye,ye}}return fe=Ee,Ee})}finally{oe()}},[]),Li=A.useCallback(()=>{const U=new Date,Q=U.getUTCFullYear(),ce=U.getUTCMonth(),oe=U.getUTCDate(),fe=new Date(Date.UTC(Q,ce,oe));return $.getTime()===fe.getTime()?"Oggi":Wn($,"yyyy-MM-dd")},[$]),we=A.useCallback(()=>{Re({type:"CLEAR_FILTERS"})},[]),Ue=A.useCallback((U,Q,ce)=>{if(!U.trim())return;let oe=ke.find(fe=>fe[Q]===U.trim());if(oe||(oe=ke.find(fe=>fe[Q]&&fe[Q].toLowerCase().includes(U.trim().toLowerCase()))),!oe){kr(`Lavoro non trovato per ${ce}: ${U}`,"warning");return}ot(oe,Q,ce,U)},[ke,i]),ot=A.useCallback((U,Q,ce,oe)=>{const fe=i.find(ye=>ye.id===U.scheduled_machine_id);if(!fe){kr("Macchina non trovata per questo lavoro","error");return}if(Re({type:"SET_FILTER",payload:{filterName:"machineName",value:[fe.machine_name]}}),Re({type:"SET_FILTER",payload:{filterName:"workCenter",value:[fe.work_center]}}),Re({type:"SET_FILTER",payload:{filterName:"department",value:[fe.department]}}),Re({type:"SET_FILTER",payload:{filterName:"machineType",value:[fe.machine_type]}}),U.scheduled_start_time){const ye=new Date(U.scheduled_start_time),Fe=ye.getUTCFullYear(),et=ye.getUTCMonth(),Be=ye.getUTCDate();G(new Date(Date.UTC(Fe,et,Be)))}Q==="odp_number"?ae(""):Q==="article_code"?L(""):Q==="nome_cliente"&&ne("");const Ee=U[Q];kr(`Lavoro trovato per ${ce} "${Ee}" su ${fe.machine_name}`,"success")},[i,ae,L,ne,G]),Pt=A.useRef(null),hn=A.useRef(!1),Je=A.useCallback(U=>{const Q=U.active.data.current;Q&&Q.type==="task"?pe(Q.task):Q&&Q.type==="event"&&pe(Q.event)},[]),P=A.useCallback(U=>{const{over:Q}=U;if(Q&&Q.data.current?.type==="slot"){const{machine:ce,hour:oe,minute:fe,isUnavailable:Ee,hasScheduledTask:ye}=Q.data.current;if(Ee||ye){X(null),w();return}const Fe=`${ce.id}-${oe}-${fe}`;if(X(Fe),se){const et=se.time_remaining||se.duration||1,Be=Math.ceil(et*4),qe=(oe-6)*4+Math.floor(fe/15);_({isActive:!0,startSlot:qe,durationSlots:Be,machineId:ce.id})}}else Q&&Q.data.current?.type==="next-day"?(X("next-day-drop-zone"),w()):Q&&Q.data.current?.type==="previous-day"?(X("previous-day-drop-zone"),w()):(X(null),w())},[se,_,w]),q=A.useCallback(async U=>{if(performance.now(),Pt.current&&clearTimeout(Pt.current),hn.current)return;pe(null),X(null),w();const{over:Q,active:ce}=U;if(!Q)return;const oe=ce.data.current,fe=Q.data.current;if(!(!oe||!fe)){hn.current=!0;try{await new Promise(Ee=>{requestAnimationFrame(async()=>{const ye=performance.now();if(oe.type==="task"&&fe.type==="slot"){const Fe=oe.task,{machine:et,hour:Be,minute:qe,isUnavailable:_n,hasScheduledTask:Et}=fe;if(Et)return kr("Impossibile pianificare il lavoro su uno slot temporale occupato","error"),Ee();const ze=await D(Fe.id,et,$,Be,qe,null,j);console.log(" SCHEDULE RESULT:",ze),ze?.error?kr(ze.error,"error"):ze?.conflict?(console.log(" CONFLICT DETECTED - SHOWING DIALOG:",ze),y(ze)):console.log(" SCHEDULING SUCCESS:",ze)}else if(oe.type==="event"&&fe.type==="slot"){const Fe=oe.event,{machine:et,hour:Be,minute:qe,isUnavailable:_n,hasScheduledTask:Et}=fe;if(Et)return kr("Impossibile riprogrammare il lavoro su uno slot temporale occupato","error"),Ee();const ze=await O(Fe.id,et,$,Be,qe,j);ze?.error?kr(ze.error,"error"):ze?.conflict&&y(ze)}else if(oe.type==="event"&&fe.type==="pool"){const Fe=oe.event;C(Fe.id,j)}else(oe.type==="task"||oe.type==="event")&&fe.type==="next-day"?kr("Navigazione al giorno successivo completata","success"):(oe.type==="task"||oe.type==="event")&&fe.type==="previous-day"&&kr("Navigazione al giorno precedente completata","success");Ee()})})}catch{kr("Si  verificato un errore durante l'operazione di trascinamento","error")}finally{hn.current=!1}}},[$,D,O,C,y]);return ve?R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:R.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg flex items-center space-x-3",children:[R.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),R.jsx("span",{className:"text-gray-700 font-medium",children:"Caricamento Scheduler Produzione..."})]})}):n||s?R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:R.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",children:[R.jsx("div",{className:"text-red-600 mb-4",children:R.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),R.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Errore nel caricamento dei dati"}),R.jsx("p",{className:"text-gray-600 mb-4",children:n?.message||s?.message||"Errore sconosciuto"}),R.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Riprova"})]})}):u?R.jsxs(R.Fragment,{children:[R.jsx(ZZ,{schedulingLoading:b}),R.jsxs(kZ,{sensors:H,onDragStart:Je,onDragOver:P,onDragEnd:q,children:[R.jsxs("div",{className:`content-section ${m?"edit-mode":""}`,children:[R.jsxs("div",{className:"task-pool-section",children:[R.jsxs("div",{className:"task-pool-header",children:[R.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Pool Lavori"}),R.jsx(Jt,{variant:m?"destructive":"default",size:"sm",onClick:p,title:m?"Disabilita modalit modifica":"Abilita modalit modifica",style:m?{color:"#ffffff"}:{},children:m?"Disabilita Modalit Modifica":"Abilita Modalit Modifica"})]}),R.jsx(A.Suspense,{fallback:R.jsx(kO,{}),children:R.jsx(KZ,{})})]}),R.jsxs("div",{className:"section-controls",children:[R.jsx("div",{className:"task-pool-header",children:R.jsx("h2",{className:"text-[10px] font-semibold text-gray-900",children:"Filtri"})}),R.jsxs("div",{className:"filters-grid",children:[R.jsx("div",{className:"filters-actions-left",children:R.jsx(Jt,{variant:"secondary",size:"sm",onClick:we,title:"Clear all filters",children:"Cancella Filtri"})}),R.jsx(Ao,{label:"ODP",options:ke.map(U=>U.odp_number).filter(Boolean),selectedOptions:me?[me]:[],onSelectionChange:U=>{U.length>0?(ae(U[0]),Ue(U[0],"odp_number","ODP")):ae("")},searchPlaceholder:"Cerca ODP...",id:"odp_filter",width:"150px"}),R.jsx(Ao,{label:"Codice Articolo",options:ke.map(U=>U.article_code).filter(Boolean),selectedOptions:be?[be]:[],onSelectionChange:U=>{U.length>0?(L(U[0]),Ue(U[0],"article_code","codice articolo")):L("")},searchPlaceholder:"Cerca Articolo...",id:"article_filter",width:"150px"}),R.jsx(Ao,{label:"Nome Cliente",options:ke.map(U=>U.nome_cliente).filter(Boolean),selectedOptions:J?[J]:[],onSelectionChange:U=>{U.length>0?(ne(U[0]),Ue(U[0],"nome_cliente","cliente")):ne("")},searchPlaceholder:"Cerca Cliente...",id:"customer_filter",width:"150px"}),R.jsx(Ao,{label:"Centro di Lavoro",options:Xe.workCenters,selectedOptions:ge.workCenter,onSelectionChange:U=>Re({type:"SET_FILTER",payload:{filterName:"workCenter",value:U}}),searchPlaceholder:"Cerca Centri di Lavoro",id:"work_center_filter",width:"150px"}),R.jsx(Ao,{label:"Reparto",options:Xe.departments,selectedOptions:ge.department,onSelectionChange:U=>Re({type:"SET_FILTER",payload:{filterName:"department",value:U}}),searchPlaceholder:"Cerca Reparti",id:"department_filter",width:"150px"}),R.jsx(Ao,{label:"Tipo Macchina",options:Xe.machineTypes,selectedOptions:ge.machineType,onSelectionChange:U=>Re({type:"SET_FILTER",payload:{filterName:"machineType",value:U}}),searchPlaceholder:"Cerca Tipi di Macchina",id:"machine_type_filter",width:"150px"}),R.jsx(Ao,{label:"Nome Macchina",options:Xe.machineNames,selectedOptions:ge.machineName,onSelectionChange:U=>Re({type:"SET_FILTER",payload:{filterName:"machineName",value:U}}),searchPlaceholder:"Cerca Nomi Macchine",id:"machine_name_filter",width:"150px"}),R.jsx("div",{className:"filters-actions-right",children:R.jsx(Jt,{variant:"secondary",size:"sm",onClick:()=>JZ(".calendar-section .calendar-grid-container",Li()),title:"Download exact Gantt chart as HTML file",children:"Scarica HTML"})})]})]}),R.jsxs("div",{className:"calendar-section relative",children:[R.jsx(A.Suspense,{fallback:R.jsx(kO,{}),children:R.jsx(XZ,{machines:nn,currentDate:$,dropTargetId:B,dragPreview:x,onNavigateToNextDay:U=>Ut("next",U),onNavigateToPreviousDay:U=>Ut("prev",U)})}),(b.isScheduling||b.isRescheduling||b.isShunting||b.isNavigating)&&R.jsx("div",{className:"absolute inset-0 bg-white z-40"})]})]}),R.jsx(QZ,{children:se?R.jsx("div",{style:{background:"#1e293b",color:"#ffffff",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"400",zIndex:9999,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(3deg) scale(1.05)",border:"1px solid #2d3a4b",boxShadow:"0 8px 25px rgba(0,0,0,0.3)",pointerEvents:"none",minHeight:"15px",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",whiteSpace:"nowrap"},children:se.odp_number}):null})]})]}):R.jsx("div",{className:"p-1 bg-white rounded shadow-sm border",children:R.jsx("div",{className:"text-center py-1 text-red-600 text-[10px]",children:"Seleziona un centro di lavoro per visualizzare i dati dello scheduler."})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function pf(t){return t+.5|0}const Ba=(t,e,n)=>Math.max(Math.min(t,n),e);function sd(t){return Ba(pf(t*2.55),0,255)}function Wa(t){return Ba(pf(t*255),0,255)}function Us(t){return Ba(pf(t/2.55)/100,0,1)}function MO(t){return Ba(pf(t*100),0,100)}const vr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},e_=[..."0123456789ABCDEF"],tJ=t=>e_[t&15],nJ=t=>e_[(t&240)>>4]+e_[t&15],cg=t=>(t&240)>>4===(t&15),iJ=t=>cg(t.r)&&cg(t.g)&&cg(t.b)&&cg(t.a);function rJ(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&vr[t[1]]*17,g:255&vr[t[2]]*17,b:255&vr[t[3]]*17,a:e===5?vr[t[4]]*17:255}:(e===7||e===9)&&(n={r:vr[t[1]]<<4|vr[t[2]],g:vr[t[3]]<<4|vr[t[4]],b:vr[t[5]]<<4|vr[t[6]],a:e===9?vr[t[7]]<<4|vr[t[8]]:255})),n}const sJ=(t,e)=>t<255?e(t):"";function aJ(t){var e=iJ(t)?tJ:nJ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+sJ(t.a,e):void 0}const oJ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZI(t,e,n){const i=e*Math.min(n,1-n),r=(s,a=(s+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function lJ(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function cJ(t,e,n){const i=ZI(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function uJ(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function IS(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),a=Math.min(n,i,r),l=(s+a)/2;let u,d,h;return s!==a&&(h=s-a,d=l>.5?h/(2-s-a):h/(s+a),u=uJ(n,i,r,h,s),u=u*60+.5),[u|0,d||0,l]}function PS(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Wa)}function jS(t,e,n){return PS(ZI,t,e,n)}function dJ(t,e,n){return PS(cJ,t,e,n)}function fJ(t,e,n){return PS(lJ,t,e,n)}function JI(t){return(t%360+360)%360}function hJ(t){const e=oJ.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?sd(+e[5]):Wa(+e[5]));const r=JI(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=dJ(r,s,a):e[1]==="hsv"?i=fJ(r,s,a):i=jS(r,s,a),{r:i[0],g:i[1],b:i[2],a:n}}function gJ(t,e){var n=IS(t);n[0]=JI(n[0]+e),n=jS(n),t.r=n[0],t.g=n[1],t.b=n[2]}function mJ(t){if(!t)return;const e=IS(t),n=e[0],i=MO(e[1]),r=MO(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Us(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const NO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},IO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pJ(){const t={},e=Object.keys(IO),n=Object.keys(NO);let i,r,s,a,l;for(i=0;i<e.length;i++){for(a=l=e[i],r=0;r<n.length;r++)s=n[r],l=l.replace(s,NO[s]);s=parseInt(IO[a],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let ug;function yJ(t){ug||(ug=pJ(),ug.transparent=[0,0,0,0]);const e=ug[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const vJ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function bJ(t){const e=vJ.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?sd(a):Ba(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?sd(i):Ba(i,0,255)),r=255&(e[4]?sd(r):Ba(r,0,255)),s=255&(e[6]?sd(s):Ba(s,0,255)),{r:i,g:r,b:s,a:n}}}function _J(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Us(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const jb=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,cc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function SJ(t,e,n){const i=cc(Us(t.r)),r=cc(Us(t.g)),s=cc(Us(t.b));return{r:Wa(jb(i+n*(cc(Us(e.r))-i))),g:Wa(jb(r+n*(cc(Us(e.g))-r))),b:Wa(jb(s+n*(cc(Us(e.b))-s))),a:t.a+n*(e.a-t.a)}}function dg(t,e,n){if(t){let i=IS(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=jS(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function eP(t,e){return t&&Object.assign(e||{},t)}function PO(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Wa(t[3]))):(e=eP(t,{r:0,g:0,b:0,a:1}),e.a=Wa(e.a)),e}function wJ(t){return t.charAt(0)==="r"?bJ(t):hJ(t)}class Vd{constructor(e){if(e instanceof Vd)return e;const n=typeof e;let i;n==="object"?i=PO(e):n==="string"&&(i=rJ(e)||yJ(e)||wJ(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=eP(this._rgb);return e&&(e.a=Us(e.a)),e}set rgb(e){this._rgb=PO(e)}rgbString(){return this._valid?_J(this._rgb):void 0}hexString(){return this._valid?aJ(this._rgb):void 0}hslString(){return this._valid?mJ(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const a=n===s?.5:n,l=2*a-1,u=i.a-r.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-d,i.r=255&d*i.r+s*r.r+.5,i.g=255&d*i.g+s*r.g+.5,i.b=255&d*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=SJ(this._rgb,e._rgb,n)),this}clone(){return new Vd(this.rgb)}alpha(e){return this._rgb.a=Wa(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=pf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dg(this._rgb,2,e),this}darken(e){return dg(this._rgb,2,-e),this}saturate(e){return dg(this._rgb,1,e),this}desaturate(e){return dg(this._rgb,1,-e),this}rotate(e){return gJ(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ns(){}const xJ=(()=>{let t=0;return()=>t++})();function Bt(t){return t==null}function Fn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function dt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ui(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Zr(t,e){return ui(t)?t:e}function it(t,e){return typeof t>"u"?e:t}const EJ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,tP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Gt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ot(t,e,n,i){let r,s,a;if(Fn(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(dt(t))for(a=Object.keys(t),s=a.length,r=0;r<s;r++)e.call(n,t[a[r]],a[r])}function Sm(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function wm(t){if(Fn(t))return t.map(wm);if(dt(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=wm(t[n[r]]);return e}return t}function nP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function RJ(t,e,n,i){if(!nP(t))return;const r=e[t],s=n[t];dt(r)&&dt(s)?qd(r,s,i):e[t]=wm(s)}function qd(t,e,n){const i=Fn(e)?e:[e],r=i.length;if(!dt(t))return t;n=n||{};const s=n.merger||RJ;let a;for(let l=0;l<r;++l){if(a=i[l],!dt(a))continue;const u=Object.keys(a);for(let d=0,h=u.length;d<h;++d)s(u[d],t,a,n)}return t}function xd(t,e){return qd(t,e,{merger:CJ})}function CJ(t,e,n){if(!nP(t))return;const i=e[t],r=n[t];dt(i)&&dt(r)?xd(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=wm(r))}const jO={"":t=>t,x:t=>t.x,y:t=>t.y};function TJ(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function AJ(t){const e=TJ(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Wd(t,e){return(jO[e]||(jO[e]=AJ(e)))(t)}function LS(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xm=t=>typeof t<"u",Za=t=>typeof t=="function",LO=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function OJ(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Dt=Math.PI,ln=2*Dt,DJ=ln+Dt,Em=Number.POSITIVE_INFINITY,kJ=Dt/180,Un=Dt/2,Oo=Dt/4,FO=Dt*2/3,iP=Math.log10,Nc=Math.sign;function Ed(t,e,n){return Math.abs(t-e)<n}function UO(t){const e=Math.round(t);t=Ed(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(iP(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function MJ(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function NJ(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Gd(t){return!NJ(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function IJ(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function PJ(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Vs(t){return t*(Dt/180)}function jJ(t){return t*(180/Dt)}function zO(t){if(!ui(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function rP(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Dt&&(s+=ln),{angle:s,distance:r}}function t_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function LJ(t,e){return(t-e+DJ)%ln-Dt}function Wi(t){return(t%ln+ln)%ln}function Yd(t,e,n,i){const r=Wi(t),s=Wi(e),a=Wi(n),l=Wi(s-r),u=Wi(a-r),d=Wi(r-s),h=Wi(r-a);return r===s||r===a||i&&s===a||l>u&&d<h}function yi(t,e,n){return Math.max(e,Math.min(n,t))}function FJ(t){return yi(t,-32768,32767)}function Go(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function FS(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Yo=(t,e,n,i)=>FS(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),UJ=(t,e,n)=>FS(t,n,i=>t[i][e]>=n);function zJ(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const sP=["push","pop","shift","splice","unshift"];function HJ(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),sP.forEach(n=>{const i="_onData"+LS(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),a}})})}function HO(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(sP.forEach(s=>{delete t[s]}),delete t._chartjs)}function BJ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const aP=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function oP(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,aP.call(window,()=>{i=!1,t.apply(e,n)}))}}function $J(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const US=t=>t==="start"?"left":t==="end"?"right":"center",si=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,VJ=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function qJ(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:a,vScale:l,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=a.axis,{min:m,max:p,minDefined:y,maxDefined:b}=a.getUserBounds();if(y){if(r=Math.min(Yo(u,h,m).lo,n?i:Yo(e,h,a.getPixelForValue(m)).lo),d){const _=u.slice(0,r+1).reverse().findIndex(w=>!Bt(w[l.axis]));r-=Math.max(0,_)}r=yi(r,0,i-1)}if(b){let _=Math.max(Yo(u,a.axis,p,!0).hi+1,n?0:Yo(e,h,a.getPixelForValue(p),!0).hi+1);if(d){const w=u.slice(_-1).findIndex(x=>!Bt(x[l.axis]));_+=Math.max(0,w)}s=yi(_,r,i)-r}else s=i-r}return{start:r,count:s}}function WJ(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const fg=t=>t===0||t===1,BO=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ln/n)),$O=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ln/n)+1,Rd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Un)+1,easeOutSine:t=>Math.sin(t*Un),easeInOutSine:t=>-.5*(Math.cos(Dt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>fg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>fg(t)?t:BO(t,.075,.3),easeOutElastic:t=>fg(t)?t:$O(t,.075,.3),easeInOutElastic(t){return fg(t)?t:t<.5?.5*BO(t*2,.1125,.45):.5+.5*$O(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Rd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Rd.easeInBounce(t*2)*.5:Rd.easeOutBounce(t*2-1)*.5+.5};function zS(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function VO(t){return zS(t)?t:new Vd(t)}function Lb(t){return zS(t)?t:new Vd(t).saturate(.5).darken(.1).hexString()}const GJ=["x","y","borderWidth","radius","tension"],YJ=["color","borderColor","backgroundColor"];function QJ(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:YJ},numbers:{type:"number",properties:GJ}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function KJ(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const qO=new Map;function XJ(t,e){e=e||{};const n=t+JSON.stringify(e);let i=qO.get(n);return i||(i=new Intl.NumberFormat(t,e),qO.set(n,i)),i}function HS(t,e,n){return XJ(e,n).format(t)}const ZJ={values(t){return Fn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=JJ(t,n)}const a=iP(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),HS(t,i,u)}};function JJ(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var lP={formatters:ZJ};function eee(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lP.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const rl=Object.create(null),n_=Object.create(null);function Cd(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Fb(t,e,n){return typeof e=="string"?qd(Cd(t,e),n):qd(Cd(t,""),e)}class tee{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Lb(r.backgroundColor),this.hoverBorderColor=(i,r)=>Lb(r.borderColor),this.hoverColor=(i,r)=>Lb(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Fb(this,e,n)}get(e){return Cd(this,e)}describe(e,n){return Fb(n_,e,n)}override(e,n){return Fb(rl,e,n)}route(e,n,i,r){const s=Cd(this,e),a=Cd(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=a[r];return dt(u)?Object.assign({},d,u):it(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var bn=new tee({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[QJ,KJ,eee]);function nee(t){return!t||Bt(t.size)||Bt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function WO(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Do(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function GO(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function i_(t,e,n,i){cP(t,e,n,i,null)}function cP(t,e,n,i,r){let s,a,l,u,d,h,m,p;const y=e.pointStyle,b=e.rotation,_=e.radius;let w=(b||0)*kJ;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(w),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),y){default:r?t.ellipse(n,i,r/2,_,0,0,ln):t.arc(n,i,_,0,ln),t.closePath();break;case"triangle":h=r?r/2:_,t.moveTo(n+Math.sin(w)*h,i-Math.cos(w)*_),w+=FO,t.lineTo(n+Math.sin(w)*h,i-Math.cos(w)*_),w+=FO,t.lineTo(n+Math.sin(w)*h,i-Math.cos(w)*_),t.closePath();break;case"rectRounded":d=_*.516,u=_-d,a=Math.cos(w+Oo)*u,m=Math.cos(w+Oo)*(r?r/2-d:u),l=Math.sin(w+Oo)*u,p=Math.sin(w+Oo)*(r?r/2-d:u),t.arc(n-m,i-l,d,w-Dt,w-Un),t.arc(n+p,i-a,d,w-Un,w),t.arc(n+m,i+l,d,w,w+Un),t.arc(n-p,i+a,d,w+Un,w+Dt),t.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*_,h=r?r/2:u,t.rect(n-h,i-u,2*h,2*u);break}w+=Oo;case"rectRot":m=Math.cos(w)*(r?r/2:_),a=Math.cos(w)*_,l=Math.sin(w)*_,p=Math.sin(w)*(r?r/2:_),t.moveTo(n-m,i-l),t.lineTo(n+p,i-a),t.lineTo(n+m,i+l),t.lineTo(n-p,i+a),t.closePath();break;case"crossRot":w+=Oo;case"cross":m=Math.cos(w)*(r?r/2:_),a=Math.cos(w)*_,l=Math.sin(w)*_,p=Math.sin(w)*(r?r/2:_),t.moveTo(n-m,i-l),t.lineTo(n+m,i+l),t.moveTo(n+p,i-a),t.lineTo(n-p,i+a);break;case"star":m=Math.cos(w)*(r?r/2:_),a=Math.cos(w)*_,l=Math.sin(w)*_,p=Math.sin(w)*(r?r/2:_),t.moveTo(n-m,i-l),t.lineTo(n+m,i+l),t.moveTo(n+p,i-a),t.lineTo(n-p,i+a),w+=Oo,m=Math.cos(w)*(r?r/2:_),a=Math.cos(w)*_,l=Math.sin(w)*_,p=Math.sin(w)*(r?r/2:_),t.moveTo(n-m,i-l),t.lineTo(n+m,i+l),t.moveTo(n+p,i-a),t.lineTo(n-p,i+a);break;case"line":a=r?r/2:Math.cos(w)*_,l=Math.sin(w)*_,t.moveTo(n-a,i-l),t.lineTo(n+a,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(w)*(r?r/2:_),i+Math.sin(w)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Qd(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function cp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function up(t){t.restore()}function iee(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function ree(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function see(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Bt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function aee(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,h=r.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,h),t.lineTo(l,h),t.stroke()}}function oee(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Kd(t,e,n,i,r,s={}){const a=Fn(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(t.save(),t.font=r.string,see(t,s),u=0;u<a.length;++u)d=a[u],s.backdrop&&oee(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Bt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,i,s.maxWidth)),t.fillText(d,n,i,s.maxWidth),aee(t,n,i,d,s),i+=Number(r.lineHeight);t.restore()}function r_(t,e){const{x:n,y:i,w:r,h:s,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*Dt,Dt,!0),t.lineTo(n,i+s-a.bottomLeft),t.arc(n+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,Dt,Un,!0),t.lineTo(n+r-a.bottomRight,i+s),t.arc(n+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Un,0,!0),t.lineTo(n+r,i+a.topRight),t.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-Un,!0),t.lineTo(n+a.topLeft,i)}const lee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cee=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uee(t,e){const n=(""+t).match(lee);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const dee=t=>+t||0;function BS(t,e){const n={},i=dt(e),r=i?Object.keys(e):e,s=dt(t)?i?a=>it(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=dee(s(a));return n}function fee(t){return BS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Td(t){return BS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Rr(t){const e=fee(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ci(t,e){t=t||{},e=e||bn.font;let n=it(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=it(t.style,e.style);i&&!(""+i).match(cee)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:it(t.family,e.family),lineHeight:uee(it(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:it(t.weight,e.weight),string:""};return r.string=nee(r),r}function hg(t,e,n,i){let r,s,a;for(r=0,s=t.length;r<s;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function hee(t,e,n){const{min:i,max:r}=t,s=tP(e,(r-i)/2),a=(l,u)=>n&&l===0?0:l+u;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function hl(t,e){return Object.assign(Object.create(t),e)}function $S(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=hP("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>$S([l,...t],e,s,i)};return new Proxy(a,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return dP(l,u,()=>See(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return QO(l).includes(u)},ownKeys(l){return QO(l)},set(l,u,d){const h=l._storage||(l._storage=r());return l[u]=h[u]=d,delete l._keys,!0}})}function Ic(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:uP(t,i),setContext:s=>Ic(t,s,n,i),override:s=>Ic(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,l){return dP(s,a,()=>mee(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,l){return t[a]=l,delete s[a],!0}})}function uP(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Za(n)?n:()=>n,isIndexable:Za(i)?i:()=>i}}const gee=(t,e)=>t?t+LS(e):e,VS=(t,e)=>dt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dP(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function mee(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=t;let l=i[e];return Za(l)&&a.isScriptable(e)&&(l=pee(e,l,t,n)),Fn(l)&&l.length&&(l=yee(e,l,t,a.isIndexable)),VS(e,l)&&(l=Ic(l,r,s&&s[e],a)),l}function pee(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,a||i);return l.delete(t),VS(t,u)&&(u=qS(r._scopes,r,t,u)),u}function yee(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(dt(e[0])){const u=e,d=r._scopes.filter(h=>h!==u);e=[];for(const h of u){const m=qS(d,r,t,h);e.push(Ic(m,s,a&&a[t],l))}}return e}function fP(t,e,n){return Za(t)?t(e,n):t}const vee=(t,e)=>t===!0?e:typeof t=="string"?Wd(e,t):void 0;function bee(t,e,n,i,r){for(const s of e){const a=vee(n,s);if(a){t.add(a);const l=fP(a._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function qS(t,e,n,i){const r=e._rootScopes,s=fP(e._fallback,n,i),a=[...t,...r],l=new Set;l.add(i);let u=YO(l,a,n,s||n,i);return u===null||typeof s<"u"&&s!==n&&(u=YO(l,a,s,u,i),u===null)?!1:$S(Array.from(l),[""],r,s,()=>_ee(e,n,i))}function YO(t,e,n,i,r){for(;n;)n=bee(t,e,n,i,r);return n}function _ee(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Fn(r)&&dt(n)?n:r||{}}function See(t,e,n,i){let r;for(const s of e)if(r=hP(gee(s,t),n),typeof r<"u")return VS(t,r)?qS(n,i,t,r):r}function hP(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function QO(t){let e=t._keys;return e||(e=t._keys=wee(t._scopes)),e}function wee(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const xee=Number.EPSILON||1e-14,Pc=(t,e)=>e<t.length&&!t[e].skip&&t[e],gP=t=>t==="x"?"y":"x";function Eee(t,e,n,i){const r=t.skip?e:t,s=e,a=n.skip?e:n,l=t_(s,r),u=t_(a,s);let d=l/(l+u),h=u/(l+u);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const m=i*d,p=i*h;return{previous:{x:s.x-m*(a.x-r.x),y:s.y-m*(a.y-r.y)},next:{x:s.x+p*(a.x-r.x),y:s.y+p*(a.y-r.y)}}}function Ree(t,e,n){const i=t.length;let r,s,a,l,u,d=Pc(t,0);for(let h=0;h<i-1;++h)if(u=d,d=Pc(t,h+1),!(!u||!d)){if(Ed(e[h],0,xee)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),n[h]=r*a*e[h],n[h+1]=s*a*e[h])}}function Cee(t,e,n="x"){const i=gP(n),r=t.length;let s,a,l,u=Pc(t,0);for(let d=0;d<r;++d){if(a=l,l=u,u=Pc(t,d+1),!l)continue;const h=l[n],m=l[i];a&&(s=(h-a[n])/3,l[`cp1${n}`]=h-s,l[`cp1${i}`]=m-s*e[d]),u&&(s=(u[n]-h)/3,l[`cp2${n}`]=h+s,l[`cp2${i}`]=m+s*e[d])}}function Tee(t,e="x"){const n=gP(e),i=t.length,r=Array(i).fill(0),s=Array(i);let a,l,u,d=Pc(t,0);for(a=0;a<i;++a)if(l=u,u=d,d=Pc(t,a+1),!!u){if(d){const h=d[e]-u[e];r[a]=h!==0?(d[n]-u[n])/h:0}s[a]=l?d?Nc(r[a-1])!==Nc(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}Ree(t,r,s),Cee(t,s,e)}function gg(t,e,n){return Math.max(Math.min(t,n),e)}function Aee(t,e){let n,i,r,s,a,l=Qd(t[0],e);for(n=0,i=t.length;n<i;++n)a=s,s=l,l=n<i-1&&Qd(t[n+1],e),s&&(r=t[n],a&&(r.cp1x=gg(r.cp1x,e.left,e.right),r.cp1y=gg(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=gg(r.cp2x,e.left,e.right),r.cp2y=gg(r.cp2y,e.top,e.bottom)))}function Oee(t,e,n,i,r){let s,a,l,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Tee(t,r);else{let d=i?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)l=t[s],u=Eee(d,l,t[Math.min(s+1,a-(i?0:1))%a],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}e.capBezierPoints&&Aee(t,n)}function WS(){return typeof window<"u"&&typeof document<"u"}function GS(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Rm(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const dp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Dee(t,e){return dp(t).getPropertyValue(e)}const kee=["top","right","bottom","left"];function Zo(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=kee[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Mee=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Nee(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let a=!1,l,u;if(Mee(r,s,t.target))l=r,u=s;else{const d=e.getBoundingClientRect();l=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:l,y:u,box:a}}function Lo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=dp(n),s=r.boxSizing==="border-box",a=Zo(r,"padding"),l=Zo(r,"border","width"),{x:u,y:d,box:h}=Nee(t,n),m=a.left+(h&&l.left),p=a.top+(h&&l.top);let{width:y,height:b}=e;return s&&(y-=a.width+l.width,b-=a.height+l.height),{x:Math.round((u-m)/y*n.width/i),y:Math.round((d-p)/b*n.height/i)}}function Iee(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&GS(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),l=dp(s),u=Zo(l,"border","width"),d=Zo(l,"padding");e=a.width-d.width-u.width,n=a.height-d.height-u.height,i=Rm(l.maxWidth,s,"clientWidth"),r=Rm(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Em,maxHeight:r||Em}}const $a=t=>Math.round(t*10)/10;function Pee(t,e,n,i){const r=dp(t),s=Zo(r,"margin"),a=Rm(r.maxWidth,t,"clientWidth")||Em,l=Rm(r.maxHeight,t,"clientHeight")||Em,u=Iee(t,e,n);let{width:d,height:h}=u;if(r.boxSizing==="content-box"){const p=Zo(r,"border","width"),y=Zo(r,"padding");d-=y.width+p.width,h-=y.height+p.height}return d=Math.max(0,d-s.width),h=Math.max(0,i?d/i:h-s.height),d=$a(Math.min(d,a,u.maxWidth)),h=$a(Math.min(h,l,u.maxHeight)),d&&!h&&(h=$a(d/2)),(e!==void 0||n!==void 0)&&i&&u.height&&h>u.height&&(h=u.height,d=$a(Math.floor(h*i))),{width:d,height:h}}function KO(t,e,n){const i=e||1,r=$a(t.height*i),s=$a(t.width*i);t.height=$a(t.height),t.width=$a(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(t.currentDevicePixelRatio=i,a.height=r,a.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const jee=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};WS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function XO(t,e){const n=Dee(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Fo(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Lee(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Fee(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=Fo(t,r,n),l=Fo(r,s,n),u=Fo(s,e,n),d=Fo(a,l,n),h=Fo(l,u,n);return Fo(d,h,n)}const Uee=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},zee=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Cc(t,e,n){return t?Uee(e,n):zee()}function mP(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function pP(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function yP(t){return t==="angle"?{between:Yd,compare:LJ,normalize:Wi}:{between:Go,compare:(e,n)=>e-n,normalize:e=>e}}function ZO({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function Hee(t,e,n){const{property:i,start:r,end:s}=n,{between:a,normalize:l}=yP(i),u=e.length;let{start:d,end:h,loop:m}=t,p,y;if(m){for(d+=u,h+=u,p=0,y=u;p<y&&a(l(e[d%u][i]),r,s);++p)d--,h--;d%=u,h%=u}return h<d&&(h+=u),{start:d,end:h,loop:m,style:t.style}}function vP(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,a=e.length,{compare:l,between:u,normalize:d}=yP(i),{start:h,end:m,loop:p,style:y}=Hee(t,e,n),b=[];let _=!1,w=null,x,E,C;const D=()=>u(r,C,x)&&l(r,C)!==0,O=()=>l(s,x)===0||u(s,C,x),N=()=>_||D(),I=()=>!_||O();for(let k=h,j=h;k<=m;++k)E=e[k%a],!E.skip&&(x=d(E[i]),x!==C&&(_=u(x,r,s),w===null&&N()&&(w=l(x,r)===0?k:j),w!==null&&I()&&(b.push(ZO({start:w,end:k,loop:p,count:a,style:y})),w=null),j=k,C=x));return w!==null&&b.push(ZO({start:w,end:m,loop:p,count:a,style:y})),b}function bP(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=vP(i[r],t.points,e);s.length&&n.push(...s)}return n}function Bee(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function $ee(t,e,n,i){const r=t.length,s=[];let a=e,l=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%r];d.skip||d.stop?l.skip||(i=!1,s.push({start:e%r,end:(u-1)%r,loop:i}),e=a=d.stop?u:null):(a=u,l.skip&&(e=u)),l=d}return a!==null&&s.push({start:e%r,end:a%r,loop:i}),s}function Vee(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:a,end:l}=Bee(n,r,s,i);if(i===!0)return JO(t,[{start:a,end:l,loop:s}],n,e);const u=l<a?l+r:l,d=!!t._fullLoop&&a===0&&l===r-1;return JO(t,$ee(n,a,u,d),n,e)}function JO(t,e,n,i){return!i||!i.setContext||!n?e:qee(t,e,n,i)}function qee(t,e,n,i){const r=t._chart.getContext(),s=eD(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,u=n.length,d=[];let h=s,m=e[0].start,p=m;function y(b,_,w,x){const E=l?-1:1;if(b!==_){for(b+=u;n[b%u].skip;)b-=E;for(;n[_%u].skip;)_+=E;b%u!==_%u&&(d.push({start:b%u,end:_%u,loop:w,style:x}),h=x,m=_%u)}}for(const b of e){m=l?m:b.start;let _=n[m%u],w;for(p=m+1;p<=b.end;p++){const x=n[p%u];w=eD(i.setContext(hl(r,{type:"segment",p0:_,p1:x,p0DataIndex:(p-1)%u,p1DataIndex:p%u,datasetIndex:a}))),Wee(w,h)&&y(m,p-1,b.loop,h),_=x,h=w}m<p-1&&y(m,p-1,b.loop,h)}return d}function eD(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Wee(t,e){if(!e)return!1;const n=[],i=function(r,s){return zS(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function mg(t,e,n){return t.options.clip?t[n]:e[n]}function Gee(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:mg(n,e,"left"),right:mg(n,e,"right"),top:mg(i,e,"top"),bottom:mg(i,e,"bottom")}:e}function _P(t,e){const n=e._clip;if(n.disabled)return!1;const i=Gee(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Yee{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],a=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=aP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,l=!1,u;for(;a>=0;--a)u=s[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Is=new Yee;const tD="transparent",Qee={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=VO(t||tD),r=i.valid&&VO(e||tD);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Kee{constructor(e,n,i,r){const s=n[i];r=hg([e.to,r,s,e.from]);const a=hg([e.from,s,r]);this._active=!0,this._fn=e.fn||Qee[e.type||typeof a],this._easing=Rd[e.easing]||Rd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=hg([e.to,n,r,e.from]),this._from=hg([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,l=this._to;let u;if(this._active=s!==l&&(a||n<i),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=s;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class SP{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!dt(e))return;const n=Object.keys(bn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!dt(s))return;const a={};for(const l of n)a[l]=s[l];(Fn(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,a)})})}_animateOptions(e,n){const i=n.options,r=Zee(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&Xee(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[d];let m=s[d];const p=i.get(d);if(m)if(p&&m.active()){m.update(p,h,l);continue}else m.cancel();if(!p||!p.duration){e[d]=h;continue}s[d]=m=new Kee(p,e,d,h),r.push(m)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Is.add(this._chart,i),!0}}function Xee(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Zee(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function nD(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function Jee(t,e,n){if(n===!1)return!1;const i=nD(t,n),r=nD(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function ete(t){let e,n,i,r;return dt(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function wP(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function iD(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let a,l,u,d;if(e===null)return;let h=!1;for(a=0,l=r.length;a<l;++a){if(u=+r[a],u===n){if(h=!0,i.all)continue;break}d=t.values[u],ui(d)&&(s||e===0||Nc(e)===Nc(d))&&(e+=d)}return!h&&!i.all?0:e}function tte(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let u,d,h;for(u=0,d=a.length;u<d;++u)h=a[u],l[u]={[r]:h,[s]:t[h]};return l}function Ub(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function nte(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function ite(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function rte(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function rD(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function sD(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:l}=i,u=s.axis,d=a.axis,h=nte(s,a,i),m=e.length;let p;for(let y=0;y<m;++y){const b=e[y],{[u]:_,[d]:w}=b,x=b._stacks||(b._stacks={});p=x[d]=rte(r,h,_),p[l]=w,p._top=rD(p,a,!0,i.type),p._bottom=rD(p,a,!1,i.type);const E=p._visualValues||(p._visualValues={});E[l]=w}}function zb(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function ste(t,e){return hl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ate(t,e,n){return hl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Zu(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Hb=t=>t==="reset"||t==="none",aD=(t,e)=>e?t:Object.assign({},t),ote=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:wP(n,!0),values:null};class YS{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ub(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(m,p,y,b)=>m==="x"?p:m==="r"?b:y,s=n.xAxisID=it(i.xAxisID,zb(e,"x")),a=n.yAxisID=it(i.yAxisID,zb(e,"y")),l=n.rAxisID=it(i.rAxisID,zb(e,"r")),u=n.indexAxis,d=n.iAxisID=r(u,s,a,l),h=n.vAxisID=r(u,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&HO(this._data,this),e._stacked&&Zu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(dt(n)){const r=this._cachedMeta;this._data=tte(n,r)}else if(i!==n){if(i){HO(i,this);const r=this._cachedMeta;Zu(r),r._parsed=[]}n&&Object.isExtensible(n)&&HJ(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Ub(n.vScale,n),n.stack!==i.stack&&(r=!0,Zu(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(sD(this,n._parsed),n._stacked=Ub(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,l=s.axis;let u=e===0&&n===r.length?!0:i._sorted,d=e>0&&i._parsed[e-1],h,m,p;if(this._parsing===!1)i._parsed=r,i._sorted=!0,p=r;else{Fn(r[e])?p=this.parseArrayData(i,r,e,n):dt(r[e])?p=this.parseObjectData(i,r,e,n):p=this.parsePrimitiveData(i,r,e,n);const y=()=>m[l]===null||d&&m[l]<d[l];for(h=0;h<n;++h)i._parsed[h+e]=m=p[h],u&&(y()&&(u=!1),d=m);i._sorted=u}a&&sD(this,p)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:a}=e,l=s.axis,u=a.axis,d=s.getLabels(),h=s===a,m=new Array(r);let p,y,b;for(p=0,y=r;p<y;++p)b=p+i,m[p]={[l]:h||s.parse(d[b],b),[u]:a.parse(n[b],b)};return m}parseArrayData(e,n,i,r){const{xScale:s,yScale:a}=e,l=new Array(r);let u,d,h,m;for(u=0,d=r;u<d;++u)h=u+i,m=n[h],l[u]={x:s.parse(m[0],h),y:a.parse(m[1],h)};return l}parseObjectData(e,n,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(r);let h,m,p,y;for(h=0,m=r;h<m;++h)p=h+i,y=n[p],d[h]={x:s.parse(Wd(y,l),p),y:a.parse(Wd(y,u),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,a=n[e.axis],l={keys:wP(r,!0),values:n._stacks[e.axis]._visualValues};return iD(l,a,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let a=s===null?NaN:s;const l=r&&i._stacks[n.axis];r&&l&&(r.values=l,a=iD(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,l=this._getOtherScale(e),u=ote(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:m}=ite(l);let p,y;function b(){y=r[p];const _=y[l.axis];return!ui(y[e.axis])||h>_||m<_}for(p=0;p<a&&!(!b()&&(this.updateRangeFromParsed(d,e,y,u),s));++p);if(s){for(p=a-1;p>=0;--p)if(!b()){this.updateRangeFromParsed(d,e,y,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=n.length;r<s;++r)a=n[r][e.axis],ui(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ete(it(this.options.clip,Jee(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,l,u),h=l;h<l+u;++h){const m=r[h];m.hidden||(m.active&&d?a.push(m):m.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=ate(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=ste(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,a=e+"-"+n,l=s[a],u=this.enableOptionSharing&&xm(i);if(l)return aD(l,u);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),m=r?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),h),y=Object.keys(bn.elements[e]),b=()=>this.getContext(i,r,n),_=d.resolveNamedOptions(p,y,b,m);return _.$shared&&(_.$shared=u,s[a]=Object.freeze(aD(_,u))),_}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let u;if(r.options.animation!==!1){const h=this.chart.config,m=h.datasetAnimationScopeKeys(this._type,n),p=h.getOptionScopes(this.getDataset(),m);u=h.createResolver(p,this.getContext(e,i,n))}const d=new SP(r,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Hb(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:a}}updateElement(e,n,i,r){Hb(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Hb(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const r=i.length,s=n.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,a=e+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(u(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Zu(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function lte(t,e,n){let i=1,r=1,s=0,a=0;if(e<ln){const l=t,u=l+e,d=Math.cos(l),h=Math.sin(l),m=Math.cos(u),p=Math.sin(u),y=(C,D,O)=>Yd(C,l,u,!0)?1:Math.max(D,D*n,O,O*n),b=(C,D,O)=>Yd(C,l,u,!0)?-1:Math.min(D,D*n,O,O*n),_=y(0,d,m),w=y(Un,h,p),x=b(Dt,d,m),E=b(Dt+Un,h,p);i=(_-x)/2,r=(w-E)/2,s=-(_+x)/2,a=-(w+E)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}class cte extends YS{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,d)=>{const m=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:m.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:r,pointStyle:i,borderRadius:a&&(l||m.borderRadius),index:d}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(dt(i[e])){const{key:u="value"}=this._parsing;s=d=>+Wd(i[d],u)}let a,l;for(a=e,l=e+n;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return Vs(this.options.rotation-90)}_getCircumference(){return Vs(this.options.circumference)}_getRotationExtents(){let e=ln,n=-ln;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(EJ(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:m}=this._getRotationExtents(),{ratioX:p,ratioY:y,offsetX:b,offsetY:_}=lte(m,h,u),w=(i.width-a)/p,x=(i.height-a)/y,E=Math.max(Math.min(w,x)/2,0),C=tP(this.options.radius,E),D=Math.max(C*u,0),O=(C-D)/this._getVisibleDatasetWeightTotal();this.offsetX=b*C,this.offsetY=_*C,r.total=this.calculateTotal(),this.outerRadius=C-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/ln)}updateElements(e,n,i,r){const s=r==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,h=(l.left+l.right)/2,m=(l.top+l.bottom)/2,p=s&&d.animateScale,y=p?0:this.innerRadius,b=p?0:this.outerRadius,{sharedOptions:_,includeOptions:w}=this._getSharedOptions(n,r);let x=this._getRotation(),E;for(E=0;E<n;++E)x+=this._circumference(E,s);for(E=n;E<n+i;++E){const C=this._circumference(E,s),D=e[E],O={x:h+this.offsetX,y:m+this.offsetY,startAngle:x,endAngle:x+C,circumference:C,outerRadius:b,innerRadius:y};w&&(O.options=_||this.resolveDataElementOptions(E,D.active?"active":r)),x+=C,this.updateElement(D,E,O,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ln*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=HS(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,a,l,u;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)u=l.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(it(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class ute extends YS{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:l,count:u}=qJ(n,r,a);this._drawStart=l,this._drawCount=u,WJ(n)&&(l=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},e),this.updateElements(r,l,u,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(n,r),p=a.axis,y=l.axis,{spanGaps:b,segment:_}=this.options,w=Gd(b)?b:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none",E=n+i,C=e.length;let D=n>0&&this.getParsed(n-1);for(let O=0;O<C;++O){const N=e[O],I=x?N:{};if(O<n||O>=E){I.skip=!0;continue}const k=this.getParsed(O),j=Bt(k[y]),H=I[p]=a.getPixelForValue(k[p],O),$=I[y]=s||j?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,k,u):k[y],O);I.skip=isNaN(H)||isNaN($)||j,I.stop=O>0&&Math.abs(k[p]-D[p])>w,_&&(I.parsed=k,I.raw=d.data[O]),m&&(I.options=h||this.resolveDataElementOptions(O,N.active?"active":r)),x||this.updateElement(N,O,I,r),D=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class dte extends cte{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function ko(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class QS{static override(e){Object.assign(QS.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ko()}parse(){return ko()}format(){return ko()}add(){return ko()}diff(){return ko()}startOf(){return ko()}endOf(){return ko()}}var fte={_date:QS};function hte(t,e,n,i){const{controller:r,data:s,_sorted:a}=t,l=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const d=l._reversePixels?UJ:Yo;if(i){if(r._sharedOptions){const h=s[0],m=typeof h.getRange=="function"&&h.getRange(e);if(m){const p=d(s,e,n-m),y=d(s,e,n+m);return{lo:p.lo,hi:y.hi}}}}else{const h=d(s,e,n);if(u){const{vScale:m}=r._cachedMeta,{_parsed:p}=t,y=p.slice(0,h.lo+1).reverse().findIndex(_=>!Bt(_[m.axis]));h.lo-=Math.max(0,y);const b=p.slice(h.hi).findIndex(_=>!Bt(_[m.axis]));h.hi+=Math.max(0,b)}return h}}return{lo:0,hi:s.length-1}}function fp(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,u=s.length;l<u;++l){const{index:d,data:h}=s[l],{lo:m,hi:p}=hte(s[l],e,a,r);for(let y=m;y<=p;++y){const b=h[y];b.skip||i(b,d,y)}}}function gte(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Bb(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||fp(t,n,e,function(l,u,d){!r&&!Qd(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:u,index:d})},!0),s}function mte(t,e,n,i){let r=[];function s(a,l,u){const{startAngle:d,endAngle:h}=a.getProps(["startAngle","endAngle"],i),{angle:m}=rP(a,{x:e.x,y:e.y});Yd(m,d,h)&&r.push({element:a,datasetIndex:l,index:u})}return fp(t,n,e,s),r}function pte(t,e,n,i,r,s){let a=[];const l=gte(n);let u=Number.POSITIVE_INFINITY;function d(h,m,p){const y=h.inRange(e.x,e.y,r);if(i&&!y)return;const b=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(b))&&!y)return;const w=l(e,b);w<u?(a=[{element:h,datasetIndex:m,index:p}],u=w):w===u&&a.push({element:h,datasetIndex:m,index:p})}return fp(t,n,e,d),a}function $b(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?mte(t,e,n,r):pte(t,e,n,i,r,s)}function oD(t,e,n,i,r){const s=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return fp(t,n,e,(u,d,h)=>{u[a]&&u[a](e[n],r)&&(s.push({element:u,datasetIndex:d,index:h}),l=l||u.inRange(e.x,e.y,r))}),i&&!l?[]:s}var yte={modes:{index(t,e,n,i){const r=Lo(e,t),s=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?Bb(t,r,s,i,a):$b(t,r,s,!1,i,a),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,m=d.data[h];m&&!m.skip&&u.push({element:m,datasetIndex:d.index,index:h})}),u):[]},dataset(t,e,n,i){const r=Lo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?Bb(t,r,s,i,a):$b(t,r,s,!1,i,a);if(l.length>0){const u=l[0].datasetIndex,d=t.getDatasetMeta(u).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:u,index:h})}return l},point(t,e,n,i){const r=Lo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return Bb(t,r,s,i,a)},nearest(t,e,n,i){const r=Lo(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return $b(t,r,s,n.intersect,i,a)},x(t,e,n,i){const r=Lo(e,t);return oD(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Lo(e,t);return oD(t,r,"y",n.intersect,i)}}};const xP=["left","top","right","bottom"];function Ju(t,e){return t.filter(n=>n.pos===e)}function lD(t,e){return t.filter(n=>xP.indexOf(n.pos)===-1&&n.box.axis===e)}function ed(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function vte(t){const e=[];let n,i,r,s,a,l;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:a,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:l});return e}function bte(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!xP.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function _te(t,e){const n=bte(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,l;for(s=0,a=t.length;s<a;++s){l=t[s];const{fullSize:u}=l.box,d=n[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*i:u&&e.availableWidth,l.height=r):(l.width=i,l.height=h?h*r:u&&e.availableHeight)}return n}function Ste(t){const e=vte(t),n=ed(e.filter(d=>d.box.fullSize),!0),i=ed(Ju(e,"left"),!0),r=ed(Ju(e,"right")),s=ed(Ju(e,"top"),!0),a=ed(Ju(e,"bottom")),l=lD(e,"x"),u=lD(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(a).concat(l),chartArea:Ju(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(a).concat(l)}}function cD(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function EP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function wte(t,e,n,i){const{pos:r,box:s}=n,a=t.maxPadding;if(!dt(r)){n.size&&(t[r]-=n.size);const m=i[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?s.height:s.width),n.size=m.size/m.count,t[r]+=n.size}s.getPadding&&EP(a,s.getPadding());const l=Math.max(0,e.outerWidth-cD(a,t,"left","right")),u=Math.max(0,e.outerHeight-cD(a,t,"top","bottom")),d=l!==t.w,h=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:d,other:h}:{same:h,other:d}}function xte(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Ete(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return i(t?["left","right"]:["top","bottom"])}function ad(t,e,n,i){const r=[];let s,a,l,u,d,h;for(s=0,a=t.length,d=0;s<a;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,Ete(l.horizontal,e));const{same:m,other:p}=wte(e,n,l,i);d|=m&&r.length,h=h||p,u.fullSize||r.push(l)}return d&&ad(r,e,n,i)||h}function pg(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function uD(t,e,n,i){const r=n.padding;let{x:s,y:a}=e;for(const l of t){const u=l.box,d=i[l.stack]||{placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const m=e.w*h,p=d.size||u.height;xm(d.start)&&(a=d.start),u.fullSize?pg(u,r.left,a,n.outerWidth-r.right-r.left,p):pg(u,e.left+d.placed,a,m,p),d.start=a,d.placed+=m,a=u.bottom}else{const m=e.h*h,p=d.size||u.width;xm(d.start)&&(s=d.start),u.fullSize?pg(u,s,r.top,p,n.outerHeight-r.bottom-r.top):pg(u,s,e.top+d.placed,p,m),d.start=s,d.placed+=m,s=u.right}}e.x=s,e.y=a}var xr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Rr(t.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(n-r.height,0),l=Ste(t.boxes),u=l.vertical,d=l.horizontal;Ot(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const h=u.reduce((_,w)=>w.box.options&&w.box.options.display===!1?_:_+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/h,hBoxMaxHeight:a/2}),p=Object.assign({},r);EP(p,Rr(i));const y=Object.assign({maxPadding:p,w:s,h:a,x:r.left,y:r.top},r),b=_te(u.concat(d),m);ad(l.fullSize,y,m,b),ad(u,y,m,b),ad(d,y,m,b)&&ad(u,y,m,b),xte(y),uD(l.leftAndTop,y,m,b),y.x+=y.w,y.y+=y.h,uD(l.rightAndBottom,y,m,b),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Ot(l.chartArea,_=>{const w=_.box;Object.assign(w,t.chartArea),w.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class RP{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Rte extends RP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Pg="$chartjs",Cte={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dD=t=>t===null||t==="";function Tte(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Pg]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",dD(r)){const s=XO(t,"width");s!==void 0&&(t.width=s)}if(dD(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=XO(t,"height");s!==void 0&&(t.height=s)}return t}const CP=jee?{passive:!0}:!1;function Ate(t,e,n){t&&t.addEventListener(e,n,CP)}function Ote(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,CP)}function Dte(t,e){const n=Cte[t.type]||t.type,{x:i,y:r}=Lo(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Cm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kte(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||Cm(l.addedNodes,i),a=a&&!Cm(l.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function Mte(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||Cm(l.removedNodes,i),a=a&&!Cm(l.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Xd=new Map;let fD=0;function TP(){const t=window.devicePixelRatio;t!==fD&&(fD=t,Xd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Nte(t,e){Xd.size||window.addEventListener("resize",TP),Xd.set(t,e)}function Ite(t){Xd.delete(t),Xd.size||window.removeEventListener("resize",TP)}function Pte(t,e,n){const i=t.canvas,r=i&&GS(i);if(!r)return;const s=oP((l,u)=>{const d=r.clientWidth;n(l,u),d<r.clientWidth&&n()},window),a=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,h=u.contentRect.height;d===0&&h===0||s(d,h)});return a.observe(r),Nte(t,s),a}function Vb(t,e,n){n&&n.disconnect(),e==="resize"&&Ite(t)}function jte(t,e,n){const i=t.canvas,r=oP(s=>{t.ctx!==null&&n(Dte(s,t))},t);return Ate(i,e,r),r}class Lte extends RP{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Tte(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Pg])return!1;const i=n[Pg].initial;["height","width"].forEach(s=>{const a=i[s];Bt(a)?n.removeAttribute(s):n.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Pg],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:kte,detach:Mte,resize:Pte}[n]||jte;r[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Vb,detach:Vb,resize:Vb}[n]||Ote)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return Pee(e,n,i,r)}isAttached(e){const n=e&&GS(e);return!!(n&&n.isConnected)}}function Fte(t){return!WS()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Rte:Lte}class ao{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Gd(this.x)&&Gd(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function Ute(t,e){const n=t.options.ticks,i=zte(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?Bte(e):[],a=s.length,l=s[0],u=s[a-1],d=[];if(a>r)return $te(e,d,s,a/r),d;const h=Hte(s,e,r);if(a>0){let m,p;const y=a>1?Math.round((u-l)/(a-1)):null;for(yg(e,d,h,Bt(y)?0:l-y,l),m=0,p=a-1;m<p;m++)yg(e,d,h,s[m],s[m+1]);return yg(e,d,h,u,Bt(y)?e.length:u+y),d}return yg(e,d,h),d}function zte(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function Hte(t,e,n){const i=Vte(t),r=e.length/n;if(!i)return Math.max(r,1);const s=MJ(i);for(let a=0,l=s.length-1;a<l;a++){const u=s[a];if(u>r)return u}return Math.max(r,1)}function Bte(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function $te(t,e,n,i){let r=0,s=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===s&&(e.push(t[a]),r++,s=n[r*i])}function yg(t,e,n,i,r){const s=it(i,0),a=Math.min(it(r,t.length),t.length);let l=0,u,d,h;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),h=s;h<0;)l++,h=Math.round(s+l*n);for(d=Math.max(s,0);d<a;d++)d===h&&(e.push(t[d]),l++,h=Math.round(s+l*n))}function Vte(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const qte=t=>t==="left"?"right":t==="right"?"left":t,hD=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,gD=(t,e)=>Math.min(e||t,t);function mD(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function Wte(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,a=t._endPixel,l=1e-6;let u=t.getPixelForTick(r),d;if(!(n&&(i===1?d=Math.max(u-s,a-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(r-1))/2,u+=r<e?d:-d,u<s-l||u>a+l)))return u}function Gte(t,e){Ot(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function td(t){return t.drawTicks?t.tickLength:0}function pD(t,e){if(!t.display)return 0;const n=ci(t.font,e),i=Rr(t.padding);return(Fn(t.text)?t.text.length:1)*n.lineHeight+i.height}function Yte(t,e){return hl(t,{scale:e,type:"scale"})}function Qte(t,e,n){return hl(t,{tick:n,index:e,type:"tick"})}function Kte(t,e,n){let i=US(t);return(n&&e!=="right"||!n&&e==="right")&&(i=qte(i)),i}function Xte(t,e,n,i){const{top:r,left:s,bottom:a,right:l,chart:u}=t,{chartArea:d,scales:h}=u;let m=0,p,y,b;const _=a-r,w=l-s;if(t.isHorizontal()){if(y=si(i,s,l),dt(n)){const x=Object.keys(n)[0],E=n[x];b=h[x].getPixelForValue(E)+_-e}else n==="center"?b=(d.bottom+d.top)/2+_-e:b=hD(t,n,e);p=l-s}else{if(dt(n)){const x=Object.keys(n)[0],E=n[x];y=h[x].getPixelForValue(E)-w+e}else n==="center"?y=(d.left+d.right)/2-w+e:y=hD(t,n,e);b=si(i,a,r),m=n==="left"?-Un:Un}return{titleX:y,titleY:b,maxWidth:p,rotation:m}}class Yc extends ao{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Zr(e,Number.POSITIVE_INFINITY),n=Zr(n,Number.NEGATIVE_INFINITY),i=Zr(i,Number.POSITIVE_INFINITY),r=Zr(r,Number.NEGATIVE_INFINITY),{min:Zr(e,i),max:Zr(n,r),minDefined:ui(e),maxDefined:ui(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)a=l[u].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),s||(i=Math.max(i,a.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Zr(n,Zr(i,n)),max:Zr(i,Zr(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hee(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?mD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Ute(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gt(this.options.afterUpdate,[this])}beforeSetDimensions(){Gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Gt(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=gD(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let a=r,l,u,d;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),m=h.widest.width,p=h.highest.height,y=yi(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/i:y/(i-1),m+6>l&&(l=y/(i-(e.offset?.5:1)),u=this.maxHeight-td(e.grid)-n.padding-pD(e.title,this.chart.options.font),d=Math.sqrt(m*m+p*p),a=jJ(Math.min(Math.asin(yi((h.highest.height+6)/l,-1,1)),Math.asin(yi(u/d,-1,1))-Math.asin(yi(p/d,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const u=pD(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=td(s)+u):(e.height=this.maxHeight,e.width=td(s)+u),i.display&&this.ticks.length){const{first:d,last:h,widest:m,highest:p}=this._getLabelSizes(),y=i.padding*2,b=Vs(this.labelRotation),_=Math.cos(b),w=Math.sin(b);if(l){const x=i.mirror?0:w*m.width+_*p.height;e.height=Math.min(this.maxHeight,e.height+x+y)}else{const x=i.mirror?0:_*m.width+w*p.height;e.width=Math.min(this.maxWidth,e.width+x+y)}this._calculatePadding(d,h,w,_)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:a},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,y=0;u?d?(p=r*e.width,y=i*n.height):(p=i*e.height,y=r*n.width):s==="start"?y=n.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,y=n.width/2),this.paddingLeft=Math.max((p-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((y-m+a)*this.width/(this.width-m),0)}else{let h=n.height/2,m=e.height/2;s==="start"?(h=0,m=e.height):s==="end"&&(h=n.height,m=0),this.paddingTop=h+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Bt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=mD(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,a=[],l=[],u=Math.floor(n/gD(n,i));let d=0,h=0,m,p,y,b,_,w,x,E,C,D,O;for(m=0;m<n;m+=u){if(b=e[m].label,_=this._resolveTickFontOptions(m),r.font=w=_.string,x=s[w]=s[w]||{data:{},gc:[]},E=_.lineHeight,C=D=0,!Bt(b)&&!Fn(b))C=WO(r,x.data,x.gc,C,b),D=E;else if(Fn(b))for(p=0,y=b.length;p<y;++p)O=b[p],!Bt(O)&&!Fn(O)&&(C=WO(r,x.data,x.gc,C,O),D+=E);a.push(C),l.push(D),d=Math.max(C,d),h=Math.max(D,h)}Gte(s,n);const N=a.indexOf(d),I=l.indexOf(h),k=j=>({width:a[j]||0,height:l[j]||0});return{first:k(0),last:k(n-1),widest:k(N),highest:k(I),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return FJ(this._alignToPixels?Do(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Qte(this.getContext(),e,i))}return this.$context||(this.$context=Yte(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Vs(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,u=s?s.highest.height+a:0;return this.isHorizontal()?u*i>l*r?l/i:u/r:u*r<l*i?u/i:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:l}=r,u=s.offset,d=this.isHorizontal(),m=this.ticks.length+(u?1:0),p=td(s),y=[],b=l.setContext(this.getContext()),_=b.display?b.width:0,w=_/2,x=function(B){return Do(i,B,_)};let E,C,D,O,N,I,k,j,H,$,G,se;if(a==="top")E=x(this.bottom),I=this.bottom-p,j=E-w,$=x(e.top)+w,se=e.bottom;else if(a==="bottom")E=x(this.top),$=e.top,se=x(e.bottom)-w,I=E+w,j=this.top+p;else if(a==="left")E=x(this.right),N=this.right-p,k=E-w,H=x(e.left)+w,G=e.right;else if(a==="right")E=x(this.left),H=e.left,G=x(e.right)-w,N=E+w,k=this.left+p;else if(n==="x"){if(a==="center")E=x((e.top+e.bottom)/2+.5);else if(dt(a)){const B=Object.keys(a)[0],X=a[B];E=x(this.chart.scales[B].getPixelForValue(X))}$=e.top,se=e.bottom,I=E+w,j=I+p}else if(n==="y"){if(a==="center")E=x((e.left+e.right)/2);else if(dt(a)){const B=Object.keys(a)[0],X=a[B];E=x(this.chart.scales[B].getPixelForValue(X))}N=E-w,k=N-p,H=e.left,G=e.right}const pe=it(r.ticks.maxTicksLimit,m),ve=Math.max(1,Math.ceil(m/pe));for(C=0;C<m;C+=ve){const B=this.getContext(C),X=s.setContext(B),me=l.setContext(B),ae=X.lineWidth,be=X.color,L=me.dash||[],J=me.dashOffset,ne=X.tickWidth,ie=X.tickColor,he=X.tickBorderDash||[],ge=X.tickBorderDashOffset;D=Wte(this,C,u),D!==void 0&&(O=Do(i,D,ae),d?N=k=H=G=O:I=j=$=se=O,y.push({tx1:N,ty1:I,tx2:k,ty2:j,x1:H,y1:$,x2:G,y2:se,width:ae,color:be,borderDash:L,borderDashOffset:J,tickWidth:ne,tickColor:ie,tickBorderDash:he,tickBorderDashOffset:ge}))}return this._ticksLength=m,this._borderValue=E,y}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:h,mirror:m}=s,p=td(i.grid),y=p+h,b=m?-h:y,_=-Vs(this.labelRotation),w=[];let x,E,C,D,O,N,I,k,j,H,$,G,se="middle";if(r==="top")N=this.bottom-b,I=this._getXAxisLabelAlignment();else if(r==="bottom")N=this.top+b,I=this._getXAxisLabelAlignment();else if(r==="left"){const ve=this._getYAxisLabelAlignment(p);I=ve.textAlign,O=ve.x}else if(r==="right"){const ve=this._getYAxisLabelAlignment(p);I=ve.textAlign,O=ve.x}else if(n==="x"){if(r==="center")N=(e.top+e.bottom)/2+y;else if(dt(r)){const ve=Object.keys(r)[0],B=r[ve];N=this.chart.scales[ve].getPixelForValue(B)+y}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")O=(e.left+e.right)/2-y;else if(dt(r)){const ve=Object.keys(r)[0],B=r[ve];O=this.chart.scales[ve].getPixelForValue(B)}I=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(u==="start"?se="top":u==="end"&&(se="bottom"));const pe=this._getLabelSizes();for(x=0,E=l.length;x<E;++x){C=l[x],D=C.label;const ve=s.setContext(this.getContext(x));k=this.getPixelForTick(x)+s.labelOffset,j=this._resolveTickFontOptions(x),H=j.lineHeight,$=Fn(D)?D.length:1;const B=$/2,X=ve.color,me=ve.textStrokeColor,ae=ve.textStrokeWidth;let be=I;a?(O=k,I==="inner"&&(x===E-1?be=this.options.reverse?"left":"right":x===0?be=this.options.reverse?"right":"left":be="center"),r==="top"?d==="near"||_!==0?G=-$*H+H/2:d==="center"?G=-pe.highest.height/2-B*H+H:G=-pe.highest.height+H/2:d==="near"||_!==0?G=H/2:d==="center"?G=pe.highest.height/2-B*H:G=pe.highest.height-$*H,m&&(G*=-1),_!==0&&!ve.showLabelBackdrop&&(O+=H/2*Math.sin(_))):(N=k,G=(1-$)*H/2);let L;if(ve.showLabelBackdrop){const J=Rr(ve.backdropPadding),ne=pe.heights[x],ie=pe.widths[x];let he=G-J.top,ge=0-J.left;switch(se){case"middle":he-=ne/2;break;case"bottom":he-=ne;break}switch(I){case"center":ge-=ie/2;break;case"right":ge-=ie;break;case"inner":x===E-1?ge-=ie:x>0&&(ge-=ie/2);break}L={left:ge,top:he,width:ie+J.width,height:ne+J.height,color:ve.backdropColor}}w.push({label:D,font:j,textOffset:G,options:{rotation:_,color:X,strokeColor:me,strokeWidth:ae,textAlign:be,textBaseline:se,translation:[O,N],backdrop:L}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Vs(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,u=a.widest.width;let d,h;return n==="left"?r?(h=this.right+s,i==="near"?d="left":i==="center"?(d="center",h+=u/2):(d="right",h+=u)):(h=this.right-l,i==="near"?d="right":i==="center"?(d="center",h-=u/2):(d="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?d="right":i==="center"?(d="center",h-=u/2):(d="left",h-=u)):(h=this.left+l,i==="near"?d="left":i==="center"?(d="center",h+=u/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(u,d,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(s=0,a=r.length;s<a;++s){const u=r[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,h,m,p;this.isHorizontal()?(d=Do(e,this.left,a)-a/2,h=Do(e,this.right,l)+l/2,m=p=u):(m=Do(e,this.top,a)-a/2,p=Do(e,this.bottom,l)+l/2,d=h=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,m),n.lineTo(h,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&cp(i,r);const s=this.getLabelItems(e);for(const a of s){const l=a.options,u=a.font,d=a.label,h=a.textOffset;Kd(i,d,0,h,u,l)}r&&up(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=ci(i.font),a=Rr(i.padding),l=i.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||dt(n)?(u+=a.bottom,Fn(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:h,maxWidth:m,rotation:p}=Xte(this,u,n,l);Kd(e,i.text,0,0,s,{color:i.color,maxWidth:m,rotation:p,textAlign:Kte(l,n,r),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=it(e.grid&&e.grid.z,-1),r=it(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Yc.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];l[i]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ci(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class vg{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;ene(n)&&(i=this.register(n));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,Zte(e,a,i),this.override&&bn.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in bn[r]&&(delete bn[r][i],this.override&&delete rl[i])}}function Zte(t,e,n){const i=qd(Object.create(null),[n?bn.get(n):{},bn.get(e),t.defaults]);bn.set(e,i),t.defaultRoutes&&Jte(e,t.defaultRoutes),t.descriptors&&bn.describe(e,t.descriptors)}function Jte(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),a=e[n].split("."),l=a.pop(),u=a.join(".");bn.route(s,r,u,l)})}function ene(t){return"id"in t&&"defaults"in t}class tne{constructor(){this.controllers=new vg(YS,"datasets",!0),this.elements=new vg(ao,"elements"),this.plugins=new vg(Object,"plugins"),this.scales=new vg(Yc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Ot(r,a=>{const l=i||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,i){const r=LS(e);Gt(i["before"+r],[],i),n[e](i),Gt(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ts=new tne;class nne{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,i,r){r=r||{};for(const s of e){const a=s.plugin,l=a[i],u=[n,r,s.options];if(Gt(l,u,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=it(i.options&&i.options.plugins,{}),s=ine(i);return r===!1&&!n?[]:sne(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(l=>!a.some(u=>l.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function ine(t){const e={},n=[],i=Object.keys(ts.plugins.items);for(let s=0;s<i.length;s++)n.push(ts.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function rne(t,e){return!e&&t===!1?null:t===!0?{}:t}function sne(t,{plugins:e,localIds:n},i,r){const s=[],a=t.getContext();for(const l of e){const u=l.id,d=rne(i[u],r);d!==null&&s.push({plugin:l,options:ane(t.config,{plugin:l,local:n[u]},d,a)})}return s}function ane(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(i,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function s_(t,e){const n=bn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function one(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function lne(t,e){return t===e?"_index_":"_value_"}function yD(t){if(t==="x"||t==="y"||t==="r")return t}function cne(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function a_(t,...e){if(yD(t))return t;for(const n of e){const i=n.axis||cne(n.position)||t.length>1&&yD(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function vD(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function une(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return vD(t,"x",n[0])||vD(t,"y",n[0])}return{}}function dne(t,e){const n=rl[t.type]||{scales:{}},i=e.scales||{},r=s_(t.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!dt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=a_(a,l,une(a,t),bn.scales[l.type]),d=lne(u,r),h=n.scales||{};s[a]=xd(Object.create(null),[{axis:u},l,h[u],h[d]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,u=a.indexAxis||s_(l,e),h=(rl[l]||{}).scales||{};Object.keys(h).forEach(m=>{const p=one(m,u),y=a[p+"AxisID"]||p;s[y]=s[y]||Object.create(null),xd(s[y],[{axis:p},i[y],h[m]])})}),Object.keys(s).forEach(a=>{const l=s[a];xd(l,[bn.scales[l.type],bn.scale])}),s}function AP(t){const e=t.options||(t.options={});e.plugins=it(e.plugins,{}),e.scales=dne(t,e)}function OP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function fne(t){return t=t||{},t.data=OP(t.data),AP(t),t}const bD=new Map,DP=new Set;function bg(t,e){let n=bD.get(t);return n||(n=e(),bD.set(t,n),DP.add(n)),n}const nd=(t,e,n)=>{const i=Wd(e,n);i!==void 0&&t.add(i)};class hne{constructor(e){this._config=fne(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=OP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),AP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return bg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return bg(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return bg(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return bg(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),l=a.get(n);if(l)return l;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(m=>nd(u,e,m))),h.forEach(m=>nd(u,r,m)),h.forEach(m=>nd(u,rl[s]||{},m)),h.forEach(m=>nd(u,bn,m)),h.forEach(m=>nd(u,n_,m))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),DP.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,rl[n]||{},bn.datasets[n]||{},{type:n},bn,n_]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=_D(this._resolverCache,e,r);let u=a;if(mne(a,n)){s.$shared=!1,i=Za(i)?i():i;const d=this.createResolver(e,i,l);u=Ic(a,i,d)}for(const d of n)s[d]=u[d];return s}createResolver(e,n,i=[""],r){const{resolver:s}=_D(this._resolverCache,e,i);return dt(n)?Ic(s,n,void 0,r):s}}function _D(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:$S(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const gne=t=>dt(t)&&Object.getOwnPropertyNames(t).some(e=>Za(t[e]));function mne(t,e){const{isScriptable:n,isIndexable:i}=uP(t);for(const r of e){const s=n(r),a=i(r),l=(a||s)&&t[r];if(s&&(Za(l)||gne(l))||a&&Fn(l))return!0}return!1}var pne="4.5.1";const yne=["top","bottom","left","right","chartArea"];function SD(t,e){return t==="top"||t==="bottom"||yne.indexOf(t)===-1&&e==="x"}function wD(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function xD(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Gt(n&&n.onComplete,[t],e)}function vne(t){const e=t.chart,n=e.options.animation;Gt(n&&n.onProgress,[t],e)}function kP(t){return WS()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const jg={},ED=t=>{const e=kP(t);return Object.values(jg).filter(n=>n.canvas===e).pop()};function bne(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const a=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=a)}}}function _ne(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let hp=class{static defaults=bn;static instances=jg;static overrides=rl;static registry=ts;static version=pne;static getChart=ED;static register(...e){ts.add(...e),RD()}static unregister(...e){ts.remove(...e),RD()}constructor(e,n){const i=this.config=new hne(n),r=kP(e),s=ED(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Fte(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,h=u&&u.width;if(this.id=xJ(),this.ctx=l,this.canvas=u,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nne,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$J(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],jg[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Is.listen(this,"complete",xD),Is.listen(this,"progress",vne),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return Bt(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ts}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():KO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return GO(this.canvas,this.ctx),this}stop(){return Is.stop(this),this}resize(e,n){Is.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,KO(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Gt(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ot(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const l=n[a],u=a_(a,l),d=u==="r",h=u==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Ot(s,a=>{const l=a.options,u=l.id,d=a_(u,l),h=it(l.type,a.dtype);(l.position===void 0||SD(l.position,d)!==SD(a.dposition))&&(l.position=a.dposition),r[u]=!0;let m=null;if(u in i&&i[u].type===h)m=i[u];else{const p=ts.getScale(h);m=new p({id:u,type:h,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(l,e)}),Ot(r,(a,l)=>{a||delete i[l]}),Ot(i,a=>{xr.configure(this,a,a.options),xr.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(wD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let a=this.getDatasetMeta(i);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||s_(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=ts.getController(l),{datasetElementType:d,dataElementType:h}=bn.datasets[l];Object.assign(u,{dataElementType:ts.getElement(h),datasetElementType:d&&ts.getElement(d)}),a.controller=new u(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ot(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:m}=this.getDatasetMeta(d),p=!r&&s.indexOf(m)===-1;m.buildOrUpdateElements(p),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Ot(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(wD("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ot(this.scales,e=>{xr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!LO(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const a=i==="_removeElements"?-s:s;bne(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!LO(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xr.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ot(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Za(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Is.has(this)?this.attached&&!Is.running(this)&&Is.start(this):(this.draw(),xD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const a=n[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=_P(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&cp(n,r),e.controller.draw(),r&&up(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Qd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=yte.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=hl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);xm(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Is.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),GO(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete jg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Ot(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},r=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Ot(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ot(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,a,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Sm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(u,d)=>u.filter(h=>!d.some(m=>h.datasetIndex===m.datasetIndex&&h.index===m.index)),a=s(n,e),l=i?e:s(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,a=n,l=this._getActiveElements(e,r,i,a),u=OJ(e),d=_ne(e,this._lastEvent,i,u);i&&(this._lastEvent=null,Gt(s.onHover,[e,l,this],this),u&&Gt(s.onClick,[e,l,this],this));const h=!Sm(l,r);return(h||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=d,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}};function RD(){return Ot(hp.instances,t=>t._plugins.invalidate())}function Sne(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:a,innerRadius:l,options:u}=e,{borderWidth:d,borderJoinStyle:h}=u,m=Math.min(d/a,Wi(i-n));if(t.beginPath(),t.arc(r,s,a-d/2,i+m/2,n-m/2),l>0){const p=Math.min(d/l,Wi(i-n));t.arc(r,s,l+d/2,n-p/2,i+p/2,!0)}else{const p=Math.min(d/2,a*Wi(i-n));if(h==="round")t.arc(r,s,p,n-Dt/2,i+Dt/2,!0);else if(h==="bevel"){const y=2*p*p,b=-y*Math.cos(n+Dt/2)+r,_=-y*Math.sin(n+Dt/2)+s,w=y*Math.cos(i+Dt/2)+r,x=y*Math.sin(i+Dt/2)+s;t.lineTo(b,_),t.lineTo(w,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function wne(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:l,innerRadius:u}=e;let d=r/l;t.beginPath(),t.arc(s,a,l,i-d,n+d),u>r?(d=r/u,t.arc(s,a,u,n+d,i-d,!0)):t.arc(s,a,r,n+Un,i-Un),t.closePath(),t.clip()}function xne(t){return BS(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Ene(t,e,n,i){const r=xne(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,i*e/2),l=u=>{const d=(n-Math.min(s,u))*i/2;return yi(u,0,Math.min(s,d))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:yi(r.innerStart,0,a),innerEnd:yi(r.innerEnd,0,a)}}function uc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Tm(t,e,n,i,r,s){const{x:a,y:l,startAngle:u,pixelMargin:d,innerRadius:h}=e,m=Math.max(e.outerRadius+i+n-d,0),p=h>0?h+i+n+d:0;let y=0;const b=r-u;if(i){const ve=h>0?h-i:0,B=m>0?m-i:0,X=(ve+B)/2,me=X!==0?b*X/(X+i):b;y=(b-me)/2}const _=Math.max(.001,b*m-n/Dt)/m,w=(b-_)/2,x=u+w+y,E=r-w-y,{outerStart:C,outerEnd:D,innerStart:O,innerEnd:N}=Ene(e,p,m,E-x),I=m-C,k=m-D,j=x+C/I,H=E-D/k,$=p+O,G=p+N,se=x+O/$,pe=E-N/G;if(t.beginPath(),s){const ve=(j+H)/2;if(t.arc(a,l,m,j,ve),t.arc(a,l,m,ve,H),D>0){const ae=uc(k,H,a,l);t.arc(ae.x,ae.y,D,H,E+Un)}const B=uc(G,E,a,l);if(t.lineTo(B.x,B.y),N>0){const ae=uc(G,pe,a,l);t.arc(ae.x,ae.y,N,E+Un,pe+Math.PI)}const X=(E-N/p+(x+O/p))/2;if(t.arc(a,l,p,E-N/p,X,!0),t.arc(a,l,p,X,x+O/p,!0),O>0){const ae=uc($,se,a,l);t.arc(ae.x,ae.y,O,se+Math.PI,x-Un)}const me=uc(I,x,a,l);if(t.lineTo(me.x,me.y),C>0){const ae=uc(I,j,a,l);t.arc(ae.x,ae.y,C,x-Un,j)}}else{t.moveTo(a,l);const ve=Math.cos(j)*m+a,B=Math.sin(j)*m+l;t.lineTo(ve,B);const X=Math.cos(H)*m+a,me=Math.sin(H)*m+l;t.lineTo(X,me)}t.closePath()}function Rne(t,e,n,i,r){const{fullCircles:s,startAngle:a,circumference:l}=e;let u=e.endAngle;if(s){Tm(t,e,n,i,u,r);for(let d=0;d<s;++d)t.fill();isNaN(l)||(u=a+(l%ln||ln))}return Tm(t,e,n,i,u,r),t.fill(),u}function Cne(t,e,n,i,r){const{fullCircles:s,startAngle:a,circumference:l,options:u}=e,{borderWidth:d,borderJoinStyle:h,borderDash:m,borderDashOffset:p,borderRadius:y}=u,b=u.borderAlign==="inner";if(!d)return;t.setLineDash(m||[]),t.lineDashOffset=p,b?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let _=e.endAngle;if(s){Tm(t,e,n,i,_,r);for(let w=0;w<s;++w)t.stroke();isNaN(l)||(_=a+(l%ln||ln))}b&&wne(t,e,_),u.selfJoin&&_-a>=Dt&&y===0&&h!=="miter"&&Sne(t,e,_),s||(Tm(t,e,n,i,_,r),t.stroke())}class Tne extends ao{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=rP(r,{x:e,y:n}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:h,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,y=it(m,u-l),b=Yd(s,l,u)&&l!==u,_=y>=ln||b,w=Go(a,d+p,h+p);return _&&w}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,h=(r+s)/2,m=(a+l+d+u)/2;return{x:n+Math.cos(h)*m,y:i+Math.sin(h)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>ln?Math.floor(i/ln):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*r,Math.sin(l)*r);const u=1-Math.sin(Math.min(Dt,i||0)),d=r*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,Rne(e,this,d,s,a),Cne(e,this,d,s,a),e.restore()}}function MP(t,e,n=e){t.lineCap=it(n.borderCapStyle,e.borderCapStyle),t.setLineDash(it(n.borderDash,e.borderDash)),t.lineDashOffset=it(n.borderDashOffset,e.borderDashOffset),t.lineJoin=it(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=it(n.borderWidth,e.borderWidth),t.strokeStyle=it(n.borderColor,e.borderColor)}function Ane(t,e,n){t.lineTo(n.x,n.y)}function One(t){return t.stepped?iee:t.tension||t.cubicInterpolationMode==="monotone"?ree:Ane}function NP(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:a,end:l}=e,u=Math.max(r,a),d=Math.min(s,l),h=r<a&&s<a||r>l&&s>l;return{count:i,start:u,loop:e.loop,ilen:d<u&&!h?i+d-u:d-u}}function Dne(t,e,n,i){const{points:r,options:s}=e,{count:a,start:l,loop:u,ilen:d}=NP(r,n,i),h=One(s);let{move:m=!0,reverse:p}=i||{},y,b,_;for(y=0;y<=d;++y)b=r[(l+(p?d-y:y))%a],!b.skip&&(m?(t.moveTo(b.x,b.y),m=!1):h(t,_,b,p,s.stepped),_=b);return u&&(b=r[(l+(p?d:0))%a],h(t,_,b,p,s.stepped)),!!u}function kne(t,e,n,i){const r=e.points,{count:s,start:a,ilen:l}=NP(r,n,i),{move:u=!0,reverse:d}=i||{};let h=0,m=0,p,y,b,_,w,x;const E=D=>(a+(d?l-D:D))%s,C=()=>{_!==w&&(t.lineTo(h,w),t.lineTo(h,_),t.lineTo(h,x))};for(u&&(y=r[E(0)],t.moveTo(y.x,y.y)),p=0;p<=l;++p){if(y=r[E(p)],y.skip)continue;const D=y.x,O=y.y,N=D|0;N===b?(O<_?_=O:O>w&&(w=O),h=(m*h+D)/++m):(C(),t.lineTo(D,O),b=N,m=0,_=w=O),x=O}C()}function o_(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?kne:Dne}function Mne(t){return t.stepped?Lee:t.tension||t.cubicInterpolationMode==="monotone"?Fee:Fo}function Nne(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),MP(t,e.options),t.stroke(r)}function Ine(t,e,n,i){const{segments:r,options:s}=e,a=o_(e);for(const l of r)MP(t,s,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const Pne=typeof Path2D=="function";function jne(t,e,n,i){Pne&&!e.options.segment?Nne(t,e,n,i):Ine(t,e,n,i)}class gp extends ao{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Oee(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Vee(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,a=bP(this,{property:n,start:r,end:r});if(!a.length)return;const l=[],u=Mne(i);let d,h;for(d=0,h=a.length;d<h;++d){const{start:m,end:p}=a[d],y=s[m],b=s[p];if(y===b){l.push(y);continue}const _=Math.abs((r-y[n])/(b[n]-y[n])),w=u(y,b,_,i.stepped);w[n]=e[n],l.push(w)}return l.length===1?l[0]:l}pathSegment(e,n,i){return o_(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=o_(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const l of r)a&=s(e,this,l,{start:n,end:n+i-1});return!!a}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),jne(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function CD(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Lne extends ao{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return CD(this,e,"x",n)}inYRange(e,n){return CD(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Qd(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,i_(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Fne(t,e,n){const i=t.segments,r=t.points,s=e.points,a=[];for(const l of i){let{start:u,end:d}=l;d=mp(u,d,r);const h=l_(n,r[u],r[d],l.loop);if(!e.segments){a.push({source:l,target:h,start:r[u],end:r[d]});continue}const m=bP(e,h);for(const p of m){const y=l_(n,s[p.start],s[p.end],p.loop),b=vP(l,r,y);for(const _ of b)a.push({source:_,target:p,start:{[n]:TD(h,y,"start",Math.max)},end:{[n]:TD(h,y,"end",Math.min)}})}}return a}function l_(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=Wi(r),s=Wi(s)),{property:t,start:r,end:s}}function Une(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:a,end:l})=>{l=mp(a,l,r);const u=r[a],d=r[l];i!==null?(s.push({x:u.x,y:i}),s.push({x:d.x,y:i})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:d.y}))}),s}function mp(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function TD(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function IP(t,e){let n=[],i=!1;return Fn(t)?(i=!0,n=t):n=Une(t,e),n.length?new gp({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function AD(t){return t&&t.fill!==!1}function zne(t,e,n){let r=t[e].fill;const s=[e];let a;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ui(r))return r;if(a=t[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function Hne(t,e,n){const i=qne(t);if(dt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ui(r)&&Math.floor(r)===r?Bne(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Bne(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function $ne(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:dt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Vne(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:dt(t)?i=t.value:i=e.getBaseValue(),i}function qne(t){const e=t.options,n=e.fill;let i=it(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Wne(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,a=i.points,l=Gne(e,n);l.push(IP({x:null,y:e.bottom},i));for(let u=0;u<s.length;u++){const d=s[u];for(let h=d.start;h<=d.end;h++)Yne(r,a[h],l)}return new gp({points:r,options:{}})}function Gne(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function Yne(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:a,last:l,point:u}=Qne(s,e,"x");if(!(!u||a&&l)){if(a)i.unshift(u);else if(t.push(u),!l)break}}t.push(...i)}function Qne(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,a=t.points;let l=!1,u=!1;for(let d=0;d<s.length;d++){const h=s[d],m=a[h.start][n],p=a[h.end][n];if(Go(r,m,p)){l=r===m,u=r===p;break}}return{first:l,last:u,point:i}}class PP{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:a}=this;return n=n||{start:0,end:ln},e.arc(r,s,a,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function Kne(t){const{chart:e,fill:n,line:i}=t;if(ui(n))return Xne(e,n);if(n==="stack")return Wne(t);if(n==="shape")return!0;const r=Zne(t);return r instanceof PP?r:IP(r,i)}function Xne(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Zne(t){return(t.scale||{}).getPointPositionForValue?eie(t):Jne(t)}function Jne(t){const{scale:e={},fill:n}=t,i=$ne(n,e);if(ui(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function eie(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=Vne(n,e,s),l=[];if(i.grid.circular){const u=e.getPointPositionForValue(0,s);return new PP({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(a)})}for(let u=0;u<r;++u)l.push(e.getPointPositionForValue(u,a));return l}function qb(t,e,n){const i=Kne(e),{chart:r,index:s,line:a,scale:l,axis:u}=e,d=a.options,h=d.fill,m=d.backgroundColor,{above:p=m,below:y=m}=h||{},b=r.getDatasetMeta(s),_=_P(r,b);i&&a.points.length&&(cp(t,n),tie(t,{line:a,target:i,above:p,below:y,area:n,scale:l,axis:u,clip:_}),up(t))}function tie(t,e){const{line:n,target:i,above:r,below:s,area:a,scale:l,clip:u}=e,d=n._loop?"angle":e.axis;t.save();let h=s;s!==r&&(d==="x"?(OD(t,i,a.top),Wb(t,{line:n,target:i,color:r,scale:l,property:d,clip:u}),t.restore(),t.save(),OD(t,i,a.bottom)):d==="y"&&(DD(t,i,a.left),Wb(t,{line:n,target:i,color:s,scale:l,property:d,clip:u}),t.restore(),t.save(),DD(t,i,a.right),h=r)),Wb(t,{line:n,target:i,color:h,scale:l,property:d,clip:u}),t.restore()}function OD(t,e,n){const{segments:i,points:r}=e;let s=!0,a=!1;t.beginPath();for(const l of i){const{start:u,end:d}=l,h=r[u],m=r[mp(u,d,r)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(m.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function DD(t,e,n){const{segments:i,points:r}=e;let s=!0,a=!1;t.beginPath();for(const l of i){const{start:u,end:d}=l,h=r[u],m=r[mp(u,d,r)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(n,h.y),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(n,m.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Wb(t,e){const{line:n,target:i,property:r,color:s,scale:a,clip:l}=e,u=Fne(n,i,r);for(const{source:d,target:h,start:m,end:p}of u){const{style:{backgroundColor:y=s}={}}=d,b=i!==!0;t.save(),t.fillStyle=y,nie(t,a,l,b&&l_(r,m,p)),t.beginPath();const _=!!n.pathSegment(t,d);let w;if(b){_?t.closePath():kD(t,i,p,r);const x=!!i.pathSegment(t,h,{move:_,reverse:!0});w=_&&x,w||kD(t,i,m,r)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function nie(t,e,n,i){const r=e.chart.chartArea,{property:s,start:a,end:l}=i||{};if(s==="x"||s==="y"){let u,d,h,m;s==="x"?(u=a,d=r.top,h=l,m=r.bottom):(u=r.left,d=a,h=r.right,m=l),t.beginPath(),n&&(u=Math.max(u,n.left),h=Math.min(h,n.right),d=Math.max(d,n.top),m=Math.min(m,n.bottom)),t.rect(u,d,h-u,m-d),t.clip()}}function kD(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var iie={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,a,l,u;for(a=0;a<i;++a)s=t.getDatasetMeta(a),l=s.dataset,u=null,l&&l.options&&l instanceof gp&&(u={visible:t.isDatasetVisible(a),index:a,fill:Hne(l,a,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=u,r.push(u);for(a=0;a<i;++a)u=r[a],!(!u||u.fill===!1)&&(u.fill=zne(r,a,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=r.length-1;a>=0;--a){const l=r[a].$filler;l&&(l.line.updateControlPoints(s,l.axis),i&&l.fill&&qb(t.ctx,l,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;AD(s)&&qb(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!AD(i)||n.drawTime!=="beforeDatasetDraw"||qb(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const MD=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},rie=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class ND extends ao{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Gt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=ci(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=MD(i,s);let d,h;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(a,s,l,u)+10):(h=this.maxHeight,d=this._fitCols(a,r,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],h=r+l;let m=e;s.textAlign="left",s.textBaseline="middle";let p=-1,y=-h;return this.legendItems.forEach((b,_)=>{const w=i+n/2+s.measureText(b.text).width;(_===0||d[d.length-1]+w+2*l>a)&&(m+=h,d[d.length-(_>0?0:1)]=0,y+=h,p++),u[_]={left:0,top:y,row:p,width:w,height:r},d[d.length-1]+=w+l}),m}_fitCols(e,n,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],h=a-e;let m=l,p=0,y=0,b=0,_=0;return this.legendItems.forEach((w,x)=>{const{itemWidth:E,itemHeight:C}=sie(i,n,s,w,r);x>0&&y+C+2*l>h&&(m+=p+l,d.push({width:p,height:y}),b+=p+l,_++,p=y=0),u[x]={left:b,top:y,col:_,width:E,height:C},p=Math.max(p,E),y+=C+l}),m+=p,d.push({width:p,height:y}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Cc(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=si(i,this.left+r,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=si(i,this.left+r,this.right-this.lineWidths[l])),d.top+=this.top+e+r,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+r}else{let l=0,u=si(i,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=si(i,this.top+e+r,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+r,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cp(e,this),this._draw(),up(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,l=bn.color,u=Cc(e.rtl,this.left,this.width),d=ci(a.font),{padding:h}=a,m=d.size,p=m/2;let y;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:b,boxHeight:_,itemHeight:w}=MD(a,m),x=function(N,I,k){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;r.save();const j=it(k.lineWidth,1);if(r.fillStyle=it(k.fillStyle,l),r.lineCap=it(k.lineCap,"butt"),r.lineDashOffset=it(k.lineDashOffset,0),r.lineJoin=it(k.lineJoin,"miter"),r.lineWidth=j,r.strokeStyle=it(k.strokeStyle,l),r.setLineDash(it(k.lineDash,[])),a.usePointStyle){const H={radius:_*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:j},$=u.xPlus(N,b/2),G=I+p;cP(r,H,$,G,a.pointStyleWidth&&b)}else{const H=I+Math.max((m-_)/2,0),$=u.leftForLtr(N,b),G=Td(k.borderRadius);r.beginPath(),Object.values(G).some(se=>se!==0)?r_(r,{x:$,y:H,w:b,h:_,radius:G}):r.rect($,H,b,_),r.fill(),j!==0&&r.stroke()}r.restore()},E=function(N,I,k){Kd(r,k.text,N,I+w/2,d,{strikethrough:k.hidden,textAlign:u.textAlign(k.textAlign)})},C=this.isHorizontal(),D=this._computeTitleHeight();C?y={x:si(s,this.left+h,this.right-i[0]),y:this.top+h+D,line:0}:y={x:this.left+h,y:si(s,this.top+D+h,this.bottom-n[0].height),line:0},mP(this.ctx,e.textDirection);const O=w+h;this.legendItems.forEach((N,I)=>{r.strokeStyle=N.fontColor,r.fillStyle=N.fontColor;const k=r.measureText(N.text).width,j=u.textAlign(N.textAlign||(N.textAlign=a.textAlign)),H=b+p+k;let $=y.x,G=y.y;u.setWidth(this.width),C?I>0&&$+H+h>this.right&&(G=y.y+=O,y.line++,$=y.x=si(s,this.left+h,this.right-i[y.line])):I>0&&G+O>this.bottom&&($=y.x=$+n[y.line].width+h,y.line++,G=y.y=si(s,this.top+D+h,this.bottom-n[y.line].height));const se=u.x($);if(x(se,G,N),$=VJ(j,$+b+p,C?$+H:this.right,e.rtl),E(u.x($),G,N),C)y.x+=H+h;else if(typeof N.text!="string"){const pe=d.lineHeight;y.y+=jP(N,pe)+h}else y.y+=O}),pP(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ci(n.font),r=Rr(n.padding);if(!n.display)return;const s=Cc(e.rtl,this.left,this.width),a=this.ctx,l=n.position,u=i.size/2,d=r.top+u;let h,m=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+d,m=si(e.align,m,this.right-p);else{const b=this.columnSizes.reduce((_,w)=>Math.max(_,w.height),0);h=d+si(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const y=si(l,m,m+p);a.textAlign=s.textAlign(US(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Kd(a,n.text,y,h,i)}_computeTitleHeight(){const e=this.options.title,n=ci(e.font),i=Rr(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Go(e,this.left,this.right)&&Go(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Go(e,r.left,r.left+r.width)&&Go(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!lie(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=rie(r,i);r&&!s&&Gt(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Gt(n.onHover,[e,i,this],this)}else i&&Gt(n.onClick,[e,i,this],this)}}function sie(t,e,n,i,r){const s=aie(i,t,e,n),a=oie(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function aie(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+i.measureText(r).width}function oie(t,e,n){let i=t;return typeof e.text!="string"&&(i=jP(e,n)),i}function jP(t,e){const n=t.text?t.text.length:0;return e*n}function lie(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var cie={id:"legend",_element:ND,start(t,e,n){const i=t.legend=new ND({ctx:t.ctx,options:n,chart:t});xr.configure(t,i,n),xr.addBox(t,i)},stop(t){xr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;xr.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),h=Rr(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class LP extends ao{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Fn(i.text)?i.text.length:1;this._padding=Rr(i.padding);const s=r*ci(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:a}=this,l=a.align;let u=0,d,h,m;return this.isHorizontal()?(h=si(l,i,s),m=n+e,d=s-i):(a.position==="left"?(h=i+e,m=si(l,r,n),u=Dt*-.5):(h=s-e,m=si(l,n,r),u=Dt*.5),d=r-n),{titleX:h,titleY:m,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ci(n.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:u,rotation:d}=this._drawArgs(s);Kd(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:US(n.align),textBaseline:"middle",translation:[a,l]})}}function uie(t,e){const n=new LP({ctx:t.ctx,options:e,chart:t});xr.configure(t,n,e),xr.addBox(t,n),t.titleBlock=n}var die={id:"title",_element:LP,start(t,e,n){uie(t,n)},stop(t){const e=t.titleBlock;xr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;xr.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const od={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,u)=>l+u)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=t.length;s<a;++s){const u=t[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),h=t_(e,d);h<r&&(r=h,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function Jr(t,e){return e&&(Fn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ps(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function fie(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:a,value:l}=s.getLabelAndValue(r);return{chart:t,label:a,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function ID(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:a,boxHeight:l}=e,u=ci(e.bodyFont),d=ci(e.titleFont),h=ci(e.footerFont),m=s.length,p=r.length,y=i.length,b=Rr(e.padding);let _=b.height,w=0,x=i.reduce((D,O)=>D+O.before.length+O.lines.length+O.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,m&&(_+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),x){const D=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;_+=y*D+(x-y)*u.lineHeight+(x-1)*e.bodySpacing}p&&(_+=e.footerMarginTop+p*h.lineHeight+(p-1)*e.footerSpacing);let E=0;const C=function(D){w=Math.max(w,n.measureText(D).width+E)};return n.save(),n.font=d.string,Ot(t.title,C),n.font=u.string,Ot(t.beforeBody.concat(t.afterBody),C),E=e.displayColors?a+2+e.boxPadding:0,Ot(i,D=>{Ot(D.before,C),Ot(D.lines,C),Ot(D.after,C)}),E=0,n.font=h.string,Ot(t.footer,C),n.restore(),w+=b.width,{width:w,height:_}}function hie(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function gie(t,e,n,i){const{x:r,width:s}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&r+s+a>e.width||t==="right"&&r-s-a<0)return!0}function mie(t,e,n,i){const{x:r,width:s}=n,{width:a,chartArea:{left:l,right:u}}=t;let d="center";return i==="center"?d=r<=(l+u)/2?"left":"right":r<=s/2?d="left":r>=a-s/2&&(d="right"),gie(d,t,e,n)&&(d="center"),d}function PD(t,e,n){const i=n.yAlign||e.yAlign||hie(t,n);return{xAlign:n.xAlign||e.xAlign||mie(t,e,n,i),yAlign:i}}function pie(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function yie(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function jD(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=t,{xAlign:l,yAlign:u}=n,d=r+s,{topLeft:h,topRight:m,bottomLeft:p,bottomRight:y}=Td(a);let b=pie(e,l);const _=yie(e,u,d);return u==="center"?l==="left"?b+=d:l==="right"&&(b-=d):l==="left"?b-=Math.max(h,p)+r:l==="right"&&(b+=Math.max(m,y)+r),{x:yi(b,0,i.width-e.width),y:yi(_,0,i.height-e.height)}}function _g(t,e,n){const i=Rr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function LD(t){return Jr([],Ps(t))}function vie(t,e,n){return hl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function FD(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const FP={beforeTitle:Ns,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ns,beforeBody:Ns,beforeLabel:Ns,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Bt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ns,afterBody:Ns,beforeFooter:Ns,footer:Ns,afterFooter:Ns};function Ti(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?FP[e].call(n,i):r}class UD extends ao{static positioners=od;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new SP(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=vie(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Ti(i,"beforeTitle",this,e),s=Ti(i,"title",this,e),a=Ti(i,"afterTitle",this,e);let l=[];return l=Jr(l,Ps(r)),l=Jr(l,Ps(s)),l=Jr(l,Ps(a)),l}getBeforeBody(e,n){return LD(Ti(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Ot(e,s=>{const a={before:[],lines:[],after:[]},l=FD(i,s);Jr(a.before,Ps(Ti(l,"beforeLabel",this,s))),Jr(a.lines,Ti(l,"label",this,s)),Jr(a.after,Ps(Ti(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,n){return LD(Ti(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Ti(i,"beforeFooter",this,e),s=Ti(i,"footer",this,e),a=Ti(i,"afterFooter",this,e);let l=[];return l=Jr(l,Ps(r)),l=Jr(l,Ps(s)),l=Jr(l,Ps(a)),l}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],a=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(fie(this.chart,n[u]));return e.filter&&(l=l.filter((h,m,p)=>e.filter(h,m,p,i))),e.itemSort&&(l=l.sort((h,m)=>e.itemSort(h,m,i))),Ot(l,h=>{const m=FD(e.callbacks,h);r.push(Ti(m,"labelColor",this,h)),s.push(Ti(m,"labelPointStyle",this,h)),a.push(Ti(m,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const l=od[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=ID(this,i),d=Object.assign({},l,u),h=PD(this.chart,i,d),m=jD(i,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:m}=Td(l),{x:p,y}=e,{width:b,height:_}=n;let w,x,E,C,D,O;return s==="center"?(D=y+_/2,r==="left"?(w=p,x=w-a,C=D+a,O=D-a):(w=p+b,x=w+a,C=D-a,O=D+a),E=w):(r==="left"?x=p+Math.max(u,h)+a:r==="right"?x=p+b-Math.max(d,m)-a:x=this.caretX,s==="top"?(C=y,D=C-a,w=x-a,E=x+a):(C=y+_,D=C+a,w=x+a,E=x-a),O=C),{x1:w,x2:x,x3:E,y1:C,y2:D,y3:O}}drawTitle(e,n,i){const r=this.title,s=r.length;let a,l,u;if(s){const d=Cc(i.rtl,this.x,this.width);for(e.x=_g(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=ci(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<s;++u)n.fillText(r[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,r,s){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=s,h=ci(s.bodyFont),m=_g(this,"left",s),p=r.x(m),y=u<h.lineHeight?(h.lineHeight-u)/2:0,b=n.y+y;if(s.usePointStyle){const _={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=r.leftForLtr(p,d)+d/2,x=b+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,i_(e,_,w,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,i_(e,_,w,x)}else{e.lineWidth=dt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const _=r.leftForLtr(p,d),w=r.leftForLtr(r.xPlus(p,1),d-2),x=Td(a.borderRadius);Object.values(x).some(E=>E!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,r_(e,{x:_,y:b,w:d,h:u,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),r_(e,{x:w,y:b+1,w:d-2,h:u-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(_,b,d,u),e.strokeRect(_,b,d,u),e.fillStyle=a.backgroundColor,e.fillRect(w,b+1,d-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:h}=i,m=ci(i.bodyFont);let p=m.lineHeight,y=0;const b=Cc(i.rtl,this.x,this.width),_=function(k){n.fillText(k,b.x(e.x+y),e.y+p/2),e.y+=p+s},w=b.textAlign(a);let x,E,C,D,O,N,I;for(n.textAlign=a,n.textBaseline="middle",n.font=m.string,e.x=_g(this,w,i),n.fillStyle=i.bodyColor,Ot(this.beforeBody,_),y=l&&w!=="right"?a==="center"?d/2+h:d+2+h:0,D=0,N=r.length;D<N;++D){for(x=r[D],E=this.labelTextColors[D],n.fillStyle=E,Ot(x.before,_),C=x.lines,l&&C.length&&(this._drawColorBox(n,e,D,b,i),p=Math.max(m.lineHeight,u)),O=0,I=C.length;O<I;++O)_(C[O]),p=m.lineHeight;Ot(x.after,_)}y=0,p=m.lineHeight,Ot(this.afterBody,_),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let a,l;if(s){const u=Cc(i.rtl,this.x,this.width);for(e.x=_g(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=ci(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(r[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:a}=this,{x:l,y:u}=e,{width:d,height:h}=i,{topLeft:m,topRight:p,bottomLeft:y,bottomRight:b}=Td(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+m,u),a==="top"&&this.drawCaret(e,n,i,r),n.lineTo(l+d-p,u),n.quadraticCurveTo(l+d,u,l+d,u+p),a==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(l+d,u+h-b),n.quadraticCurveTo(l+d,u+h,l+d-b,u+h),a==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(l+y,u+h),n.quadraticCurveTo(l,u+h,l,u+h-y),a==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(l,u+m),n.quadraticCurveTo(l,u,l+m,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=od[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=ID(this,e),u=Object.assign({},a,this._size),d=PD(n,e,u),h=jD(e,u,d,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Rr(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),mP(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),pP(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!Sm(i,r),a=this._positionChanged(r,n);(s||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,i),l=this._positionChanged(a,e),u=n||!Sm(a,s)||l;return u&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,a=od[s.position].call(this,e,n);return a!==!1&&(i!==a.x||r!==a.y)}}var bie={id:"tooltip",_element:UD,positioners:od,afterInit(t,e,n){n&&(t.tooltip=new UD({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:FP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _ie=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Sie(t,e,n,i){const r=t.indexOf(e);if(r===-1)return _ie(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const wie=(t,e)=>t===null?null:yi(Math.round(t),0,e);function zD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class xie extends Yc{static id="category";static defaults={ticks:{callback:zD}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Bt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:Sie(i,e,it(n,e),this._addedLabels),wie(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return zD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Eie(t,e){const n=[],{bounds:r,step:s,min:a,max:l,precision:u,count:d,maxTicks:h,maxDigits:m,includeBounds:p}=t,y=s||1,b=h-1,{min:_,max:w}=e,x=!Bt(a),E=!Bt(l),C=!Bt(d),D=(w-_)/(m+1);let O=UO((w-_)/b/y)*y,N,I,k,j;if(O<1e-14&&!x&&!E)return[{value:_},{value:w}];j=Math.ceil(w/O)-Math.floor(_/O),j>b&&(O=UO(j*O/b/y)*y),Bt(u)||(N=Math.pow(10,u),O=Math.ceil(O*N)/N),r==="ticks"?(I=Math.floor(_/O)*O,k=Math.ceil(w/O)*O):(I=_,k=w),x&&E&&s&&IJ((l-a)/s,O/1e3)?(j=Math.round(Math.min((l-a)/O,h)),O=(l-a)/j,I=a,k=l):C?(I=x?a:I,k=E?l:k,j=d-1,O=(k-I)/j):(j=(k-I)/O,Ed(j,Math.round(j),O/1e3)?j=Math.round(j):j=Math.ceil(j));const H=Math.max(zO(O),zO(I));N=Math.pow(10,Bt(u)?H:u),I=Math.round(I*N)/N,k=Math.round(k*N)/N;let $=0;for(x&&(p&&I!==a?(n.push({value:a}),I<a&&$++,Ed(Math.round((I+$*O)*N)/N,a,HD(a,D,t))&&$++):I<a&&$++);$<j;++$){const G=Math.round((I+$*O)*N)/N;if(E&&G>l)break;n.push({value:G})}return E&&p&&k!==l?n.length&&Ed(n[n.length-1].value,l,HD(l,D,t))?n[n.length-1].value=l:n.push({value:l}):(!E||k===l)&&n.push({value:k}),n}function HD(t,e,{horizontal:n,minRotation:i}){const r=Vs(i),s=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class Rie extends Yc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Bt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=u=>r=n?r:u,l=u=>s=i?s:u;if(e){const u=Nc(r),d=Nc(s);u<0&&d<0?l(0):u>0&&d>0&&a(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||a(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=Eie(r,s);return e.bounds==="ticks"&&PJ(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return HS(e,this.chart.options.locale,this.options.ticks.format)}}class Cie extends Rie{static id="linear";static defaults={ticks:{callback:lP.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ui(e)?e:0,this.max=ui(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Vs(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const pp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ni=Object.keys(pp);function BD(t,e){return t-e}function $D(t,e){if(Bt(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),ui(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(Gd(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,r)),+a)}function VD(t,e,n,i){const r=Ni.length;for(let s=Ni.indexOf(t);s<r-1;++s){const a=pp[Ni[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=i)return Ni[s]}return Ni[r-1]}function Tie(t,e,n,i,r){for(let s=Ni.length-1;s>=Ni.indexOf(n);s--){const a=Ni[s];if(pp[a].common&&t._adapter.diff(r,i,a)>=e-1)return a}return Ni[n?Ni.indexOf(n):0]}function Aie(t){for(let e=Ni.indexOf(t)+1,n=Ni.length;e<n;++e)if(pp[Ni[e]].common)return Ni[e]}function qD(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=FS(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function Oie(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let l,u;for(l=s;l<=a;l=+r.add(l,1,i))u=n[l],u>=0&&(e[u].major=!0);return e}function WD(t,e,n){const i=[],r={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],r[l]=a,i.push({value:l,major:!1});return s===0||!n?i:Oie(t,i,r,n)}class GD extends Yc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new fte._date(e.adapters.date);r.init(n),xd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:$D(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=ui(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=ui(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,l=zJ(r,s,a);return this._unit=n.unit||(i.autoSkip?VD(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Tie(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Aie(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),WD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=yi(n,0,a),i=yi(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||VD(s.minUnit,n,i,this._getLabelCapacity(n)),l=it(r.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=Gd(u)||u===!0,h={};let m=n,p,y;if(d&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,d?"day":a),e.diff(i,n,a)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+a);const b=r.ticks.source==="data"&&this.getDataTimestamps();for(p=m,y=0;p<i;p=+e.add(p,l,a),y++)qD(h,p,b);return(p===i||r.bounds==="ticks"||y===1)&&qD(h,p,b),Object.keys(h).sort(BD).map(_=>+_)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,a=n||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,r){const s=this.options,a=s.ticks.callback;if(a)return Gt(a,[e,n,i],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,h=u&&l[u],m=d&&l[d],p=i[n],y=d&&m&&p&&p.major;return this._adapter.format(e,r||(y?m:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Vs(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,WD(this,[e],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push($D(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return BJ(e.sort(BD))}}function Sg(t,e,n){let i=0,r=t.length-1,s,a,l,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Yo(t,"pos",e)),{pos:s,time:l}=t[i],{pos:a,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Yo(t,"time",e)),{time:s,pos:l}=t[i],{time:a,pos:u}=t[r]);const d=a-s;return d?l+(u-l)*(e-s)/d:l}class hre extends GD{static id="timeseries";static defaults=GD.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Sg(n,this.min),this._tableRange=Sg(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let a,l,u,d,h;for(a=0,l=e.length;a<l;++a)d=e[a],d>=n&&d<=i&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,l=r.length;a<l;++a)h=r[a+1],u=r[a-1],d=r[a],Math.round((h+u)/2)!==d&&s.push({time:d,pos:a/(l-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Sg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Sg(this._table,i*this._tableRange+this._minPos,!0)}}const UP="label";function YD(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Die(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function zP(t,e){t.labels=e}function HP(t,e,n=UP){const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(a=>a[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function kie(t,e=UP){const n={labels:[],datasets:[]};return zP(n,t.labels),HP(n,t.datasets,e),n}function Mie(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:l,options:u,plugins:d=[],fallbackContent:h,updateMode:m,...p}=t,y=A.useRef(null),b=A.useRef(null),_=()=>{y.current&&(b.current=new hp(y.current,{type:a,data:kie(l,s),options:u&&{...u},plugins:d}),YD(e,b.current))},w=()=>{YD(e,null),b.current&&(b.current.destroy(),b.current=null)};return A.useEffect(()=>{!r&&b.current&&u&&Die(b.current,u)},[r,u]),A.useEffect(()=>{!r&&b.current&&zP(b.current.config.data,l.labels)},[r,l.labels]),A.useEffect(()=>{!r&&b.current&&l.datasets&&HP(b.current.config.data,l.datasets,s)},[r,l.datasets]),A.useEffect(()=>{b.current&&(r?(w(),setTimeout(_)):b.current.update(m))},[r,u,l.labels,l.datasets,m]),A.useEffect(()=>{b.current&&(w(),setTimeout(_))},[a]),A.useEffect(()=>(_(),()=>w()),[]),R.jsx("canvas",{ref:y,role:"img",height:n,width:i,...p,children:h})}const Nie=A.forwardRef(Mie);function BP(t,e){return hp.register(e),A.forwardRef((n,i)=>R.jsx(Nie,{...n,ref:i,type:t}))}const Iie=BP("line",ute),Pie=BP("pie",dte);hp.register(xie,Cie,Lne,gp,die,bie,cie,Tne,iie);function jie(){const{data:t=[],isLoading:e,error:n}=Wm(),{data:i=[],isLoading:r,error:s}=Gm(),{isInitialized:a}=vn(),{init:l,cleanup:u}=no(),d=e||r;A.useEffect(()=>(a||l(),()=>{u()}),[l,a,u]);const h=A.useMemo(()=>{if(d)return{};const b=t.reduce((ae,be)=>{const L=be.work_center||"Unknown";return ae[L]||(ae[L]={[Hs.ACTIVE]:0,[Hs.INACTIVE]:0,[Hs.MAINTENANCE]:0}),ae[L][be.status]=(ae[L][be.status]||0)+1,ae},{}),_=new Date,w=new Date(_),x=_.getDay(),E=x===0?6:x-1;w.setUTCDate(_.getUTCDate()-E),w.setUTCHours(0,0,0,0);const C=i.filter(ae=>ae.completion_date?new Date(ae.completion_date)>=w:!1).length,D=i.filter(ae=>ae.status==="IN PROGRESS"||ae.status==="SCHEDULED").length,O=i.filter(ae=>ae.delivery_date?new Date(ae.delivery_date)<_&&(ae.quantity_completed||0)<(ae.quantity||0):!1).length,N=t.filter(ae=>ae.status===Hs.ACTIVE).length,I={},k=new Date(_);k.setUTCDate(_.getUTCDate()-7);const j=new Date(_);j.setUTCDate(_.getUTCDate()+7),i.forEach(ae=>{if(ae.scheduled_start_time){const be=new Date(ae.scheduled_start_time);if(be>=k&&be<=j){const L=be.toISOString().split("T")[0];I[L]=(I[L]||0)+1}}});const H=i.filter(ae=>ae.scheduled_start_time?new Date(ae.scheduled_start_time)>=w:!1),$=H.filter(ae=>ae.cost&&ae.cost>0).map(ae=>ae.cost),G=H.filter(ae=>ae.duration&&ae.duration>0).map(ae=>ae.duration),se=$.length>0?$.reduce((ae,be)=>ae+be,0)/$.length:0,pe=G.length>0?G.reduce((ae,be)=>ae+be,0)/G.length:0,ve={},B={},X=["STAMPA","CONFEZIONAMENTO"],me=["ZANICA","BUSTO_GAROLFO"];return X.forEach(ae=>{const be=ae.toLowerCase();ve[be]={},B[be]={},me.forEach(L=>{const J=L==="BUSTO_GAROLFO"?"busto_garolfo":L.toLowerCase(),ne=i.filter(Se=>!Se.work_center||!Se.department?!1:Se.work_center===L&&Se.department===ae),ie=ne.filter(Se=>Se.cost&&Se.cost>0).map(Se=>Se.cost),he=ie.length>0?ie.reduce((Se,ke)=>Se+ke,0)/ie.length:0,ge=ne.filter(Se=>Se.duration&&Se.duration>0).map(Se=>Se.duration),Re=ge.length>0?ge.reduce((Se,ke)=>Se+ke,0)/ge.length:0;ve[be][J]=he,B[be][J]=Re})}),{machinesByWorkCenter:b,completedThisWeek:C,tasksInWip:D,delayedTasks:O,activeMachines:N,totalMachines:t.length,totalOrders:i.length,tasksPerDay:I,avgWeeklyCost:se,avgWeeklyDuration:pe,weeklyOrdersCount:H.length,costMatrix:ve,durationMatrix:B}},[t,i,d]),m=A.useMemo(()=>{if(!h.tasksPerDay)return null;const b=[],_=new Date;for(let w=-7;w<=7;w++){const x=new Date(_);x.setUTCDate(_.getUTCDate()+w);const E=x.toISOString().split("T")[0];b.push(E)}return{labels:b.map(w=>{const x=new Date(w);return Wn(new Date(x),"dd/MM")}),datasets:[{label:"Lavori Iniziati",data:b.map(w=>h.tasksPerDay[w]||0),borderColor:"rgb(37, 99, 235)",backgroundColor:"rgba(37, 99, 235, 0.1)",tension:.4,borderWidth:2,pointBackgroundColor:"rgb(37, 99, 235)",pointBorderColor:"rgb(37, 99, 235)",pointRadius:4,pointHoverRadius:6,fill:!0}]}},[h.tasksPerDay]),p={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{stepSize:1,color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}},x:{grid:{color:"rgba(156, 163, 175, 0.2)",drawBorder:!1},ticks:{color:"rgba(156, 163, 175, 0.8)",font:{size:12,family:"Inter, sans-serif"},padding:8}}},elements:{point:{hoverBorderWidth:3}}},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:10,usePointStyle:!0,font:{size:10}}}}};return d?R.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:R.jsx("div",{className:"text-center py-1 text-muted-foreground text-[10px]",children:"Caricamento dashboard..."})}):n||s?R.jsx("div",{className:"p-1 bg-card rounded shadow-sm border",children:R.jsxs("div",{className:"text-center py-1 text-destructive text-[10px]",children:["Errore nel caricamento dei dati: ",n?.message||s?.message]})}):R.jsxs("div",{className:"space-y-6",children:[R.jsx("div",{className:"flex justify-between items-center",children:R.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard Produzione"})}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[R.jsxs(hr,{className:"p-6",children:[R.jsx(gr,{className:"pb-2",children:R.jsx(mr,{className:"text-sm font-medium text-muted-foreground",children:"Macchine Totali"})}),R.jsxs(pr,{children:[R.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalMachines}),R.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Attive: ",h.activeMachines]})]})]}),R.jsxs(hr,{className:"p-6",children:[R.jsx(gr,{className:"pb-2",children:R.jsx(mr,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Totali"})}),R.jsxs(pr,{children:[R.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalOrders}),R.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Totali nel sistema"})]})]}),R.jsxs(hr,{className:"p-6",children:[R.jsx(gr,{className:"pb-2",children:R.jsx(mr,{className:"text-sm font-medium text-muted-foreground",children:"Completati Questa Settimana"})}),R.jsxs(pr,{children:[R.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.completedThisWeek}),R.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lavori completati"})]})]}),R.jsxs(hr,{className:"p-6",children:[R.jsx(gr,{className:"pb-2",children:R.jsx(mr,{className:"text-sm font-medium text-muted-foreground",children:"Lavori in Corso"})}),R.jsxs(pr,{children:[R.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.tasksInWip}),R.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In progress/scheduled"})]})]}),R.jsxs(hr,{className:"p-6 border-destructive/20 bg-destructive/5",children:[R.jsx(gr,{className:"pb-2",children:R.jsx(mr,{className:"text-sm font-medium text-destructive",children:"Lavori Ritardati"})}),R.jsxs(pr,{children:[R.jsx("div",{className:"text-3xl font-bold text-destructive",children:h.delayedTasks}),R.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Oltre la scadenza"})]})]})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[R.jsxs(hr,{className:"p-6",children:[R.jsx(gr,{className:"pb-2",children:R.jsx(mr,{className:"text-sm font-medium text-muted-foreground",children:"Ordini Settimanali"})}),R.jsxs(pr,{children:[R.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.weeklyOrdersCount}),R.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Questa Settimana"})]})]}),R.jsxs(hr,{className:"p-6",children:[R.jsx(gr,{className:"pb-2",children:R.jsx(mr,{className:"text-sm font-medium text-muted-foreground",children:"Costo Medio"})}),R.jsxs(pr,{children:[R.jsxs("div",{className:"text-3xl font-bold text-foreground",children:["",h.avgWeeklyCost.toFixed(2)]}),R.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]}),R.jsxs(hr,{className:"p-6",children:[R.jsx(gr,{className:"pb-2",children:R.jsx(mr,{className:"text-sm font-medium text-muted-foreground",children:"Durata Media"})}),R.jsxs(pr,{children:[R.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[h.avgWeeklyDuration.toFixed(1),"h"]}),R.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per Lavoro Questa Settimana"})]})]})]}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[R.jsxs(hr,{children:[R.jsx(gr,{children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx(mr,{children:"Lavori Iniziati per Giorno (14 giorni)"}),R.jsx("div",{className:"flex items-center gap-3 text-xs",children:R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx("span",{className:"inline-block w-3 h-1 bg-primary"})," Lavori"]})})]})}),R.jsx(pr,{children:R.jsx("div",{className:"h-64",children:m&&R.jsx(Iie,{data:m,options:p,height:256})})})]}),R.jsxs(hr,{children:[R.jsx(gr,{children:R.jsx(mr,{children:"Macchine per Centro di Lavoro e Stato"})}),R.jsx(pr,{children:R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(h.machinesByWorkCenter||{}).map(([b,_])=>{const w={labels:Object.keys(_).map(x=>x.charAt(0).toUpperCase()+x.slice(1).toLowerCase()),datasets:[{data:Object.values(_),backgroundColor:["rgba(37, 99, 235, 0.8)","rgba(107, 114, 128, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgba(37, 99, 235, 1)","rgba(107, 114, 128, 1)","rgba(156, 163, 175, 1)"],borderWidth:2}]};return R.jsxs("div",{className:"text-center",children:[R.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:b}),R.jsx("div",{className:"h-32",children:R.jsx(Pie,{data:w,options:y,height:150})}),R.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:Object.entries(_).map(([x,E])=>R.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[R.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:x==="ACTIVE"?"rgba(37, 99, 235, 0.8)":x==="INACTIVE"?"rgba(107, 114, 128, 0.8)":"rgba(156, 163, 175, 0.8)"}}),R.jsxs("span",{children:[x,": ",E]})]},x))})]},b)})})})]})]}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[R.jsxs(hr,{children:[R.jsx(gr,{children:R.jsx(mr,{children:"Costo Medio per Centro di Lavoro e Reparto"})}),R.jsx(pr,{children:R.jsx("div",{className:"overflow-x-auto",children:R.jsxs("table",{className:"w-full",children:[R.jsx("thead",{children:R.jsxs("tr",{className:"border-b border-border",children:[R.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),R.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),R.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),R.jsxs("tbody",{children:[R.jsxs("tr",{className:"border-b border-border",children:[R.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),R.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["",h.costMatrix?.stampa?.zanica?.toFixed(2)||"0.00"]}),R.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["",h.costMatrix?.stampa?.busto_garolfo?.toFixed(2)||"0.00"]})]}),R.jsxs("tr",{children:[R.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),R.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["",h.costMatrix?.confezionamento?.zanica?.toFixed(2)||"0.00"]}),R.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:["",h.costMatrix?.confezionamento?.busto_garolfo?.toFixed(2)||"0.00"]})]})]})]})})})]}),R.jsxs(hr,{children:[R.jsx(gr,{children:R.jsx(mr,{children:"Durata Media per Centro di Lavoro e Reparto"})}),R.jsx(pr,{children:R.jsx("div",{className:"overflow-x-auto",children:R.jsxs("table",{className:"w-full",children:[R.jsx("thead",{children:R.jsxs("tr",{className:"border-b border-border",children:[R.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground"}),R.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"ZANICA"}),R.jsx("th",{className:"text-left py-2 px-2 text-sm font-medium text-muted-foreground",children:"BUSTO GAROLFO"})]})}),R.jsxs("tbody",{children:[R.jsxs("tr",{className:"border-b border-border",children:[R.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"STAMPA"}),R.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.zanica?.toFixed(1)||"0.0","h"]}),R.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.stampa?.busto_garolfo?.toFixed(1)||"0.0","h"]})]}),R.jsxs("tr",{children:[R.jsx("td",{className:"py-2 px-2 text-sm font-medium text-muted-foreground",children:"CONFEZIONAMENTO"}),R.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.zanica?.toFixed(1)||"0.0","h"]}),R.jsxs("td",{className:"py-2 px-2 text-sm text-foreground",children:[h.durationMatrix?.confezionamento?.busto_garolfo?.toFixed(1)||"0.0","h"]})]})]})]})})})]})]})]})}function Lie(){const[t,e]=A.useState({email:"",password:"",workCenter:""}),[n,i]=A.useState(!1),[r,s]=A.useState({}),{signIn:a,error:l}=ll(),{setSelectedWorkCenter:u}=vn(),d=cs(),{handleAsync:h}=us("LoginPage"),m=_=>{const{name:w,value:x}=_.target;e(E=>({...E,[w]:x})),r[w]&&s(E=>({...E,[w]:""}))},p=()=>{const _={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(_.email="Inserisci un indirizzo email valido"):_.email="Email richiesta",t.password?t.password.length<6&&(_.password="La password deve essere di almeno 6 caratteri"):_.password="Password richiesta",t.workCenter||(_.workCenter="Centro di lavoro richiesto"),s(_),Object.keys(_).length===0},y=async _=>{_.preventDefault(),p()&&(i(!0),await h(async()=>{(await a(t.email,t.password)).error||(u(t.workCenter),d("/",{replace:!0}))},{context:"Login",fallbackMessage:"Accesso fallito. Riprova.",onFinally:()=>i(!1)}))},b=_=>r[_]?R.jsx("span",{className:"text-sm text-red-600",children:r[_]}):null;return R.jsx("div",{className:"min-h-screen flex",children:R.jsxs("div",{className:"container relative grid flex-col items-center justify-center sm:max-w-none lg:grid-cols-2 lg:px-0",children:[R.jsxs("div",{className:"relative hidden h-full flex-col bg-muted p-10 text-white dark:border-r lg:flex",children:[R.jsx("div",{className:"absolute inset-0 bg-primary"}),R.jsxs("div",{className:"relative z-20 flex items-center text-lg font-medium",children:[R.jsx("img",{className:"h-6 mr-2",src:"/scheduler-logo.png",alt:"Scheduler"}),"Scheduler"]})]}),R.jsx("div",{className:"lg:p-8",children:R.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[R.jsx("div",{className:"flex flex-col space-y-2 text-center",children:R.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Accedi"})}),R.jsxs("form",{className:"space-y-8",onSubmit:y,children:[l&&R.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:l}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{htmlFor:"email",children:"Indirizzo Email"}),R.jsx(Vn,{id:"email",name:"email",type:"email",value:t.email,onChange:m,placeholder:"Inserisci la tua email",className:r.email?"border-red-500":"",disabled:n,autoComplete:"email"}),b("email")]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{htmlFor:"password",children:"Password"}),R.jsx(Vn,{id:"password",name:"password",type:"password",value:t.password,onChange:m,placeholder:"Inserisci la tua password",className:r.password?"border-red-500":"",disabled:n,autoComplete:"current-password"}),b("password")]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{htmlFor:"workCenter",children:"Centro di Lavoro"}),R.jsxs("select",{id:"workCenter",name:"workCenter",value:t.workCenter,onChange:m,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${r.workCenter?"border-red-500":""}`,children:[R.jsx("option",{value:"",children:"Seleziona un centro di lavoro"}),R.jsx("option",{value:yt.ZANICA,children:yt.ZANICA}),R.jsx("option",{value:yt.BUSTO_GAROLFO,children:yt.BUSTO_GAROLFO}),R.jsx("option",{value:yt.BOTH,children:yt.BOTH})]}),b("workCenter")]}),R.jsx(Jt,{type:"submit",className:"w-full cursor-pointer",disabled:n,children:n?"Accesso in corso...":"Accedi"})]}),R.jsx(Pn,{to:"/forgot-password",className:"text-sm text-center hover:underline",children:"Password dimenticata?"}),!1]})})]})})}function Fie(){const[t,e]=A.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[n,i]=A.useState(!1),[r,s]=A.useState({}),{signUp:a,error:l}=ll(),u=cs(),{handleAsync:d}=us("SignupPage"),h=b=>{const{name:_,value:w}=b.target;e(x=>({...x,[_]:w})),r[_]&&s(x=>({...x,[_]:""}))},m=()=>{const b={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(b.email="Inserisci un indirizzo email valido"):b.email="Email richiesta",t.password?t.password.length<6&&(b.password="La password deve essere di almeno 6 caratteri"):b.password="Password richiesta",t.confirmPassword?t.password!==t.confirmPassword&&(b.confirmPassword="Le password non coincidono"):b.confirmPassword="Conferma la tua password",t.firstName.trim()||(b.firstName="Nome richiesto"),t.lastName.trim()||(b.lastName="Cognome richiesto"),s(b),Object.keys(b).length===0},p=async b=>{b.preventDefault(),m()&&(i(!0),await d(async()=>{const _={first_name:t.firstName,last_name:t.lastName,full_name:`${t.firstName} ${t.lastName}`};(await a(t.email,t.password,_)).error||u("/",{replace:!0})},{context:"Signup",fallbackMessage:"Creazione account fallita. Riprova.",onFinally:()=>i(!1)}))},y=b=>r[b]?R.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:r[b]}):null;return R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:R.jsxs("div",{className:"max-w-md w-full space-y-4",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Crea Account"}),R.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Registrati per iniziare con il tuo account"})]}),R.jsxs("form",{onSubmit:p,className:"mt-4 space-y-4",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{htmlFor:"firstName",children:"Nome"}),R.jsx(Vn,{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:h,placeholder:"Inserisci il tuo nome",className:r.firstName?"border-red-500":"",disabled:n,autoComplete:"given-name"}),y("firstName")]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{htmlFor:"lastName",children:"Cognome"}),R.jsx(Vn,{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:h,placeholder:"Inserisci il tuo cognome",className:r.lastName?"border-red-500":"",disabled:n,autoComplete:"family-name"}),y("lastName")]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{htmlFor:"email",children:"Indirizzo Email"}),R.jsx(Vn,{type:"email",id:"email",name:"email",value:t.email,onChange:h,placeholder:"Inserisci la tua email",className:r.email?"border-red-500":"",disabled:n,autoComplete:"email"}),y("email")]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{htmlFor:"password",children:"Password"}),R.jsx(Vn,{type:"password",id:"password",name:"password",value:t.password,onChange:h,placeholder:"Crea una password",className:r.password?"border-red-500":"",disabled:n,autoComplete:"new-password"}),y("password")]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{htmlFor:"confirmPassword",children:"Conferma Password"}),R.jsx(Vn,{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:h,placeholder:"Conferma la tua password",className:r.confirmPassword?"border-red-500":"",disabled:n,autoComplete:"new-password"}),y("confirmPassword")]})]}),l&&R.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:R.jsxs("div",{className:"flex",children:[R.jsx("div",{className:"flex-shrink-0",children:R.jsx("span",{className:"text-red-400",children:""})}),R.jsx("div",{className:"ml-3",children:R.jsx("p",{className:"text-[10px] text-red-800",children:l})})]})}),R.jsx(Jt,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Creazione Account...":"Crea Account"})]}),R.jsxs("div",{className:"text-center space-y-4",children:[R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"absolute inset-0 flex items-center",children:R.jsx("div",{className:"w-full border-t border-gray-300"})}),R.jsx("div",{className:"relative flex justify-center text-[10px]",children:R.jsx("span",{className:"px-1 bg-gray-50 text-gray-500",children:"Hai gi un account?"})})]}),R.jsx(Pn,{to:"/login",children:R.jsx(Jt,{variant:"outline",size:"sm",className:"w-full",children:"Accedi"})})]})]})})}function Uie(){const[t,e]=A.useState(""),[n,i]=A.useState(!1),[r,s]=A.useState(!1),[a,l]=A.useState(""),{resetPassword:u}=ll(),{handleAsync:d}=us("ForgotPasswordPage"),h=async m=>{if(m.preventDefault(),!t.trim()){l("Inserisci il tuo indirizzo email");return}if(!/\S+@\S+\.\S+/.test(t)){l("Inserisci un indirizzo email valido");return}i(!0),l(""),await d(async()=>{const p=await u(t);p.error?l(p.error||"Invio email di reset fallito"):s(!0)},{context:"Password Reset",fallbackMessage:"Invio email di reset fallito. Riprova.",onFinally:()=>i(!1)})};return r?R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-2 sm:px-6 lg:px-8",children:R.jsxs("div",{className:"max-w-md w-full space-y-4",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Controlla la Tua Email"}),R.jsxs("p",{className:"mt-2 text-[10px] text-gray-600",children:["Abbiamo inviato un link per il reset della password a ",t]})]}),R.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-1",children:R.jsxs("div",{className:"flex",children:[R.jsx("div",{className:"flex-shrink-0",children:R.jsx("span",{className:"text-green-400 text-[10px]",children:""})}),R.jsx("div",{className:"ml-3",children:R.jsx("p",{className:"text-[10px] text-green-800",children:"Se non vedi l'email, controlla la cartella spam."})})]})}),R.jsx("div",{className:"text-center",children:R.jsx(Pn,{to:"/login",children:R.jsx(Jt,{size:"sm",className:"w-full",children:"Torna all'Accesso"})})})]})}):R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-2 sm:px-6 lg:px-8",children:R.jsxs("div",{className:"max-w-md w-full space-y-4",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"text-[10px] font-bold text-gray-900",children:"Reset Password"}),R.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"Inserisci la tua email per ricevere un link per il reset della password"})]}),R.jsxs("form",{onSubmit:h,className:"mt-4 space-y-4",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx(ai,{htmlFor:"email",children:"Indirizzo Email"}),R.jsx(Vn,{type:"email",id:"email",name:"email",value:t,onChange:m=>e(m.target.value),placeholder:"Inserisci la tua email",disabled:n,autoComplete:"email"})]}),a&&R.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-1",children:R.jsxs("div",{className:"flex",children:[R.jsx("div",{className:"flex-shrink-0",children:R.jsx("span",{className:"text-red-400",children:""})}),R.jsx("div",{className:"ml-3",children:R.jsx("p",{className:"text-[10px] text-red-800",children:a})})]})}),R.jsx(Jt,{type:"submit",size:"sm",className:"w-full",disabled:n,children:n?"Invio...":"Invia Link di Reset"})]}),R.jsx("div",{className:"text-center",children:R.jsx(Pn,{to:"/login",className:"text-[10px] text-navy-800 hover:text-navy-600",children:"Torna all'Accesso"})})]})})}const zie=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`;if(typeof document<"u"){const t=document.createElement("style");t.textContent=zie,document.head.appendChild(t)}const Hie=()=>{const{user:t,loading:e}=ll();return e?R.jsx("div",{className:"auth-loading",style:{padding:"20px",textAlign:"center"},children:R.jsxs("div",{className:"auth-loading__container",children:[R.jsx("div",{className:"auth-loading__spinner",style:{border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 2s linear infinite",margin:"0 auto 10px"}}),R.jsx("p",{children:"Checking authentication..."})]})}):t?R.jsx(o1,{}):R.jsx(a1,{to:"/login",replace:!0})},Bie=()=>{const{forms:t,modals:e,hideConfirmDialog:n,conflictDialog:i,hideConflictDialog:r,showConflictDialog:s,schedulingLoading:a,selectedWorkCenter:l}=vn(),u={...t.confirmDialog||{},isOpen:e.confirmDialog||!1},{cleanup:d}=no(),{resolveConflictByShunting:h,scheduleTaskFromSlot:m}=af(),{user:p,signOut:y}=ll(),b=ji();fG();const _=async w=>{if(i.details){try{const x=i.details.schedulingParams?i.details.schedulingParams.originalConflict:i.details;console.log(" CONFLICT: Using resolveConflictByShunting",w);const E=await h(x,w,b);E.error?Fa(E.error):ol(`Task spostato con successo verso ${w==="left"?"sinistra":"destra"}`)}catch(x){console.error(" SHUNTING ERROR:",x),Fa("Errore durante lo spostamento del task")}r()}};return A.useEffect(()=>()=>{d()},[d]),R.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[R.jsx(Uq,{}),R.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[R.jsx(zq,{}),R.jsx("main",{className:"flex-1 overflow-auto bg-background min-w-0 p-4",id:"main-content",children:R.jsx("div",{className:"max-w-full",children:R.jsx(o1,{})})})]}),R.jsx(BU,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3}),u.isOpen&&(confirm(`${u.title}

${u.message}`)&&u.onConfirm?.(),n(),null),i.isOpen&&i.details&&R.jsx("div",{className:"fixed top-4 right-4 z-50 bg-white border border-orange-200 rounded-lg shadow-xl p-4 max-w-md transform transition-all duration-300 ease-in-out",children:R.jsxs("div",{className:"flex items-start space-x-3",children:[R.jsx("div",{className:"flex-shrink-0",children:R.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:R.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})})}),R.jsxs("div",{className:"flex-1",children:[R.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"Conflitto Rilevato"}),R.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Il lavoro ",R.jsx("span",{className:"font-semibold text-orange-600",children:i.details.draggedTask?.odp_number})," si sovrappone con ",R.jsx("span",{className:"font-semibold text-orange-600",children:i.details.conflictingTask?.odp_number}),".",R.jsx("br",{}),"Dove vuoi spostarlo?"]}),R.jsxs("div",{className:"flex space-x-2",children:[R.jsx("button",{onClick:()=>_("left"),className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:" Sposta a Sinistra"}),R.jsx("button",{onClick:()=>_("right"),className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors",children:"Sposta a Destra "}),R.jsx("button",{onClick:()=>r(),className:"px-3 py-1.5 bg-gray-300 text-gray-700 text-sm rounded-md hover:bg-gray-400 transition-colors",children:"Annulla"})]})]})]})})]})};function $ie(){return R.jsx(G5,{children:R.jsx(eq,{children:R.jsxs(tF,{children:[R.jsx(Mn,{path:"/login",element:R.jsx(Lie,{})}),R.jsx(Mn,{path:"/signup",element:R.jsx(Fie,{})}),R.jsx(Mn,{path:"/forgot-password",element:R.jsx(Uie,{})}),R.jsx(Mn,{path:"/",element:R.jsx(Hie,{}),children:R.jsxs(Mn,{element:R.jsx(Bie,{}),children:[R.jsx(Mn,{index:!0,element:R.jsx(jie,{})}),R.jsx(Mn,{path:"machinery",element:R.jsx(hG,{})}),R.jsx(Mn,{path:"machinery/add",element:R.jsx(hA,{})}),R.jsx(Mn,{path:"machinery/:id/edit",element:R.jsx(hA,{})}),R.jsx(Mn,{path:"machinery/:machineId/calendar",element:R.jsx(yX,{})}),R.jsx(Mn,{path:"phases",element:R.jsx(vX,{})}),R.jsx(Mn,{path:"phases/add",element:R.jsx(pO,{})}),R.jsx(Mn,{path:"phases/:id/edit",element:R.jsx(pO,{})}),R.jsx(Mn,{path:"backlog",element:R.jsx(_X,{})}),R.jsx(Mn,{path:"backlog/add",element:R.jsx(yO,{})}),R.jsx(Mn,{path:"backlog/:id/edit",element:R.jsx(yO,{})}),R.jsx(Mn,{path:"scheduler",element:R.jsx(eJ,{})})]})}),R.jsx(Mn,{path:"*",element:R.jsx(a1,{to:"/",replace:!0})})]})})})}const Vie=new iU({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),qie="/scheduler_demo/";cL.createRoot(document.getElementById("root")).render(R.jsx(re.StrictMode,{children:R.jsx(rU,{client:Vie,children:R.jsx(EF,{basename:qie,children:R.jsx(yq,{children:R.jsx($ie,{})})})})}));export{Vq as A,Jt as B,z_ as D,re as R,ore as S,cs as a,li as b,are as c,dre as d,us as e,ure as f,sre as g,JT as h,sf as i,R as j,Wn as k,ji as l,lre as m,Q4 as n,af as o,tl as p,A as r,fn as s,ei as t,vn as u};
